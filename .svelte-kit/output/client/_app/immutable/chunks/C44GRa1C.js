import{a as n,c,d as r,b as o,u as d,q as l,l as u,o as m,w as g,g as p}from"./DI_EjB8G.js";async function f(a,t,s){var e;return(await n(c(o,"activities"),{userId:(e=globalThis==null?void 0:globalThis.localStorage)==null?void 0:e.getItem("userId"),eventType:a,referenceId:t,metadata:s,timestampStart:Date.now()})).id}async function v(a){const t=r(o,"activities",a);await d(t,{timestampEnd:Date.now()})}async function y(a,t,s){var e;const i=Date.now();await n(c(o,"activities"),{userId:(e=globalThis==null?void 0:globalThis.localStorage)==null?void 0:e.getItem("userId"),eventType:a,referenceId:t,metadata:s,timestampStart:i,timestampEnd:i})}async function w(a,t=10){const s=l(c(o,"activities"),g("userId","==",a),m("timestampStart","desc"),u(t));return(await p(s)).docs.map(e=>({id:e.id,...e.data()}))}async function h(a=10){var s;const t=(s=globalThis==null?void 0:globalThis.localStorage)==null?void 0:s.getItem("userId");return t?w(t,a):[]}export{v as a,y as b,h as f,f as l};
