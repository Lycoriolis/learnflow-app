{"version":3,"file":"45.CvCJ6qjP.js","sources":["../../../../../../src/routes/tools/tasks/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { todos, type TodoItem } from '$lib/stores/pipStores';\n  import { onMount } from 'svelte';\n  import { fade, fly, scale, slide } from 'svelte/transition';\n  import { quintOut, cubicOut, bounceOut, elasticOut } from 'svelte/easing';\n\n  let selectedId: string | null = null;\n  let editing = false;\n  let editTask: TodoItem | null = null;\n  let newTask: Partial<TodoItem> = { text: '', description: '', deadline: '', emergency: 3, tag: '' };\n  let showAddPanel = false;\n  let isMobile = false;\n\n  // Filtering state\n  let filterTag = '';\n  let filterEmergency = 'all';\n  let searchTerm = '';\n  let sortBy = 'createdAt'; // Options: createdAt, emergency, deadline\n  let sortDir = 'desc'; // Options: asc, desc\n\n  // Drag-and-drop state\n  let draggingId: string | null = null;\n  let dragOverId: string | null = null;\n\n  onMount(() => {\n    const checkMobile = () => {\n      isMobile = window.innerWidth < 768;\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  });\n\n  // Task data processing\n  $: allTodos = $todos;\n  $: selectedTask = allTodos.find(t => t.id === selectedId) || null;\n  $: filteredTodos = allTodos.filter(task => {\n    if (filterTag && task.tag !== filterTag) return false;\n    if (filterEmergency !== 'all' && String(task.emergency) !== filterEmergency) return false;\n    if (searchTerm && !task.text.toLowerCase().includes(searchTerm.toLowerCase())) return false;\n    return true;\n  }).sort((a, b) => {\n    let aVal = sortBy === 'deadline' ? (a.deadline ? new Date(a.deadline).getTime() : Infinity) :\n              sortBy === 'emergency' ? a.emergency : \n              a.createdAt;\n    \n    let bVal = sortBy === 'deadline' ? (b.deadline ? new Date(b.deadline).getTime() : Infinity) :\n              sortBy === 'emergency' ? b.emergency : \n              b.createdAt;\n              \n    return sortDir === 'asc' ? aVal - bVal : bVal - aVal;\n  });\n\n  $: uniqueTags = [...new Set(allTodos.map(t => t.tag).filter(Boolean))];\n  $: completedCount = allTodos.filter(t => t.completed).length;\n  $: totalCount = allTodos.length;\n  $: progressPercentage = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;\n\n  // Task functions\n  function selectTask(id: string) {\n    selectedId = id;\n    editing = false;\n    editTask = null;\n    if (isMobile) {\n      showAddPanel = false;\n    }\n  }\n\n  function startEdit(task: TodoItem) {\n    editing = true;\n    editTask = { ...task };\n  }\n\n  function saveEdit() {\n    if (!editTask) return;\n    todos.update(ts => ts.map(t => t.id === editTask!.id ? { ...editTask } : t));\n    editing = false;\n    editTask = null;\n  }\n\n  function toggleTaskComplete(task: TodoItem) {\n    todos.update(ts => ts.map(t => t.id === task.id ? { ...t, completed: !t.completed } : t));\n  }\n\n  function addTask() {\n    if (!newTask.text?.trim()) return;\n    const task: TodoItem = {\n      id: crypto.randomUUID(),\n      text: newTask.text!,\n      completed: false,\n      createdAt: Date.now(),\n      description: newTask.description || '',\n      deadline: newTask.deadline || '',\n      emergency: newTask.emergency || 3,\n      tag: newTask.tag || ''\n    };\n    todos.update(ts => [...ts, task]);\n    newTask = { text: '', description: '', deadline: '', emergency: 3, tag: '' };\n    selectedId = task.id;\n    showAddPanel = false;\n  }\n\n  function deleteTask(id: string) {\n    todos.update(ts => ts.filter(t => t.id !== id));\n    if (selectedId === id) selectedId = null;\n  }\n\n  function clearCompletedTasks() {\n    todos.update(ts => ts.filter(t => !t.completed));\n    if (selectedTask?.completed) selectedId = null;\n  }\n\n  // Drag and drop functions\n  function handleDragStart(id: string) {\n    draggingId = id;\n  }\n\n  function handleDragOver(id: string) {\n    dragOverId = id;\n  }\n\n  function handleDrop() {\n    if (draggingId && dragOverId && draggingId !== dragOverId) {\n      const fromIdx = allTodos.findIndex(t => t.id === draggingId);\n      const toIdx = allTodos.findIndex(t => t.id === dragOverId);\n      if (fromIdx !== -1 && toIdx !== -1) {\n        const reordered = [...allTodos];\n        const [moved] = reordered.splice(fromIdx, 1);\n        reordered.splice(toIdx, 0, moved);\n        todos.set(reordered);\n      }\n    }\n    draggingId = null;\n    dragOverId = null;\n  }\n\n  function handleDragEnd() {\n    draggingId = null;\n    dragOverId = null;\n  }\n\n  function handleTaskKeydown(event: KeyboardEvent, taskId: string) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      selectTask(taskId);\n    }\n  }\n\n  // UI helper functions\n  function getEmergencyColor(level: number) {\n    switch(Number(level)) {\n      case 1: return 'bg-green-50 dark:bg-green-950 text-green-600 dark:text-green-300 border-green-200 dark:border-green-800';\n      case 2: return 'bg-blue-50 dark:bg-blue-950 text-blue-600 dark:text-blue-300 border-blue-200 dark:border-blue-800';\n      case 3: return 'bg-yellow-50 dark:bg-yellow-950 text-yellow-600 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800';\n      case 4: return 'bg-orange-50 dark:bg-orange-950 text-orange-600 dark:text-orange-300 border-orange-200 dark:border-orange-800';\n      case 5: return 'bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-300 border-red-200 dark:border-red-800';\n      default: return 'bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700';\n    }\n  }\n\n  function getEmergencyLabel(level: number) {\n    switch(Number(level)) {\n      case 1: return 'Low';\n      case 2: return 'Medium-Low';\n      case 3: return 'Medium';\n      case 4: return 'High';\n      case 5: return 'Critical';\n      default: return 'None';\n    }\n  }\n\n  function getTaskStatusClass(task: TodoItem) {\n    if (task.completed) {\n      return 'opacity-75';\n    }\n    \n    if (task.deadline) {\n      const deadlineDate = new Date(task.deadline);\n      const today = new Date();\n      const timeDiff = deadlineDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      \n      if (daysDiff < 0) {\n        return 'overdue';\n      } else if (daysDiff <= 1) {\n        return 'due-soon';\n      }\n    }\n    \n    return '';\n  }\n\n  function formatDate(dateStr: string) {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return new Intl.DateTimeFormat('en-US', { \n      month: 'short', \n      day: 'numeric',\n      year: 'numeric'\n    }).format(date);\n  }\n\n  function formatRelativeDate(dateStr: string) {\n    if (!dateStr) return '';\n    \n    const date = new Date(dateStr);\n    const now = new Date();\n    const diffTime = date.getTime() - now.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    if (diffDays < 0) {\n      return `${Math.abs(diffDays)} day${Math.abs(diffDays) !== 1 ? 's' : ''} overdue`;\n    } else if (diffDays === 0) {\n      return 'Due today';\n    } else if (diffDays === 1) {\n      return 'Due tomorrow';\n    } else if (diffDays < 7) {\n      return `Due in ${diffDays} days`;\n    } else {\n      return formatDate(dateStr);\n    }\n  }\n</script>\n\n<svelte:head>\n  <title>Tasks | LearnFlow</title>\n</svelte:head>\n\n<div class=\"flex flex-col md:flex-row h-[85vh] max-w-7xl mx-auto bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden mt-6 border border-gray-200 dark:border-gray-800\">\n  <!-- Left: Task List -->\n  <div class=\"w-full md:w-2/5 lg:w-1/3 border-r border-gray-200 dark:border-gray-800 bg-gradient-to-br from-indigo-50/80 via-purple-50/50 dark:from-indigo-950/30 dark:via-purple-950/20 to-white dark:to-gray-900 overflow-y-auto relative {isMobile && selectedTask && !showAddPanel ? 'hidden' : ''}\">\n    <div class=\"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-gray-100 dark:border-gray-800 p-5 space-y-5\">\n      <div class=\"flex items-center justify-between\">\n        <h2 class=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 flex items-center\">\n          <i class=\"fas fa-tasks mr-3\"></i> My Tasks\n        </h2>\n        <button \n          class=\"h-10 w-10 flex items-center justify-center rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-md transition transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-50\"\n          on:click={() => showAddPanel = !showAddPanel}\n          aria-label={showAddPanel ? \"Close add task panel\" : \"Open add task panel\"}\n        >\n          <i class=\"fas {showAddPanel ? 'fa-times' : 'fa-plus'}\"></i>\n        </button>\n      </div>\n      \n      <!-- Progress bar -->\n      <div class=\"w-full h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n        <div class=\"bg-gradient-to-r from-indigo-500 to-purple-500 h-full rounded-full relative overflow-hidden\" \n             style=\"width: {progressPercentage}%\"\n             transition:scale={{ duration: 300, easing: cubicOut }}\n             >\n          <div class=\"absolute inset-0 opacity-30 bg-striped\"></div>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-500 dark:text-gray-400 flex justify-between\">\n        <span>{completedCount} of {totalCount} tasks completed</span>\n        <span class=\"font-semibold\">{progressPercentage}%</span>\n      </div>\n      \n      <!-- Search and filter bar -->\n      <div class=\"space-y-3\">\n        <div class=\"relative\">\n          <i class=\"fas fa-search absolute left-3.5 top-3 text-gray-400 dark:text-gray-500\"></i>\n          <input \n            class=\"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition text-sm\" \n            placeholder=\"Search tasks...\" \n            bind:value={searchTerm}\n          />\n        </div>\n        \n        <div class=\"flex flex-wrap gap-2\">\n          <select \n            class=\"text-xs px-3 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 cursor-pointer\"\n            bind:value={filterEmergency}\n          >\n            <option value=\"all\">All Priorities</option>\n            <option value=\"1\">Low</option>\n            <option value=\"2\">Medium-Low</option>\n            <option value=\"3\">Medium</option>\n            <option value=\"4\">High</option>\n            <option value=\"5\">Critical</option>\n          </select>\n          \n          <select \n            class=\"text-xs px-3 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 cursor-pointer\"\n            bind:value={filterTag}\n          >\n            <option value=\"\">All Tags</option>\n            {#each uniqueTags as tag}\n              <option value={tag}>{tag}</option>\n            {/each}\n          </select>\n          \n          <div class=\"ml-auto flex text-xs gap-1 items-center\">\n            <select \n              class=\"px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 cursor-pointer\"\n              bind:value={sortBy}\n            >\n              <option value=\"createdAt\">Created</option>\n              <option value=\"deadline\">Deadline</option>\n              <option value=\"emergency\">Priority</option>\n            </select>\n            <button \n              class=\"h-7 w-7 flex items-center justify-center bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md\"\n              on:click={() => sortDir = sortDir === 'asc' ? 'desc' : 'asc'}\n              title={sortDir === 'asc' ? 'Sort Ascending' : 'Sort Descending'}\n            >\n              <i class=\"fas fa-sort-{sortDir === 'asc' ? 'up' : 'down'} text-gray-500\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Tasks List -->\n    <div class=\"p-4 space-y-1.5\">\n      {#if filteredTodos.length === 0}\n        <div \n          class=\"text-center py-10 text-gray-500 dark:text-gray-400 italic\"\n          in:fade={{ duration: 200 }}\n        >\n          {searchTerm || filterTag || filterEmergency !== 'all' ? 'No matching tasks found' : 'No tasks yet. Create one!'}\n        </div>\n      {:else}\n        {#each filteredTodos as task (task.id)}\n          <div \n            role=\"button\"\n            tabindex=\"0\"\n            class=\"bg-white dark:bg-gray-800/90 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-indigo-200 dark:hover:border-indigo-700/50 transition-all cursor-pointer relative overflow-hidden {selectedId === task.id ? 'border-l-4 border-l-indigo-500 dark:border-l-indigo-400' : ''} {getTaskStatusClass(task)} focus:outline-none focus:ring-2 focus:ring-indigo-300 dark:focus:ring-indigo-600\"\n            draggable=\"true\"\n            on:dragstart={() => handleDragStart(task.id)}\n            on:dragover|preventDefault={() => handleDragOver(task.id)}\n            on:drop|preventDefault={handleDrop}\n            on:dragend={handleDragEnd}\n            on:click={() => selectTask(task.id)}\n            on:keydown={(e) => handleTaskKeydown(e, task.id)}\n            in:fly={{ y: 10, duration: 200, delay: 50 }}\n            out:fly={{ y: -10, duration: 200 }}\n          >\n            {#if draggingId === task.id}\n              <div class=\"absolute inset-0 bg-indigo-100 dark:bg-indigo-900/30 z-0\"></div>\n            {/if}\n            {#if dragOverId === task.id}\n              <div class=\"absolute inset-0 border-2 border-dashed border-indigo-300 dark:border-indigo-700 rounded-xl z-0\"></div>\n            {/if}\n            <div class=\"p-3 z-10 relative flex items-start gap-3\">\n              <div>\n                <button \n                  class=\"h-5 w-5 rounded-full flex items-center justify-center border {task.completed ? 'bg-green-100 dark:bg-green-900/30 border-green-400 dark:border-green-600 text-green-600 dark:text-green-400' : 'border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800'}\"\n                  on:click|stopPropagation={() => toggleTaskComplete(task)}\n                >\n                  {#if task.completed}\n                    <i class=\"fas fa-check text-xs\"></i>\n                  {/if}\n                </button>\n              </div>\n              <div class=\"flex-1 min-w-0\">\n                <div class=\"flex justify-between items-start\">\n                  <h3 class=\"font-medium truncate text-sm {task.completed ? 'line-through text-gray-500 dark:text-gray-400' : 'text-gray-900 dark:text-white'}\">{task.text}</h3>\n                  <span \n                    class=\"ml-2 text-xs px-2 py-0.5 rounded-full border {getEmergencyColor(task.emergency)} whitespace-nowrap flex-shrink-0\"\n                  >\n                    {getEmergencyLabel(task.emergency)}\n                  </span>\n                </div>\n                \n                <div class=\"mt-1 flex flex-wrap items-center gap-x-3 gap-y-1 text-xs\">\n                  {#if task.deadline}\n                    <span class=\"{task.deadline && new Date(task.deadline) < new Date() ? 'text-red-500 dark:text-red-400' : 'text-gray-500 dark:text-gray-400'} flex items-center\">\n                      <i class=\"fas fa-calendar-alt mr-1.5\"></i>\n                      {formatRelativeDate(task.deadline)}\n                    </span>\n                  {/if}\n                  \n                  {#if task.tag}\n                    <span class=\"text-gray-500 dark:text-gray-400 flex items-center\">\n                      <i class=\"fas fa-tag mr-1.5\"></i>\n                      {task.tag}\n                    </span>\n                  {/if}\n                </div>\n              </div>\n            </div>\n            \n            {#if task.deadline && new Date(task.deadline) < new Date() && !task.completed}\n              <div class=\"absolute top-0 right-0 w-0 h-0 border-solid border-t-[20px] border-t-red-500 border-l-transparent border-l-[20px]\"></div>\n            {/if}\n          </div>\n        {/each}\n      {/if}\n      \n      {#if completedCount > 0}\n        <div class=\"flex justify-center pt-3\">\n          <button \n            class=\"text-xs px-3 py-1.5 text-gray-600 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition rounded-md\"\n            on:click={clearCompletedTasks}\n          >\n            <i class=\"fas fa-trash-alt mr-1.5\"></i>\n            Clear completed ({completedCount})\n          </button>\n        </div>\n      {/if}\n    </div>\n  </div>\n\n  <!-- Right: Task Detail or Add Panel -->\n  <div class=\"flex-1 bg-white dark:bg-gray-900 overflow-y-auto\">\n    {#if showAddPanel}\n      <!-- Add Task Form -->\n      <div \n        class=\"h-full flex flex-col p-6\"\n        in:fly={{ x: 20, duration: 200, easing: cubicOut }}\n        out:fly={{ x: 20, duration: 200, easing: cubicOut }}\n      >\n        <div class=\"flex justify-between items-center mb-6\">\n          <h2 class=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400\">Add New Task</h2>\n          <button \n            class=\"h-8 w-8 flex md:hidden items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300\"\n            on:click={() => showAddPanel = false}\n          >\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"space-y-5 flex-1\">\n          <div>\n            <label for=\"task-title\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Task Title*</label>\n            <input \n              id=\"task-title\"\n              type=\"text\" \n              class=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n              placeholder=\"What needs to be done?\"\n              bind:value={newTask.text}\n            />\n          </div>\n          \n          <div>\n            <label for=\"task-description\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Description (optional)</label>\n            <textarea \n              id=\"task-description\"\n              class=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 h-32 bg-white dark:bg-gray-800\" \n              placeholder=\"Add details about this task...\"\n              bind:value={newTask.description}\n            ></textarea>\n          </div>\n          \n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label for=\"task-deadline\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Deadline (optional)</label>\n              <input \n                id=\"task-deadline\"\n                type=\"date\" \n                class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n                bind:value={newTask.deadline}\n              />\n            </div>\n            \n            <div>\n              <label for=\"task-priority\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Priority</label>\n              <select \n                id=\"task-priority\"\n                class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\"\n                bind:value={newTask.emergency}\n              >\n                <option value={1}>Low</option>\n                <option value={2}>Medium-Low</option>\n                <option value={3}>Medium</option>\n                <option value={4}>High</option>\n                <option value={5}>Critical</option>\n              </select>\n            </div>\n          </div>\n          \n          <div>\n            <label for=\"task-tag\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Tag (optional)</label>\n            <div class=\"relative\">\n              <input \n                id=\"task-tag\"\n                list=\"tag-options\"\n                type=\"text\" \n                class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n                placeholder=\"Add or select a tag\"\n                bind:value={newTask.tag}\n              />\n              <datalist id=\"tag-options\">\n                {#each uniqueTags as tag}\n                  <option value={tag} />\n                {/each}\n              </datalist>\n              <i class=\"fas fa-tag absolute right-4 top-3 text-gray-400\"></i>\n            </div>\n          </div>\n          \n          <div class=\"pt-4\">\n            <button \n              class=\"w-full py-3 px-6 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium shadow-md transition transform hover:translate-y-[-1px] disabled:opacity-70 disabled:cursor-not-allowed\"\n              on:click={addTask}\n              disabled={!newTask.text?.trim()}\n            >\n              <i class=\"fas fa-plus mr-2\"></i>\n              Create Task\n            </button>\n          </div>\n        </div>\n      </div>\n    {:else if selectedTask}\n      <!-- Task Detail View -->\n      <div \n        class=\"h-full flex flex-col p-6\"\n        in:fade={{ duration: 200 }}\n      >\n        <div class=\"flex justify-between items-center mb-6\">\n          <div class=\"flex items-center gap-3\">\n            <button \n              class=\"h-8 w-8 md:hidden flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300\"\n              on:click={() => selectedId = null}\n            >\n              <i class=\"fas fa-arrow-left\"></i>\n            </button>\n            <h2 class=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400\">Task Details</h2>\n          </div>\n          <div class=\"flex gap-2\">\n            <button \n              class=\"h-9 w-9 flex items-center justify-center rounded-lg bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-800/30 transition\"\n              on:click={() => startEdit(selectedTask)}\n              title=\"Edit task\"\n            >\n              <i class=\"fas fa-edit\"></i>\n            </button>\n            <button \n              class=\"h-9 w-9 flex items-center justify-center rounded-lg bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-800/30 transition\"\n              on:click={() => deleteTask(selectedTask.id)}\n              title=\"Delete task\"\n            >\n              <i class=\"fas fa-trash-alt\"></i>\n            </button>\n          </div>\n        </div>\n        \n        {#if editing && editTask}\n          <!-- Edit Task Form -->\n          <div \n            class=\"space-y-5 flex-1 animate__animated animate__fadeIn\"\n            in:fade={{ duration: 200 }}\n          >\n            <div>\n              <label for=\"edit-title\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Task Title*</label>\n              <input \n                id=\"edit-title\"\n                type=\"text\" \n                class=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n                bind:value={editTask.text}\n              />\n            </div>\n            \n            <div>\n              <label for=\"edit-description\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Description</label>\n              <textarea \n                id=\"edit-description\"\n                class=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 h-32 bg-white dark:bg-gray-800\" \n                bind:value={editTask.description}\n              ></textarea>\n            </div>\n            \n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label for=\"edit-deadline\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Deadline</label>\n                <input \n                  id=\"edit-deadline\"\n                  type=\"date\" \n                  class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n                  bind:value={editTask.deadline}\n                />\n              </div>\n              \n              <div>\n                <label for=\"edit-priority\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Priority</label>\n                <select \n                  id=\"edit-priority\"\n                  class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\"\n                  bind:value={editTask.emergency}\n                >\n                  <option value={1}>Low</option>\n                  <option value={2}>Medium-Low</option>\n                  <option value={3}>Medium</option>\n                  <option value={4}>High</option>\n                  <option value={5}>Critical</option>\n                </select>\n              </div>\n            </div>\n            \n            <div>\n              <label for=\"edit-tag\" class=\"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300\">Tag</label>\n              <div class=\"relative\">\n                <input \n                  id=\"edit-tag\"\n                  list=\"edit-tag-options\"\n                  type=\"text\" \n                  class=\"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-800\" \n                  placeholder=\"Add or select a tag\"\n                  bind:value={editTask.tag}\n                />\n                <datalist id=\"edit-tag-options\">\n                  {#each uniqueTags as tag}\n                    <option value={tag} />\n                  {/each}\n                </datalist>\n                <i class=\"fas fa-tag absolute right-4 top-3 text-gray-400\"></i>\n              </div>\n            </div>\n            \n            <div class=\"flex gap-3 pt-4 justify-end\">\n              <button \n                class=\"py-2.5 px-5 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium transition\"\n                on:click={() => {editing = false; editTask = null;}}\n              >\n                Cancel\n              </button>\n              <button \n                class=\"py-2.5 px-5 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium shadow-md transition\"\n                on:click={saveEdit}\n                disabled={!editTask.text?.trim()}\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        {:else}\n          <!-- Task Viewing -->\n          <div class=\"space-y-6 flex-1\">\n            <div class=\"flex items-start gap-4\">\n              <button \n                class=\"mt-1 h-6 w-6 rounded-full flex items-center justify-center border {selectedTask.completed ? 'bg-green-100 dark:bg-green-900/30 border-green-400 dark:border-green-600 text-green-600 dark:text-green-400' : 'border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800'}\"\n                on:click={() => toggleTaskComplete(selectedTask)}\n              >\n                {#if selectedTask.completed}\n                  <i class=\"fas fa-check text-xs\"></i>\n                {/if}\n              </button>\n              <div class=\"flex-1\">\n                <h3 class=\"text-xl font-semibold {selectedTask.completed ? 'line-through text-gray-500 dark:text-gray-400' : 'text-gray-900 dark:text-white'}\">{selectedTask.text}</h3>\n              </div>\n            </div>\n            \n            <div class=\"flex flex-wrap gap-3 pt-2\">\n              <span \n                class=\"text-sm px-3 py-1 rounded-lg {getEmergencyColor(selectedTask.emergency)}\"\n              >\n                <i class=\"fas fa-flag mr-1.5\"></i>\n                {getEmergencyLabel(selectedTask.emergency)}\n              </span>\n              \n              {#if selectedTask.deadline}\n                <span \n                  class=\"text-sm px-3 py-1 rounded-lg {new Date(selectedTask.deadline) < new Date() && !selectedTask.completed ? 'bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800' : 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700'}\"\n                >\n                  <i class=\"fas fa-calendar-alt mr-1.5\"></i>\n                  {formatRelativeDate(selectedTask.deadline)}\n                </span>\n              {/if}\n              \n              {#if selectedTask.tag}\n                <span \n                  class=\"text-sm px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700\"\n                >\n                  <i class=\"fas fa-tag mr-1.5\"></i>\n                  {selectedTask.tag}\n                </span>\n              {/if}\n              \n              <span \n                class=\"text-sm px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700\"\n              >\n                <i class=\"fas fa-clock mr-1.5\"></i>\n                Created {new Date(selectedTask.createdAt).toLocaleDateString()}\n              </span>\n            </div>\n            \n            <div class=\"pt-6\">\n              <h4 class=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Description</h4>\n              <div class=\"p-4 rounded-xl bg-gray-50 dark:bg-gray-800/80 border border-gray-200 dark:border-gray-700/80 min-h-[200px] text-gray-700 dark:text-gray-300 whitespace-pre-line\">\n                {selectedTask.description || 'No description provided.'}\n              </div>\n            </div>\n          </div>\n        {/if}\n      </div>\n    {:else}\n      <!-- No task selected -->\n      <div class=\"h-full flex flex-col items-center justify-center p-6 text-center\">\n        <img src=\"https://illustrations.popsy.co/gray/task-list.svg\" alt=\"No task selected\" class=\"w-64 h-64 mb-6 opacity-70\" />\n        <h3 class=\"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2\">No Task Selected</h3>\n        <p class=\"text-gray-500 dark:text-gray-400 max-w-md mb-6\">Select a task from the list to view details or click the + button to create a new task.</p>\n        <button \n          class=\"py-2.5 px-5 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium shadow-md transition transform hover:translate-y-[-1px]\"\n          on:click={() => showAddPanel = true}\n        >\n          <i class=\"fas fa-plus mr-2\"></i>\n          Create New Task\n        </button>\n      </div>\n    {/if}\n  </div>\n</div>\n\n<style>\n  .bg-striped {\n    background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\n    background-size: 1rem 1rem;\n    animation: progress-bar-stripes 1s linear infinite;\n  }\n\n  @keyframes progress-bar-stripes {\n    from { background-position: 1rem 0; }\n    to { background-position: 0 0; }\n  }\n\n  .overdue {\n    @apply border-l-red-500 dark:border-l-red-400 border-l-4;\n  }\n\n  .due-soon {\n    @apply border-l-yellow-500 dark:border-l-yellow-400 border-l-4;\n  }\n</style>\n"],"names":["selectedId","editing","editTask","newTask","$.mutable_source","showAddPanel","isMobile","filterTag","filterEmergency","searchTerm","sortBy","sortDir","draggingId","dragOverId","onMount","checkMobile","$.set","selectTask","id","$.get","startEdit","task","saveEdit","todos","ts","t","__spreadValues","toggleTaskComplete","__spreadProps","addTask","deleteTask","clearCompletedTasks","selectedTask","handleDragStart","handleDragOver","handleDrop","fromIdx","allTodos","toIdx","reordered","moved","handleDragEnd","handleTaskKeydown","event","taskId","getEmergencyColor","level","getEmergencyLabel","getTaskStatusClass","deadlineDate","today","timeDiff","daysDiff","formatDate","dateStr","date","formatRelativeDate","now","diffTime","diffDays","$todos","filteredTodos","a","b","aVal","bVal","uniqueTags","completedCount","totalCount","progressPercentage","$.each","node","tag","$.transition","div_12","fade","node_2","$$render","consequent_1","consequent_2","consequent_3","$.set_class","span_3","consequent_4","$.template_effect","$.set_text","text_7","consequent_5","consequent_6","div_13","$0","button_2","h3","text_4","$.event","$.stopPropagation","e","fly","consequent","alternate","consequent_7","datalist","$.derived_safe_equal","button_4","$.bind_value","input_1","$$value","$.mutate","textarea","input_2","$.bind_select_value","select_3","input_3","cubicOut","datalist_1","input_4","textarea_1","input_5","select_4","input_6","div_39","consequent_10","span_6","consequent_11","text_12","consequent_12","button_11","h3_1","text_9","consequent_9","alternate_2","button_6","button_7","div_35","button_12","consequent_13","alternate_3","consequent_8","alternate_1","div_1","text","$.set_attribute","button_1","i_1","button","div_5","scale","input","select","select_1","select_2"],"mappings":"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"}