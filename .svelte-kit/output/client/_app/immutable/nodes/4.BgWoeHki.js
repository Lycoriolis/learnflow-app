import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{c as t,r as e,n as U,t as W,e as p,g as s,p as G,s as R,m as q,b as H,j as ae,f as se,$ as de}from"../chunks/D8Zr53n5.js";import{h as ce}from"../chunks/CCLz0Z0F.js";import{t as c,a as n,c as ve}from"../chunks/ByokzzJe.js";import{i as M}from"../chunks/BAqAra_5.js";import{i as O}from"../chunks/BzVavbfz.js";import{s as ue,a as V}from"../chunks/CYIMW-vo.js";import{o as K,a as oe}from"../chunks/DyX_nzx0.js";import{s as P}from"../chunks/UpSy6tP0.js";import{p as Z}from"../chunks/D0guHZRM.js";import{e as B,i as ee}from"../chunks/8AErAcLY.js";import{s as X}from"../chunks/Cw_GgyMt.js";import{b as me}from"../chunks/BM8m5GYV.js";import{C as ge}from"../chunks/Dcydao5J.js";import{l as fe}from"../chunks/CJImBPi4.js";import{l as ie,a as le,f as pe}from"../chunks/C44GRa1C.js";/* empty css                */import{i as xe,b as he,l as ye,a as be,u as _e}from"../chunks/QfzvdxsM.js";import{f as we,g as ke}from"../chunks/DXDQnthP.js";import{a as $e}from"../chunks/LciTkaa2.js";import{F as Ce}from"../chunks/rA2gTqDF.js";import{w as Se}from"../chunks/B51PyqUg.js";import{s as Le}from"../chunks/DpNHaJTn.js";var je=c('<div class="bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-2xl p-6 mb-8 text-white squircle"><div class="flex flex-col md:flex-row justify-between items-start md:items-center"><div><h2 class="text-2xl font-bold mb-2"> </h2> <p class="opacity-90 mb-4 md:mb-0">Continue your learning journey with these recommended courses</p></div> <a href="/courses" class="bg-indigo-100 text-indigo-800 px-4 py-2 rounded-lg font-medium hover:bg-indigo-200 transition">Explore Courses</a></div></div>');function Pe(L,$){let d=Z($,"username",8,"Hakim");var v=je(),x=t(v),u=t(x),h=t(u),y=t(h);e(h),U(2),e(u),U(2),e(x),e(v),W(()=>P(y,`Welcome back, ${d()??""}!`)),n(L,v)}var Te=c('<div class="bg-gray-700 border border-orange-500 p-6 rounded-2xl shadow-sm squircle-sm card-hover"><div class="flex justify-between items-start"><div><h3 class="text-gray-400 text-sm font-medium"> </h3> <p class="text-2xl font-bold text-gray-100 mt-1"> </p></div> <div class="w-12 h-12 bg-indigo-900 rounded-full flex items-center justify-center"><i></i></div></div></div>'),Ae=c('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"></div>');function Ee(L,$){let d=Z($,"metrics",24,()=>[{title:"Courses in Progress",value:"3",icon:"fa-book",color:"indigo"},{title:"Exercises Completed",value:"24",icon:"fa-check-circle",color:"green"},{title:"Learning Streak",value:"7 days",icon:"fa-fire",color:"yellow"}]);var v=Ae();B(v,5,d,ee,(x,u)=>{var h=Te(),y=t(h),b=t(y),w=t(b),i=t(w,!0);e(w);var a=p(w,2),m=t(a,!0);e(a),e(b);var o=p(b,2),r=t(o);e(o),e(y),e(h),W(()=>{P(i,s(u).title),P(m,s(u).value),X(r,1,`fas ${s(u).icon??""} text-indigo-300`)}),n(x,h)}),e(v),n(L,v)}var Fe=c('<li class="splide__slide"><!></li>'),Me=c('<div class="course-carousel-container mb-8 py-4 svelte-1aw9g38" style="--carousel-bg-rgb: 17, 24, 39;"><div class="container mx-auto px-4"><div class="flex justify-between items-center mb-6"><h2 class="text-xl font-semibold text-gray-100">Continue Learning</h2> <a href="/courses" class="text-sm text-indigo-400 hover:text-indigo-200 font-medium transition-colors duration-200 ease-in-out">View All</a></div> <div class="splide"><div class="splide__track"><ul class="splide__list"></ul></div></div></div></div>');function Ie(L,$){G($,!1);let d=q([]),v=null,x=q(),u=null;const h={type:"loop",perPage:3,gap:"1.5rem",pagination:!1,focus:0,omitEnd:!0,breakpoints:{1024:{perPage:2,gap:"1rem"},640:{perPage:1,gap:"1rem"}}},y=()=>{typeof window<"u"&&window.Splide&&s(x)&&(u&&u.destroy(!0),u=new window.Splide(s(x),h).mount())};K(async()=>{v=await ie("view_continuing_learning","courses"),R(d,await fe()),y()}),oe(()=>{v&&le(v),u&&u.destroy(!0)}),O();var b=Me(),w=t(b),i=p(t(w),2),a=t(i),m=t(a);B(m,5,()=>s(d),o=>o.id,(o,r)=>{var l=Fe(),f=t(l);ge(f,{get course(){return s(r)}}),e(l),n(o,l)}),e(m),e(a),e(i),me(i,o=>R(x,o),()=>s(x)),e(w),e(b),n(L,b),H()}var Re=c('<div class="bg-gray-700 border border-orange-500 p-5 rounded-2xl shadow-sm squircle-sm card-hover" role="button" tabindex="0"><div class="flex items-start mb-4"><div class="w-10 h-10 bg-indigo-900 rounded-lg flex items-center justify-center mr-3"><i></i></div> <div><h3 class="font-semibold text-gray-100"> </h3> <p class="text-gray-300 text-sm"> </p></div></div> <div class="flex justify-between items-center"><span class="text-xs px-2 py-1 bg-indigo-800 text-indigo-100 rounded"> </span> <button class="text-sm text-indigo-300 hover:text-indigo-100 font-medium">Start</button></div></div>'),qe=c('<div class="mb-8"><div class="flex justify-between items-center mb-4"><h2 class="text-lg font-semibold text-gray-100">Recommended Exercises</h2> <a href="/exercises" class="text-sm text-indigo-300 hover:text-indigo-100 font-medium">View All</a></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>');function Ye(L,$){let d=Z($,"exercises",24,()=>[{title:"JavaScript Closure Exercise",description:"Practice with closures and scope",icon:"fa-code",color:"blue",category:"JavaScript"},{title:"Matrix Multiplication",description:"Practice matrix operations",icon:"fa-calculator",color:"purple",category:"Math"},{title:"Spanish Vocabulary Quiz",description:"Test your vocabulary knowledge",icon:"fa-language",color:"green",category:"Language"}]);var v=qe(),x=p(t(v),2);B(x,5,d,ee,(u,h)=>{var y=Re(),b=t(y),w=t(b),i=t(w);e(w);var a=p(w,2),m=t(a),o=t(m,!0);e(m);var r=p(m,2),l=t(r,!0);e(r),e(a),e(b);var f=p(b,2),C=t(f),T=t(C,!0);e(C),U(2),e(f),e(y),W(()=>{X(i,1,`fas ${s(h).icon??""} text-indigo-300`),P(o,s(h).title),P(l,s(h).description),P(T,s(h).category)}),n(u,y)}),e(x),e(v),n(L,v)}var De=c('<div class="flex items-start"><div><i></i></div> <div><h3 class="font-medium text-gray-100"> </h3> <p class="text-gray-300 text-sm"> </p> <p class="text-gray-400 text-xs mt-1"> </p></div></div>'),Ne=c('<p class="text-gray-400 text-sm">No recent activity.</p>'),Ve=c('<div><h2 class="text-lg font-semibold text-gray-100 mb-4">Recent Activity</h2> <div class="bg-gray-700 border border-orange-500 p-6 rounded-2xl shadow-sm squircle-sm"><div class="space-y-4"><!> <!></div></div></div>');function We(L,$){G($,!1);let d=q([]);function v(o){const r=Date.now()-o,l=Math.floor(r/1e3);if(l<60)return`${l}s ago`;const f=Math.floor(l/60);if(f<60)return`${f}m ago`;const C=Math.floor(f/60);return C<24?`${C}h ago`:`${Math.floor(C/24)}d ago`}function x(o,r){switch(o){case"view_course":return"Viewed Course";case"start_lesson":return"Started Lesson";case"complete_lesson":return"Completed Lesson";case"flashcard_review":return"Reviewed Flashcards";default:return o.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())}}function u(o){switch(o){case"view_course":return"fa-book";case"start_lesson":case"complete_lesson":return"fa-layer-group";case"flashcard_review":return"fa-layer-group";default:return"fa-circle"}}function h(o){switch(o){case"view_course":return"blue";case"start_lesson":return"yellow";case"complete_lesson":return"green";case"flashcard_review":return"purple";default:return"gray"}}K(async()=>{const o=await pe(10);R(d,o.map(r=>({...r,title:x(r.eventType,r.metadata),content:r.referenceId,timeAgo:v(r.timestampStart),icon:u(r.eventType),color:h(r.eventType)})))}),O();var y=Ve(),b=p(t(y),2),w=t(b),i=t(w);B(i,1,()=>s(d),o=>o.id,(o,r)=>{var l=De(),f=t(l),C=t(f);e(f);var T=p(f,2),g=t(T),_=t(g,!0);e(g);var E=p(g,2),F=t(E,!0);e(E);var k=p(E,2),A=t(k,!0);e(k),e(T),e(l),W(()=>{X(f,1,`w-10 h-10 bg-${s(r).color}-900 rounded-full flex items-center justify-center mr-3 flex-shrink-0`),X(C,1,`fas ${s(r).icon} text-${s(r).color}-300`),P(_,s(r).title),P(F,s(r).content),P(A,s(r).timeAgo)}),n(o,l)});var a=p(i,2);{var m=o=>{var r=Ne();n(o,r)};M(a,o=>{s(d).length===0&&o(m)})}e(w),e(b),e(y),n(L,y),H()}var ze=c('<div class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-lg shadow-xl p-8 my-6"><h1 class="text-4xl font-bold mb-4">Welcome to LearnFlow!</h1> <p class="text-xl mb-6">Your personalized journey to knowledge starts here. Log in or sign up to track your progress, access exclusive content, and connect with fellow learners.</p> <p class="text-lg">Discover courses, tackle exercises, and watch your skills grow.</p></div> <div class="grid md:grid-cols-3 gap-6 my-8"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Explore Courses</h2> <p class="text-gray-600 dark:text-gray-300">Browse our extensive library of courses across various domains.</p></div> <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Practice Exercises</h2> <p class="text-gray-600 dark:text-gray-300">Sharpen your skills with interactive exercises and real-time feedback.</p></div> <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Track Progress</h2> <p class="text-gray-600 dark:text-gray-300">Log in to monitor your learning journey and achievements.</p></div></div>',1);function Je(L){var $=ze();U(2),n(L,$)}var Ue=c('<p class="text-gray-600">Loading recommendations...</p>'),Be=c('<p class="text-red-500"> </p>'),Qe=c('<p class="text-gray-600">No recommendations at this time.</p>'),Ge=c('<a class="block bg-white dark:bg-gray-800 rounded-lg p-4 shadow hover:shadow-md transition flex items-center"><div class="flex-1"><h3 class="font-medium text-gray-900 dark:text-white"> </h3> <p class="text-gray-600 dark:text-gray-300 text-sm"> </p></div> <i class="fas fa-chevron-right text-gray-400"></i></a>'),He=c('<div class="space-y-4"></div>'),Oe=c('<div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Recommended for You</h2> <!></div>');function Ke(L,$){G($,!1);let d=Z($,"limit",8,5),v=q([]),x=q(!0),u=q(null);K(async()=>{try{const a=await fetch(`/api/recommendations?limit=${d()}`);if(!a.ok)throw new Error("Failed to fetch recommendations");const m=await a.json();R(v,m.recommendations)}catch(a){console.error(a),R(u,a.message)}finally{R(x,!1)}});function h(a){var m;switch(a.type){case"next_lesson":return`/courses/${(m=a.metadata)==null?void 0:m.courseId}/lesson/${a.referenceId}`;case"review_flashcards":return"/tools/flashcards";case"view_courses":return"/courses";default:return"#"}}O();var y=Oe(),b=p(t(y),2);{var w=a=>{var m=Ue();n(a,m)},i=(a,m)=>{{var o=l=>{var f=Be(),C=t(f,!0);e(f),W(()=>P(C,s(u))),n(l,f)},r=(l,f)=>{{var C=g=>{var _=Qe();n(g,_)},T=g=>{var _=He();B(_,5,()=>s(v),ee,(E,F)=>{var k=Ge(),A=t(k),I=t(A),z=t(I,!0);e(I);var Y=p(I,2),j=t(Y,!0);e(Y),e(A),U(2),e(k),W(D=>{Le(k,"href",D),P(z,s(F).title),P(j,s(F).description)},[()=>h(s(F))],ae),n(E,k)}),e(_),n(g,_)};M(l,g=>{s(v).length===0?g(C):g(T,!1)},f)}};M(a,l=>{s(u)?l(o):l(r,!1)},m)}};M(b,a=>{s(x)?a(w):a(i,!1)})}e(y),n(L,y),H()}var Xe=c('<p class="text-gray-600">Loading...</p>'),Ze=c('<p class="text-red-500"> </p>'),et=c('<i class="fas fa-star text-yellow-400"></i>'),tt=c('<i class="fas fa-star-half-alt text-yellow-400"></i>'),rt=c('<i class="far fa-star text-gray-300 dark:text-gray-600"></i>'),at=c('<div class="flex items-center"><div class="flex mr-3"></div> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div>'),st=c('<div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow mb-8"><h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Score Utilisateur</h2> <!></div>');function ot(L,$){G($,!1);let d=q(null),v=q(!0),x=q(null);K(async()=>{try{const i=await fetch("/api/score");if(!i.ok)throw new Error("Failed to fetch score");const a=await i.json();R(d,a.score)}catch(i){console.error(i),R(x,i.message)}finally{R(v,!1)}});function u(i){const a=Math.floor(i),m=i-a>=.5;return[...Array(5)].map((o,r)=>r<a?"full":r===a&&m?"half":"empty")}O();var h=st(),y=p(t(h),2);{var b=i=>{var a=Xe();n(i,a)},w=(i,a)=>{{var m=r=>{var l=Ze(),f=t(l,!0);e(l),W(()=>P(f,s(x))),n(r,l)},o=(r,l)=>{{var f=C=>{var T=at(),g=t(T);B(g,5,()=>u(s(d)),ee,(F,k)=>{var A=ve(),I=se(A);{var z=j=>{var D=et();n(j,D)},Y=(j,D)=>{{var S=N=>{var Q=tt();n(N,Q)},J=N=>{var Q=rt();n(N,Q)};M(j,N=>{s(k)==="half"?N(S):N(J,!1)},D)}};M(I,j=>{s(k)==="full"?j(z):j(Y,!1)})}n(F,A)}),e(g);var _=p(g,2),E=t(_);e(_),e(T),W(()=>P(E,`${s(d)??""}/5`)),n(C,T)};M(r,C=>{s(d)!==null&&C(f)},l)}};M(i,r=>{s(x)?r(m):r(o,!1)},a)}};M(y,i=>{s(v)?i(b):i(w,!1)})}e(h),n(L,h),H()}var it=c('<meta name="description" content="Your personalized learning dashboard on LearnFlow.">'),lt=c('<div class="flex justify-center items-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),nt=c('<!> <!> <div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Focus Time Log</h2> <!></div> <div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Quick Actions</h2> <div class="flex flex-col gap-4 w-full"><!> <!> <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow min-h-[140px] flex flex-col items-center justify-center text-center transition hover:shadow-xl hover:ring-2 hover:ring-indigo-300 w-full"><h3 class="text-lg font-semibold mb-2">Your Tasks</h3> <p class="text-gray-600 dark:text-gray-300">Manage your study tasks.</p></div> <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow min-h-[140px] flex flex-col items-center justify-center text-center transition hover:shadow-xl hover:ring-2 hover:ring-indigo-300 w-full"><h3 class="text-lg font-semibold mb-2">Your Notes</h3> <p class="text-gray-600 dark:text-gray-300">Jot down quick thoughts.</p></div></div></div> <!> <!> <!>',1),dt=c('<div class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"><!></div>');function Mt(L,$){G($,!1);const[d,v]=ue(),x=()=>V(xe,"$isAuthenticated",d),u=()=>V(he,"$userProfile",d),h=()=>V(we,"$focusSessions",d),y=()=>V(ke,"$todos",d),b=()=>V(ye,"$authLoading",d),w=()=>V(be,"$userProfileLoading",d),i=()=>V(_e,"$user",d),a=()=>V(o,"$suggestions",d);let m=q([]),o=Se([]),r=null;K(async()=>{var g;if(r=await ie("view_dashboard","dashboard"),x()&&u()){const _=((g=u().preferences)==null?void 0:g.enrollments)||[],E=await $e("course"),F=_.filter(S=>S.progress>0&&S.progress<100).length,k=_.filter(S=>S.progress===100).length,A=h(),I=A.length,z=A.reduce((S,J)=>S+(J.duration||0)/60,0).toFixed(0),Y=y().filter(S=>S.completed).length;R(m,[{title:"Courses In Progress",value:String(F),icon:"fa-book",color:"indigo"},{title:"Courses Completed",value:String(k),icon:"fa-award",color:"green"},{title:"Focus Sessions",value:String(I),icon:"fa-stopwatch",color:"yellow"},{title:"Total Focus Time (min)",value:z,icon:"fa-clock",color:"purple"},{title:"Tasks Completed",value:String(Y),icon:"fa-list-check",color:"blue"}]);const j=_.map(S=>S.id),D=E.filter(S=>!j.includes(S.id));o.set(D)}}),oe(()=>{r&&le(r)}),O();var l=dt();ce(g=>{var _=it();de.title="LearnFlow | Your Dashboard",n(g,_)});var f=t(l);{var C=g=>{var _=lt();n(g,_)},T=(g,_)=>{{var E=k=>{var A=nt(),I=se(A);const z=ae(()=>i()?i().displayName??i().email??"":"");Pe(I,{get username(){return s(z)}});var Y=p(I,2);Ee(Y,{get metrics(){return s(m)}});var j=p(Y,2),D=p(t(j),2);Ce(D,{get sessions(){return h()},timeUnit:"day"}),e(j);var S=p(j,2),J=p(t(S),2),N=t(J);Ie(N,{title:"Continue Learning",get items(){return a()}});var Q=p(N,2);Ye(Q,{}),U(4),e(J),e(S);var te=p(S,2);ot(te,{});var re=p(te,2);Ke(re,{limit:5});var ne=p(re,2);We(ne,{}),n(k,A)},F=k=>{Je(k)};M(g,k=>{x()&&u()?k(E):k(F,!1)},_)}};M(f,g=>{b()||w()?g(C):g(T,!1)})}e(l),n(L,l),H(),v()}export{Mt as component};
