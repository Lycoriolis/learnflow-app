{"version":3,"file":"32.7XfdoJ0E.js","sources":["../../../../../../src/routes/my-learning/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { isAuthenticated, loading as authLoading } from '$lib/stores/authStore.js';\n  import { goto } from '$app/navigation';\n  import type { PageData } from './$types';\n\n  export let data: PageData;\n\n  let activeTab: 'in-progress' | 'completed' | 'all' = 'in-progress';\n\n  function goToLogin() { goto('/login?redirect=/my-learning'); }\n\n  $: enrolledCourses = data.enrolledCourses || [];\n  $: myCourses = enrolledCourses.filter(c => c.enrollment.progress > 0 && c.enrollment.progress < 100);\n  $: completedCourses = enrolledCourses.filter(c => c.enrollment.progress === 100);\n  $: allCourses = enrolledCourses;\n  $: suggestion = allCourses.find(c => c.enrollment.progress > 0 && c.enrollment.progress < 100);\n</script>\n\n<svelte:head>\n  <title>My Learning | LearnFlow</title>\n</svelte:head>\n\n{#if $authLoading}\n  <div class=\"flex items-center justify-center min-h-[60vh]\"><i class=\"fas fa-spinner fa-spin text-4xl text-indigo-500\"></i></div>\n{:else if !$isAuthenticated}\n  <div class=\"flex flex-col items-center justify-center min-h-[60vh]\">\n    <p class=\"text-xl text-gray-600 dark:text-gray-300 mb-4\">Please log in to view your learning progress.</p>\n    <button class=\"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\" on:click={goToLogin}>Log In</button>\n  </div>\n{:else}\n  <div class=\"max-w-7xl mx-auto px-4 py-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">My Learning</h1>\n    {#if data.error}\n      <div class=\"text-red-500 mb-4\">{data.error}</div>\n    {/if}\n    {#if allCourses.length === 0}\n      <div class=\"text-center text-gray-600 dark:text-gray-400 py-20\">\n        <p>You are not enrolled in any courses yet.</p>\n        <a href=\"/courses\" class=\"mt-4 inline-block px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\">Browse Courses</a>\n      </div>\n    {:else}\n      <!-- Suggestion -->\n      {#if suggestion}\n        <div class=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow mb-6\">\n          <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Continue Learning</h2>\n          <p class=\"text-gray-700 dark:text-gray-300\">Next: {suggestion.meta.title}</p>\n          <a href={suggestion.meta.path ? `/courses?path=${suggestion.meta.path}` : `/courses/${suggestion.meta.id}`} class=\"mt-4 inline-block text-indigo-600 hover:underline\">Go to Course</a>\n        </div>\n      {/if}\n      <!-- Tabs -->\n      <div class=\"mb-4 border-b border-gray-200 dark:border-gray-700\">\n        <button class={`py-2 px-4 ${activeTab==='in-progress'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='in-progress'}>In Progress</button>\n        <button class={`py-2 px-4 ${activeTab==='completed'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='completed'}>Completed</button>\n        <button class={`py-2 px-4 ${activeTab==='all'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='all'}>All</button>\n      </div>\n      <!-- Course List -->\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {#each (activeTab==='in-progress'? myCourses : activeTab==='completed'? completedCourses : allCourses) as item (item.meta.id)}\n          <div class=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow flex flex-col\">\n            <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">{item.meta.title}</h3>\n            <div class=\"flex items-center mb-2\">\n              <div class=\"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded-full overflow-hidden\">\n                <div class=\"h-2 bg-indigo-600 dark:bg-indigo-500\" style=\"width:{item.enrollment.progress}%\"></div>\n              </div>\n              <span class=\"ml-2 text-sm\">{item.enrollment.progress}%</span>\n            </div>\n            <a href={item.meta.path ? `/courses?path=${item.meta.path}` : `/courses/${item.meta.id}`} class=\"mt-auto text-indigo-600 hover:underline\">View Course</a>\n          </div>\n        {/each}\n      </div>\n    {/if}\n  </div>\n{/if}"],"names":["data","$.prop","$$props","activeTab","goToLogin","goto","enrolledCourses","myCourses","$.get","c","$.set","completedCourses","allCourses","suggestion","$.template_effect","$.set_text","text","$$render","consequent_2","$.set_attribute","a","consequent_4","item","$$anchor","a_1","$.set_class","button_1","button_2","button_3","$.event","consequent_3","alternate_2","$isAuthenticated","alternate_1","consequent_1","$authLoading","consequent","alternate"],"mappings":"usFAKaA,EAAcC,GAAAC,EAAA,OAAA,CAAA,EAErBC,IAAiD,aAAa,EAEzD,SAAAC,IAAY,CAAEC,GAAK,8BAA8B,CAAG,sBAE1DC,EAAkBN,IAAK,iBAAe,CAAA,CAAA,sBACtCO,EAASC,EAAGF,CAAe,EAAC,OAAOG,GAAKA,EAAE,WAAW,SAAW,GAAKA,EAAE,WAAW,SAAW,GAAG,CAAA,oBAChGC,EAAAC,EAAmBH,EAAAF,CAAe,EAAC,OAAOG,GAAKA,EAAE,WAAW,WAAa,GAAG,CAAA,oBAC5EC,EAAAE,IAAaN,CAAe,CAAA,sBAC5BO,EAAUL,EAAGI,CAAU,EAAC,KAAKH,GAAKA,EAAE,WAAW,SAAW,GAAKA,EAAE,WAAW,SAAW,GAAG,CAAA,+KAYCL,EAAS,8EAMnEU,EAAA,IAAAC,EAAAC,EAAAhB,IAAK,KAAK,CAAA,kBADvCA,IAAK,OAAKiB,EAAAC,EAAA,0KAa0CL,CAAU,EAAC,KAAK,eAAK,EAAA,EAAA,EAC/DM,EAAAC,EAAA,OAAAZ,EAAAK,CAAU,EAAC,KAAK,wBAAwBA,CAAU,EAAC,KAAK,IAAI,GAAiB,YAAAL,EAAAK,CAAU,EAAC,KAAK,EAAE,EAAA,sBAJvGA,CAAU,GAAAI,EAAAI,EAAA,yEAeLlB,CAAS,IAAG,cAAeK,EAAAD,CAAS,IAAGJ,CAAS,IAAG,YAAaK,EAAAG,CAAgB,IAAGC,CAAU,EAAKU,GAAMA,EAAK,KAAK,GAAE,CAAAC,EAAlBD,IAAI,0IAEpCA,CAAI,EAAC,KAAK,KAAK,sBAGjBA,CAAI,EAAC,WAAW,kBAAQ,EAAA,GAAA,eAE9DA,CAAI,EAAC,WAAW,kBAAQ,EAAA,GAAA,EAE7CH,EAAAK,GAAA,OAAAhB,EAAAc,CAAI,EAAC,KAAK,wBAAwBA,CAAI,EAAC,KAAK,IAAI,GAAiB,YAAAd,EAAAc,CAAI,EAAC,KAAK,EAAE,EAAA,yBAf9DG,EAAAC,EAAA,EAAA,aAAAlB,EAAAL,CAAS,IAAG,cAAe,+CAA+C,EAAE,EAAA,EAC5EsB,EAAAE,EAAA,EAAA,aAAAnB,EAAAL,CAAS,IAAG,YAAa,+CAA+C,EAAE,EAAA,EAC1EsB,EAAAG,EAAA,EAAA,aAAApB,EAAAL,CAAS,IAAG,MAAO,+CAA+C,EAAE,EAAA,IAF0B0B,EAAA,QAAAH,EAAA,IAAAhB,EAAAP,EAAU,aAAa,CAAA,EACzB0B,EAAA,QAAAF,EAAA,IAAAjB,EAAAP,EAAU,WAAW,CAAA,EAC3B0B,EAAA,QAAAD,EAAA,IAAAlB,EAAAP,EAAU,KAAK,CAAA,qBAlBhIS,CAAU,EAAC,SAAW,EAACK,EAAAa,EAAA,EAAAb,EAAAc,GAAA,EAAA,yBAXrBC,EAAgB,EAAAf,EAAAgB,GAAA,EAAA,EAAAhB,EAAAiB,EAAA,iBAFtBC,EAAY,EAAAlB,EAAAmB,EAAA,EAAAnB,EAAAoB,GAAA,EAAA"}