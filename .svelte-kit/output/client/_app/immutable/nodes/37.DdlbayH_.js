import"../chunks/COm6N4YE.js";import"../chunks/69_IOA4Y.js";import{p as ae,l as ie,s as l,m as d,ah as Se,a as ne,d as s,r as o,c as t,t as le,g as e,b as de,f as $e,$ as Le,e as p,k as Ce}from"../chunks/HPQed-Yx.js";import{t as A,a as k,c as Fe,e as Pe}from"../chunks/ZM6Rlk1U.js";import{h as je}from"../chunks/Bkjpsbyi.js";import{i as J}from"../chunks/Da7F0fHf.js";import{b as Ae}from"../chunks/RqW7FABT.js";import{i as Te}from"../chunks/D0cPXSkH.js";import{s as Me,a as f}from"../chunks/CGqtlgv0.js";import{i as De,l as Ie,f as qe,e as Ee}from"../chunks/BRK8y73W.js";import{f as Ue,g as Ve,h as We}from"../chunks/j_iAVkhk.js";import{g as Ye}from"../chunks/GvWXBGfm.js";import{s as oe}from"../chunks/PqlH_gqs.js";import{s as re}from"../chunks/XjHDu-gE.js";import{p as q}from"../chunks/BWjJF4ZV.js";import{F as ze}from"../chunks/B8g5sepC.js";var Be=A('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"> </p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p></div> <div><i></i></div></div></div>');function x(E,v){ae(v,!1);const a=d();let U=q(v,"title",8),w=q(v,"value",8),S=q(v,"icon",8,"fa-chart-line"),m=q(v,"color",8,"blue");const $={blue:{bg:"bg-blue-100 dark:bg-blue-900",text:"text-blue-600 dark:text-blue-300"},green:{bg:"bg-green-100 dark:bg-green-900",text:"text-green-600 dark:text-green-300"},red:{bg:"bg-red-100 dark:bg-red-900",text:"text-red-600 dark:text-red-300"},yellow:{bg:"bg-yellow-100 dark:bg-yellow-900",text:"text-yellow-600 dark:text-yellow-300"},indigo:{bg:"bg-indigo-100 dark:bg-indigo-900",text:"text-indigo-600 dark:text-indigo-300"},purple:{bg:"bg-purple-100 dark:bg-purple-900",text:"text-purple-600 dark:text-purple-300"},gray:{bg:"bg-gray-100 dark:bg-gray-800",text:"text-gray-600 dark:text-gray-300"}};ie(()=>Se(m()),()=>{l(a,$[m()])}),ne();var u=Be(),L=s(u),_=s(L),c=s(_),b=s(c,!0);o(c);var g=t(c,2),T=s(g,!0);o(g),o(_);var h=t(_,2),M=s(h);o(h),o(L),o(u),le(()=>{var C,F,D;oe(b,U()),oe(T,w()),re(h,1,`h-12 w-12 ${(C=e(a).bg)!=null?C:""} rounded-full flex items-center justify-center ${(F=e(a).text)!=null?F:""}`),re(M,1,`fas ${(D=S())!=null?D:""} text-xl`)}),k(E,u),de()}var Ge=A('<div class="flex items-center justify-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),He=A('<div class="flex flex-col items-center justify-center min-h-[60vh]"><p class="text-lg text-gray-600 dark:text-gray-300 mb-4">Log in to view your statistics.</p> <button class="px-6 py-2 bg-indigo-600 text-white rounded">Log In</button></div>'),Je=A('<div class="flex items-center justify-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),Ke=A('<div class="max-w-5xl mx-auto px-4 py-6 space-y-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white">Your Statistics</h1> <div class="grid grid-cols-2 md:grid-cols-4 gap-6"><!> <!> <!> <!> <!> <!> <!></div> <div class="space-y-4"><div class="flex items-center space-x-4"><label class="font-medium">View by:</label> <select class="rounded border-gray-300 p-2 bg-white dark:bg-gray-800"><option>Daily</option><option>Weekly</option><option>Monthly</option></select></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4" style="height: 300px;"><!></div></div></div>');function ct(E,v){ae(v,!1);const[a,U]=Me(),w=()=>f(De,"$isAuthenticated",a),S=()=>f(Ie,"$authLoading",a),m=()=>f(qe,"$userProfileLoading",a),$=()=>f(Ee,"$userProfile",a),u=()=>f(Ue,"$focusSessions",a),L=()=>f(Ve,"$todos",a),_=()=>f(We,"$exerciseSessions",a);let c=d("week"),b=d(0),g=d(0),T=d(0),h=d(0),M=d(0),C=d(0),F=d(0);function D(){Ye("/login?redirect=/statistics")}ie(()=>(w(),S(),m(),$(),u(),e(g),e(b),L(),_()),()=>{if(w()&&!S()&&!m()&&$()){const i=u();l(g,i.length),l(b,i.reduce((r,n)=>r+n.duration/60,0)),l(T,e(g)?e(b)/e(g):0),l(h,i.reduce((r,n)=>Math.max(r,n.duration/60),0)),l(M,L().filter(r=>r.completed).length),l(C,_().filter(r=>r.completed).length);const V=($().preferences||{}).enrollments||[];l(F,V.filter(r=>r.progress>0&&r.progress<100).length)}}),ne(),Te();var K=Fe();je(i=>{Le.title="Statistics | LearnFlow"});var ce=$e(K);{var ge=i=>{var I=Ge();k(i,I)},ve=(i,I)=>{{var V=n=>{var P=He(),W=t(s(P),2);o(P),Pe("click",W,D),k(n,P)},r=(n,P)=>{{var W=y=>{var j=Je();k(y,j)},ue=y=>{var j=Ke(),Y=t(s(j),2),N=s(Y);const pe=p(()=>String(e(g)));x(N,{title:"Focus Sessions",get value(){return e(pe)},icon:"fa-stopwatch",color:"yellow"});var O=t(N,2);const fe=p(()=>String(Math.round(e(b))));x(O,{title:"Total Focus (min)",get value(){return e(fe)},icon:"fa-clock",color:"purple"});var Q=t(O,2);const xe=p(()=>e(T).toFixed(1));x(Q,{title:"Avg Session (min)",get value(){return e(xe)},icon:"fa-chart-line",color:"blue"});var R=t(Q,2);const me=p(()=>e(h).toFixed(1));x(R,{title:"Longest Session",get value(){return e(me)},icon:"fa-mountain",color:"indigo"});var X=t(R,2);const _e=p(()=>String(e(M)));x(X,{title:"Tasks Completed",get value(){return e(_e)},icon:"fa-list-check",color:"green"});var Z=t(X,2);const be=p(()=>String(e(C)));x(Z,{title:"Exercises Completed",get value(){return e(be)},icon:"fa-pencil-alt",color:"gray"});var he=t(Z,2);const ye=p(()=>String(e(F)));x(he,{title:"Courses In Progress",get value(){return e(ye)},icon:"fa-book-open",color:"red"}),o(Y);var ee=t(Y,2),z=s(ee),B=t(s(z),2);le(()=>{e(c),Ce(()=>{})});var G=s(B);G.value=G.__value="day";var H=t(G);H.value=H.__value="week";var te=t(H);te.value=te.__value="month",o(B),o(z);var se=t(z,2),ke=s(se);ze(ke,{get sessions(){return u()},get timeUnit(){return e(c)}}),o(se),o(ee),o(j),Ae(B,()=>e(c),we=>l(c,we)),k(y,j)};J(n,y=>{m()?y(W):y(ue,!1)},P)}};J(i,n=>{w()?n(r,!1):n(V)},I)}};J(ce,i=>{S()?i(ge):i(ve,!1)})}k(E,K),de(),U()}export{ct as component};
//# sourceMappingURL=37.DdlbayH_.js.map
