import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as M,t as R,g as r,b as Q,$ as V,e as t,c as i,s as a,m as d,r as o,n as S}from"../chunks/D8Zr53n5.js";import{s as I}from"../chunks/UpSy6tP0.js";import{i as J}from"../chunks/BAqAra_5.js";import{t as q,a as P}from"../chunks/ByokzzJe.js";import{h as W,e as X,r as Y}from"../chunks/CCLz0Z0F.js";import{r as u}from"../chunks/DpNHaJTn.js";import{b,a as Z}from"../chunks/Djn-aou_.js";import{p as ee}from"../chunks/Bfc47y5P.js";import{i as re}from"../chunks/BzVavbfz.js";import{g as ae}from"../chunks/BMc8ARJA.js";var te=q('<div class="text-red-500"> </div>'),ie=q('<div class="text-green-600 font-semibold">Group created successfully! Redirecting...</div>'),oe=q('<div class="max-w-xl mx-auto py-10 px-4"><h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Create a New Group</h1> <form class="space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div><label class="block text-sm font-medium mb-1">Group Name</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required></div> <div><label class="block text-sm font-medium mb-1">Description</label> <textarea class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" rows="3" required></textarea></div> <div><label class="block text-sm font-medium mb-1">Topic</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required></div> <div><label class="block text-sm font-medium mb-1">Image URL (optional)</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></div> <div class="flex items-center gap-2"><input type="checkbox" id="isPublic"> <label for="isPublic" class="text-sm">Public group (anyone can join)</label></div> <!> <!> <div class="flex gap-4"><button type="submit" class="px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md"> </button> <a href="/groups" class="px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md">Cancel</a></div></form></div>');function xe(U,z){M(z,!1);let n=d(""),p=d(""),c=d(""),g=d(""),v=d(!0),l=d(""),m=d(!1),f=d(!1);async function A(){if(a(l,""),a(f,!1),!r(n).trim()||!r(p).trim()||!r(c).trim()){a(l,"Please fill in all required fields.");return}a(m,!0);try{const e=await fetch("/api/groups/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r(n),description:r(p),topic:r(c),image:r(g),is_public:r(v)})});if(e.ok)a(f,!0),setTimeout(()=>ae("/groups"),1200);else{const s=await e.json().catch(()=>({}));a(l,(s==null?void 0:s.error)||"Failed to create group.")}}catch{a(l,"Failed to create group.")}finally{a(m,!1)}}re();var x=oe();W(e=>{V.title="Create New Group | LearnFlow"});var y=t(i(x),2),h=i(y),N=t(i(h),2);u(N),o(h);var _=t(h,2),T=t(i(_),2);Y(T),o(_);var k=t(_,2),$=t(i(k),2);u($),o(k);var w=t(k,2),j=t(i(w),2);u(j),o(w);var C=t(w,2),F=i(C);u(F),S(2),o(C);var D=t(C,2);{var B=e=>{var s=te(),K=i(s,!0);o(s),R(()=>I(K,r(l))),P(e,s)};J(D,e=>{r(l)&&e(B)})}var L=t(D,2);{var E=e=>{var s=ie();P(e,s)};J(L,e=>{r(f)&&e(E)})}var O=t(L,2),G=i(O),H=i(G,!0);o(G),S(2),o(O),o(y),o(x),R(()=>{G.disabled=r(m),I(H,r(m)?"Creating...":"Create Group")}),b(N,()=>r(n),e=>a(n,e)),b(T,()=>r(p),e=>a(p,e)),b($,()=>r(c),e=>a(c,e)),b(j,()=>r(g),e=>a(g,e)),Z(F,()=>r(v),e=>a(v,e)),X("submit",y,ee(A)),P(U,x),Q()}export{xe as component};
