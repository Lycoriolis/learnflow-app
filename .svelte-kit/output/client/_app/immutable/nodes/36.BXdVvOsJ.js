var Ae=Object.defineProperty;var ce=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var pe=(v,d,r)=>d in v?Ae(v,d,{enumerable:!0,configurable:!0,writable:!0,value:r}):v[d]=r,be=(v,d)=>{for(var r in d||(d={}))je.call(d,r)&&pe(v,r,d[r]);if(ce)for(var r of ce(d))Me.call(d,r)&&pe(v,r,d[r]);return v};var fe=(v,d,r)=>new Promise((N,k)=>{var A=m=>{try{y(r.next(m))}catch(u){k(u)}},j=m=>{try{y(r.throw(m))}catch(u){k(u)}},y=m=>m.done?N(m.value):Promise.resolve(m.value).then(A,j);y((r=r.apply(v,d)).next())});import"../chunks/COm6N4YE.js";import"../chunks/69_IOA4Y.js";import{p as Ie,b as Te,$ as Ue,s as g,m as b,d as t,r as i,c as a,f as Ce,g as e,t as K,k as Ee,j as S}from"../chunks/HPQed-Yx.js";import{s as ke}from"../chunks/PqlH_gqs.js";import{i as Q}from"../chunks/Da7F0fHf.js";import{t as B,a as h,e as R}from"../chunks/ZM6Rlk1U.js";import{h as Fe}from"../chunks/Bkjpsbyi.js";import{r as f,b as Oe}from"../chunks/G1Z7eEzt.js";import{b as x}from"../chunks/D8Qc2aSm.js";import{b as We}from"../chunks/RqW7FABT.js";import{i as qe}from"../chunks/D0cPXSkH.js";import{s as ze,a as w}from"../chunks/CGqtlgv0.js";import{o as Ge}from"../chunks/Bpt9IQqH.js";import{e as ye,l as He,f as Je,i as Ke,u as Qe,h as Re,g as Ve,j as Xe}from"../chunks/BRK8y73W.js";import{g as Ye}from"../chunks/GvWXBGfm.js";import{t as _e}from"../chunks/j_iAVkhk.js";import{i as Ze}from"../chunks/D8i9UXqZ.js";var ea=B('<div class="flex justify-center items-center min-h-[50vh]"><i class="fas fa-spinner fa-spin text-3xl text-indigo-500"></i></div>'),aa=B('<div class="text-red-500 mb-4"> </div>'),ra=B('<h1 class="text-2xl font-bold mb-4">Account Settings</h1> <!> <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 space-y-6"><div><h2 class="text-lg font-semibold mb-2">Profile</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="displayName" class="block text-sm font-medium mb-1">Display Name</label> <input type="text" id="displayName" class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></div> <div><label for="email" class="block text-sm font-medium mb-1">Email (cannot change)</label> <input type="email" id="email" readonly="" class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-gray-100 dark:bg-gray-600 text-gray-500"></div></div></div> <div><h2 class="text-lg font-semibold mb-2">Preferences</h2> <div class="space-y-4"><div><label for="theme" class="block text-sm font-medium mb-1">Theme</label> <select id="theme" class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700"><option>Auto</option><option>Light</option><option>Dark</option></select></div> <div><fieldset class="space-y-4"><legend class="text-sm font-medium mb-1">Pomodoro Durations (minutes)</legend> <div class="grid grid-cols-2 gap-4"><div><label for="work-duration" class="block text-sm text-gray-500">Work Duration</label> <input type="number" id="work-duration" min="1" class="w-full rounded border-gray-300 dark:border-gray-600 p-2"></div> <div><label for="short-break" class="block text-sm text-gray-500">Short Break</label> <input type="number" id="short-break" min="1" class="w-full rounded border-gray-300 dark:border-gray-600 p-2"></div> <div><label for="long-break" class="block text-sm text-gray-500">Long Break</label> <input type="number" id="long-break" min="1" class="w-full rounded border-gray-300 dark:border-gray-600 p-2"></div> <div><label for="interval" class="block text-sm text-gray-500">Sessions Before Long Break</label> <input type="number" id="interval" min="1" class="w-full rounded border-gray-300 dark:border-gray-600 p-2"></div></div></fieldset></div></div></div> <div class="flex justify-end space-x-2"><button class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">Sign Out</button> <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"> </button></div></div>',1),ta=B('<div class="text-center py-20"><p class="text-lg text-gray-600 dark:text-gray-300 mb-4">Please log in to manage your settings.</p> <button class="px-6 py-2 bg-indigo-600 text-white rounded">Log In</button></div>'),ia=B('<div class="max-w-3xl mx-auto px-4 py-6"><!></div>');function wa(v,d){Ie(d,!1);const[r,N]=ze(),k=()=>w(ye,"$userProfile",r),A=()=>w(He,"$authLoading",r),j=()=>w(Je,"$userProfileLoading",r),y=()=>w(Ke,"$isAuthenticated",r),m=()=>w(Qe,"$user",r);let u=b(""),V=b(""),_=b("auto"),s=b({work:25,shortBreak:5,longBreak:15,interval:4}),$=b(!1),P=b(null),M,I;Ge(()=>(M=ye.subscribe(o=>{var l;o&&(g(u,o.displayName||""),g(V,o.email),g(_,((l=o.preferences)==null?void 0:l.theme)||"auto"))}),I=_e.subscribe(o=>{g(s,{work:Math.round(o.workDuration/60),shortBreak:Math.round(o.shortBreakDuration/60),longBreak:Math.round(o.longBreakDuration/60),interval:o.longBreakInterval})}),()=>{M&&M(),I&&I()}));function he(){return fe(this,null,function*(){var o;g($,!0),g(P,null);try{const l=Ve();l&&e(u)!==l.displayName&&(yield Ze(l,{displayName:e(u)})),l&&(yield Xe(l.uid,{displayName:e(u),preferences:be({theme:e(_)},((o=k())==null?void 0:o.preferences)||{})})),_e.set({workDuration:e(s).work*60,shortBreakDuration:e(s).shortBreak*60,longBreakDuration:e(s).longBreak*60,longBreakInterval:e(s).interval})}catch(l){console.error(l),g(P,l.message)}finally{g($,!1)}})}function xe(){Ye("/login?redirect=/settings")}qe();var T=ia();Fe(o=>{Ue.title="Account Settings | LearnFlow"});var we=t(T);{var Be=o=>{var l=ea();h(o,l)},$e=(o,l)=>{{var Pe=c=>{var p=ra(),L=a(Ce(p),2);{var De=n=>{var J=aa(),Ne=t(J,!0);i(J),K(()=>ke(Ne,e(P))),h(n,J)};Q(L,n=>{e(P)&&n(De)})}var X=a(L,2),U=t(X),Y=a(t(U),2),C=t(Y),Z=a(t(C),2);f(Z),i(C);var ee=a(C,2),ae=a(t(ee),2);f(ae),i(ee),i(Y),i(U);var E=a(U,2),re=a(t(E),2),F=t(re),O=a(t(F),2);K(()=>{e(_),Ee(()=>{})});var W=t(O);W.value=W.__value="auto";var q=a(W);q.value=q.__value="light";var te=a(q);te.value=te.__value="dark",i(O),i(F);var ie=a(F,2),oe=t(ie),se=a(t(oe),2),z=t(se),le=a(t(z),2);f(le),i(z);var G=a(z,2),ne=a(t(G),2);f(ne),i(G);var H=a(G,2),de=a(t(H),2);f(de),i(H);var ve=a(H,2),ue=a(t(ve),2);f(ue),i(ve),i(se),i(oe),i(ie),i(re),i(E);var ge=a(E,2),me=t(ge),D=a(me,2),Se=t(D,!0);i(D),i(ge),i(X),K(()=>{Oe(ae,e(V)),D.disabled=e($),ke(Se,e($)?"Saving...":"Save Changes")}),x(Z,()=>e(u),n=>g(u,n)),We(O,()=>e(_),n=>g(_,n)),x(le,()=>e(s).work,n=>S(s,e(s).work=n)),x(ne,()=>e(s).shortBreak,n=>S(s,e(s).shortBreak=n)),x(de,()=>e(s).longBreak,n=>S(s,e(s).longBreak=n)),x(ue,()=>e(s).interval,n=>S(s,e(s).interval=n)),R("click",me,()=>Re()),R("click",D,he),h(c,p)},Le=c=>{var p=ta(),L=a(t(p),2);i(p),R("click",L,xe),h(c,p)};Q(o,c=>{y()&&m()&&k()?c(Pe):c(Le,!1)},l)}};Q(we,o=>{A()||j()?o(Be):o($e,!1)})}i(T),h(v,T),Te(),N()}export{wa as component};
//# sourceMappingURL=36.BXdVvOsJ.js.map
