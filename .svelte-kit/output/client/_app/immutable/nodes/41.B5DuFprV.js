import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Ye,l as ce,a as Ze,t as j,c as o,e as a,g as e,b as et,$ as tt,at as H,m as x,s,i as we,r as i,j as ve,f as at}from"../chunks/D8Zr53n5.js";import{s as A}from"../chunks/UpSy6tP0.js";import{i as D}from"../chunks/BAqAra_5.js";import{e as rt}from"../chunks/8AErAcLY.js";import{t as f,a as v,c as it}from"../chunks/ByokzzJe.js";import{h as ot,e as m,r as dt}from"../chunks/CCLz0Z0F.js";import{r as P}from"../chunks/DpNHaJTn.js";import{s as Te}from"../chunks/Cw_GgyMt.js";import{t as pe,a as nt,f as De}from"../chunks/CwmK-V57.js";import{b as U}from"../chunks/Djn-aou_.js";import{b as Ie}from"../chunks/dleV8ATl.js";import{p as lt}from"../chunks/Bfc47y5P.js";import{i as st}from"../chunks/BzVavbfz.js";import{s as gt,a as ct}from"../chunks/CYIMW-vo.js";import{g as Q}from"../chunks/DXDQnthP.js";import{q as vt}from"../chunks/Ccw7PXcW.js";var pt=f('<i class="fas fa-check-circle text-green-500 ml-2"></i>'),ft=f('<span class="ml-2 px-2 py-0.5 rounded-full text-xs font-bold bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 animate-pulse">!</span>'),ut=f('<li draggable=""><button><span class="truncate flex-1"> </span> <!> <!></button></li>'),bt=f('<div class="flex flex-col items-center mt-16 text-indigo-300 dark:text-indigo-700 animate-fade-in svelte-174qopp"><i class="fas fa-inbox text-4xl mb-2"></i> <p class="text-base font-medium">No tasks match your filter.</p></div>'),xt=f('<div><h3 class="text-lg font-bold mb-4 text-indigo-700 dark:text-indigo-200">Edit Task</h3> <input class="w-full rounded-lg border border-gray-300 dark:border-gray-600 p-2 mb-2 text-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-semibold shadow focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition"> <textarea class="w-full rounded-lg border border-gray-300 dark:border-gray-600 p-2 mb-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow" rows="3" placeholder="Description..."></textarea> <div class="flex flex-wrap gap-2 mb-2"><input type="date" class="rounded-lg border border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow"> <select class="rounded-lg border border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow"><option>Low</option><option>Medium-Low</option><option>Medium</option><option>High</option><option>Critical</option></select> <input class="rounded-lg border border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow" placeholder="Tag"></div> <div class="flex space-x-2 mt-2"><button class="px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition shadow"><i class="fas fa-save mr-1"></i> Save</button> <button class="px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition shadow"><i class="fas fa-times mr-1"></i> Cancel</button></div></div>'),mt=f('<span class="ml-3 px-2 py-0.5 rounded-full text-xs font-bold bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-700"> </span>'),_t=f("<span> </span>"),yt=f('<span class="italic text-gray-400">No description</span>'),ht=f('<span class="inline-flex items-center px-2 py-0.5 rounded bg-pink-100 dark:bg-pink-900 text-pink-700 dark:text-pink-200 font-semibold text-xs border border-pink-200 dark:border-pink-800"><i class="fas fa-calendar-day mr-1"></i> </span>'),kt=f('<span class="italic text-gray-400">No deadline</span>'),wt=f('<span class="ml-2 px-2 py-1 bg-green-100 text-green-700 rounded text-xs">Completed</span>'),Tt=f('<div><div class="flex items-center justify-between mb-2"><h3 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center"> <!></h3> <div class="flex space-x-2"><button class="px-3 py-1 bg-yellow-400 text-white rounded-lg font-semibold hover:bg-yellow-500 transition shadow"><i class="fas fa-edit"></i></button> <button class="px-3 py-1 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition shadow"><i class="fas fa-trash"></i></button></div></div> <div class="mb-4 text-gray-700 dark:text-gray-200"><div class="mb-2 flex items-center"><span class="font-semibold mr-2">Description:</span> <!></div> <div class="mb-2 flex items-center"><span class="font-semibold mr-2">Deadline:</span> <!></div> <div class="mb-2 flex items-center"><span class="font-semibold mr-2">Emergency:</span> <span class="inline-flex items-center px-2 py-0.5 rounded bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 font-bold text-xs border border-red-200 dark:border-red-800"> </span></div></div> <div class="flex items-center space-x-2 mt-4"><span class="text-sm text-gray-500"> </span> <!></div></div>'),Dt=f('<div class="flex flex-col items-center justify-center h-full text-indigo-200 dark:text-indigo-800 animate-fade-in svelte-174qopp"><i class="fas fa-tasks text-5xl mb-4"></i> <div class="text-lg font-semibold">Select a task to see details</div></div>'),It=f('<div class="flex flex-col md:flex-row h-[70vh] max-w-5xl mx-auto bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden mt-10 border border-gray-200 dark:border-gray-800"><div class="w-full md:w-1/3 border-r border-gray-100 dark:border-gray-800 bg-gradient-to-b from-indigo-50/80 dark:from-indigo-900/40 to-white dark:to-gray-900 p-6 overflow-y-auto relative"><h2 class="text-xl font-bold mb-4 text-indigo-700 dark:text-indigo-200 flex items-center"><i class="fas fa-list-check mr-2"></i> Tasks</h2> <div class="mb-4 flex flex-col gap-2"><input class="w-full rounded-lg border border-gray-300 dark:border-gray-600 p-2 mb-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition" placeholder="Task name..."> <button class="w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold shadow transition mb-2"><i class="fas fa-plus mr-1"></i> Add Task</button> <div class="flex gap-2 mt-2"><input class="flex-1 rounded border border-gray-300 dark:border-gray-600 p-1 text-xs bg-white dark:bg-gray-800" placeholder="Filter by tag..."> <select class="rounded border border-gray-300 dark:border-gray-600 p-1 text-xs bg-white dark:bg-gray-800"><option>All</option><option>Low</option><option>Medium-Low</option><option>Medium</option><option>High</option><option>Critical</option></select></div></div> <ul class="space-y-1"></ul> <!> <button class="md:hidden fixed bottom-8 right-8 z-40 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow-lg p-4 transition" aria-label="Add Task"><i class="fas fa-plus text-xl"></i></button></div> <div class="flex-1 p-8 flex flex-col justify-center bg-gradient-to-b from-white dark:from-gray-900 to-indigo-50/60 dark:to-indigo-950"><!></div></div>');function Kt(Le,Se){Ye(Se,!1);const[$e,qe]=gt(),fe=()=>ct(Q,"$todos",$e),I=x(),p=x(),X=x();let $=x(null),z=x(!1),d=x(null),_=x({text:"",description:"",deadline:"",emergency:3,tag:""}),B=x(""),C=x("all"),w=x(null),L=x(null);function Ee(t){s($,t),s(z,!1),s(d,null)}function je(t){s(z,!0),s(d,{...t})}function Ae(){e(d)&&(Q.update(t=>t.map(r=>r.id===e(d).id?{...e(d)}:r)),s(z,!1),s(d,null))}function Ce(){var r;if(!((r=e(_).text)!=null&&r.trim()))return;const t={id:crypto.randomUUID(),text:e(_).text,completed:!1,createdAt:Date.now(),description:e(_).description||"",deadline:e(_).deadline||"",emergency:e(_).emergency||3,tag:e(_).tag||""};Q.update(n=>[...n,t]),s(_,{text:"",description:"",deadline:"",emergency:3,tag:""}),s($,t.id)}function Me(t){Q.update(r=>r.filter(n=>n.id!==t)),e($)===t&&s($,null)}function Ne(t){s(w,t)}function Oe(t){s(L,t)}function Fe(){if(e(w)&&e(L)&&e(w)!==e(L)){const t=e(I).findIndex(n=>n.id===e(w)),r=e(I).findIndex(n=>n.id===e(L));if(t!==-1&&r!==-1){const n=[...e(I)],[M]=n.splice(t,1);n.splice(r,0,M),Q.set(n)}}s(w,null),s(L,null)}function He(){s(w,null),s(L,null)}ce(()=>fe(),()=>{s(I,fe())}),ce(()=>(e(I),e($)),()=>{s(p,e(I).find(t=>t.id===e($))||null)}),ce(()=>(e(I),e(B),e(C)),()=>{s(X,e(I).filter(t=>!(e(B)&&t.tag!==e(B)||e(C)!=="all"&&String(t.emergency)!==e(C))))}),Ze(),st();var Y=It();ot(t=>{tt.title="Tasks | LearnFlow"});var Z=o(Y),ee=a(o(Z),2),te=o(ee);P(te);var ue=a(te,2),be=a(ue,2),ae=o(be);P(ae);var re=a(ae,2);j(()=>{e(C),we(()=>{})});var ie=o(re);ie.value=(ie.__value="all")==null?"":"all";var oe=a(ie);oe.value=(oe.__value="1")==null?"":"1";var de=a(oe);de.value=(de.__value="2")==null?"":"2";var ne=a(de);ne.value=(ne.__value="3")==null?"":"3";var le=a(ne);le.value=(le.__value="4")==null?"":"4";var xe=a(le);xe.value=(xe.__value="5")==null?"":"5",i(re),i(be),i(ee);var se=a(ee,2);rt(se,5,()=>e(X),t=>t.id,(t,r)=>{var n=ut();let M;var N=o(n),y=o(N),u=o(y,!0);i(y);var h=a(y,2);{var T=c=>{var k=pt();v(c,k)};D(h,c=>{e(r).completed&&c(T)})}var S=a(h,2);{var q=c=>{var k=ft();v(c,k)};D(S,c=>{e(r).emergency&&e(r).emergency>=4&&c(q)})}i(N),i(n),j(c=>{M=Te(n,1,"mb-1",null,M,c),Te(N,1,`w-full text-left px-3 py-2 rounded-lg transition font-medium flex items-center justify-between group shadow-sm ${(e($)===e(r).id?"bg-indigo-100 dark:bg-indigo-700 text-indigo-800 dark:text-indigo-100 ring-2 ring-indigo-400":"hover:bg-indigo-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-200")??""}`),A(u,e(r).text)},[()=>({"opacity-50":e(w)===e(r).id,"ring-2":e(L)===e(r).id&&e(w)!==e(r).id,"ring-indigo-400":e(L)===e(r).id&&e(w)!==e(r).id})],ve),m("click",N,()=>Ee(e(r).id)),m("dragstart",n,()=>Ne(e(r).id)),m("dragover",n,lt(()=>Oe(e(r).id))),m("drop",n,Fe),m("dragend",n,He),pe(3,n,()=>nt,()=>({y:10,duration:200,easing:vt})),v(t,n)}),i(se);var me=a(se,2);{var Ue=t=>{var r=bt();v(t,r)};D(me,t=>{e(X).length===0&&t(Ue)})}var ze=a(me,2);i(Z);var _e=a(Z,2),Be=o(_e);{var Ge=t=>{var r=it(),n=at(r);{var M=y=>{var u=xt(),h=a(o(u),2);P(h);var T=a(h,2);dt(T);var S=a(T,2),q=o(S);P(q);var c=a(q,2);j(()=>{e(d),we(()=>{})});var k=o(c);k.value=(k.__value="1")==null?"":"1";var O=a(k);O.value=(O.__value="2")==null?"":"2";var G=a(O);G.value=(G.__value="3")==null?"":"3";var E=a(G);E.value=(E.__value="4")==null?"":"4";var F=a(E);F.value=(F.__value="5")==null?"":"5",i(c);var R=a(c,2);P(R),i(S);var V=a(S,2),W=o(V),J=a(W,2);i(V),i(u),U(h,()=>e(d).text,b=>H(d,e(d).text=b)),U(T,()=>e(d).description,b=>H(d,e(d).description=b)),U(q,()=>e(d).deadline,b=>H(d,e(d).deadline=b)),Ie(c,()=>e(d).emergency,b=>H(d,e(d).emergency=b)),U(R,()=>e(d).tag,b=>H(d,e(d).tag=b)),m("click",W,Ae),m("click",J,()=>{s(z,!1),s(d,null)}),pe(1,u,()=>De),v(y,u)},N=y=>{var u=Tt(),h=o(u),T=o(h),S=o(T),q=a(S);{var c=l=>{var g=mt(),K=o(g,!0);i(g),j(()=>A(K,e(p).tag)),v(l,g)};D(q,l=>{e(p).tag&&l(c)})}i(T);var k=a(T,2),O=o(k),G=a(O,2);i(k),i(h);var E=a(h,2),F=o(E),R=a(o(F),2);{var V=l=>{var g=_t(),K=o(g,!0);i(g),j(()=>A(K,e(p).description)),v(l,g)},W=l=>{var g=yt();v(l,g)};D(R,l=>{e(p).description?l(V):l(W,!1)})}i(F);var J=a(F,2),b=a(o(J),2);{var Ke=l=>{var g=ht(),K=a(o(g));i(g),j(Xe=>A(K,` ${Xe??""}`),[()=>new Date(e(p).deadline).toLocaleDateString()],ve),v(l,g)},Pe=l=>{var g=kt();v(l,g)};D(b,l=>{e(p).deadline?l(Ke):l(Pe,!1)})}i(J);var ye=a(J,2),he=a(o(ye),2),Qe=o(he);i(he),i(ye),i(E);var ke=a(E,2),ge=o(ke),Re=o(ge);i(ge);var Ve=a(ge,2);{var We=l=>{var g=wt();v(l,g)};D(Ve,l=>{e(p).completed&&l(We)})}i(ke),i(u),j(l=>{A(S,`${e(p).text??""} `),A(Qe,`${e(p).emergency||3} / 5`),A(Re,`Created: ${l??""}`)},[()=>new Date(e(p).createdAt).toLocaleString()],ve),m("click",O,()=>je(e(p))),m("click",G,()=>Me(e(p).id)),pe(1,u,()=>De),v(y,u)};D(n,y=>{e(z)?y(M):y(N,!1)})}v(t,r)},Je=t=>{var r=Dt();v(t,r)};D(Be,t=>{e(p)?t(Ge):t(Je,!1)})}i(_e),i(Y),U(te,()=>e(_).text,t=>H(_,e(_).text=t)),m("click",ue,Ce),U(ae,()=>e(B),t=>s(B,t)),Ie(re,()=>e(C),t=>s(C,t)),m("click",ze,()=>{var t;return(t=document.querySelector('input[placeholder="Task name..."]'))==null?void 0:t.focus()}),v(Le,Y),et(),qe()}export{Kt as component};
