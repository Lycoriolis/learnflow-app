import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as le,l as oe,a as re,t as ie,b as ne,$ as ve,e as l,c as s,s as t,g as e,m as n,n as G,r as a,aE as b,aF as ce}from"../chunks/D8Zr53n5.js";import{s as x}from"../chunks/UpSy6tP0.js";import{i as pe}from"../chunks/BAqAra_5.js";import{t as D,a as P}from"../chunks/ByokzzJe.js";import{h as fe,e as R}from"../chunks/CCLz0Z0F.js";import{s as de}from"../chunks/DpNHaJTn.js";import{s as ue}from"../chunks/Cw_GgyMt.js";import{i as me}from"../chunks/BzVavbfz.js";import{o as be,a as xe}from"../chunks/DyX_nzx0.js";import{l as ye,a as ge,b as y}from"../chunks/C44GRa1C.js";var _e=D('<div class="absolute inset-0 flex items-center justify-center pointer-events-none animate-bounce svelte-1abuzv3"><span class="text-5xl svelte-1abuzv3">üéâ</span></div>'),ze=D('<div class="flex flex-col items-center justify-center min-h-[60vh] py-10 svelte-1abuzv3"><div class="relative mb-8 svelte-1abuzv3"><svg width="180" height="180" viewBox="0 0 180 180" class="svelte-1abuzv3"><circle cx="90" cy="90" r="80" fill="#f3f4f6" class="svelte-1abuzv3"></circle><circle cx="90" cy="90" r="80" fill="none" stroke="#f87171" stroke-width="14" stroke-dasharray="502" stroke-linecap="round" style="transition: stroke-dashoffset 0.5s linear;" class="svelte-1abuzv3"></circle><circle cx="90" cy="90" r="60" fill="#f87171" class="svelte-1abuzv3"></circle><ellipse cx="90" cy="70" rx="18" ry="10" fill="#34d399" class="svelte-1abuzv3"></ellipse><ellipse cx="80" cy="100" rx="6" ry="8" fill="#fff" class="svelte-1abuzv3"></ellipse><ellipse cx="100" cy="100" rx="6" ry="8" fill="#fff" class="svelte-1abuzv3"></ellipse><ellipse cx="80" cy="102" rx="2" ry="3" fill="#222" class="svelte-1abuzv3"></ellipse><ellipse cx="100" cy="102" rx="2" ry="3" fill="#222" class="svelte-1abuzv3"></ellipse><path d="M80 115 Q90 125 100 115" stroke="#222" stroke-width="3" fill="none" class="svelte-1abuzv3"></path></svg> <!> <div class="absolute inset-0 flex flex-col items-center justify-center svelte-1abuzv3"><span class="text-5xl font-mono font-bold text-gray-900 dark:text-white drop-shadow svelte-1abuzv3"> </span> <span> </span></div></div> <div class="flex space-x-4 mb-6 svelte-1abuzv3"><button class="px-6 py-2 rounded-lg bg-indigo-600 text-white font-bold shadow hover:bg-indigo-700 transition svelte-1abuzv3"><i class="fas fa-play mr-2 svelte-1abuzv3"></i> Start</button> <button class="px-6 py-2 rounded-lg bg-yellow-400 text-white font-bold shadow hover:bg-yellow-500 transition svelte-1abuzv3"><i class="fas fa-pause mr-2 svelte-1abuzv3"></i> Pause</button> <button class="px-6 py-2 rounded-lg bg-gray-300 text-gray-700 font-bold shadow hover:bg-gray-400 transition svelte-1abuzv3"><i class="fas fa-redo mr-2 svelte-1abuzv3"></i> Reset</button></div> <div class="flex items-center space-x-6 mt-2 svelte-1abuzv3"><span class="text-sm text-gray-500 svelte-1abuzv3">Cycle: <span class="font-bold text-indigo-600 svelte-1abuzv3"> </span></span> <span class="text-sm text-gray-500 svelte-1abuzv3">Completed: <span class="font-bold text-green-500 svelte-1abuzv3"> </span></span></div> <div class="mt-8 text-center text-gray-400 text-xs svelte-1abuzv3"><span class="svelte-1abuzv3">Stay focused! Every 4 cycles, enjoy a longer break üçÖ</span></div></div>');function Me(Q,Y){le(Y,!1);const T=n(),c=25,d=5,u=15,p=4;let o=n(c),r=n(0),f=n(!1),i=n(!0),v=n(1),L=null,M=n(0),g=n(!1),_=null;be(async()=>{_=await ye("view_pomodoro","pomodoro"),N()}),xe(()=>{_&&ge(_)});function q(){y("start_pomodoro","pomodoro"),e(f)||(t(f,!0),L=setInterval(J,1e3))}function z(){y("pause_pomodoro","pomodoro"),t(f,!1),clearInterval(L)}function N(){y("reset_pomodoro","pomodoro"),z(),t(o,e(i)?c:e(v)%p===0?u:d),t(r,0)}async function H(){y("complete_session","pomodoro",{isWork:e(i)}),z(),t(g,!0),await ce(),setTimeout(()=>t(g,!1),2e3),e(i)?(b(M),t(i,!1),t(o,e(v)%p===0?u:d),b(v)):(t(i,!0),t(o,c)),t(r,0)}function J(){if(e(r)===0)if(e(o)===0){H();return}else b(o,-1),t(r,59);else b(r,-1)}oe(()=>(e(o),e(r)),()=>{t(T,`${e(o).toString().padStart(2,"0")}:${e(r).toString().padStart(2,"0")}`)}),re(),me();var h=ze();fe(m=>{ve.title="Pomodoro Timer | LearnFlow"});var k=s(h),w=s(k),U=l(s(w));G(7),a(w);var j=l(w,2);{var V=m=>{var ae=_e();P(m,ae)};pe(j,m=>{e(g)&&m(V)})}var O=l(j,2),E=s(O),X=s(E,!0);a(E);var S=l(E,2),Z=s(S,!0);a(S),a(O),a(k);var $=l(k,2),B=s($),C=l(B,2),ee=l(C,2);a($);var W=l($,2),I=s(W),F=l(s(I)),te=s(F,!0);a(F),a(I);var K=l(I,2),A=l(s(K)),se=s(A,!0);a(A),a(K),a(W),G(2),a(h),ie(()=>{de(U,"stroke-dashoffset",e(i)?502-502*((c*60-(e(o)*60+e(r)))/(c*60)):502-502*((e(v)%p===0?u:d)*60-(e(o)*60+e(r)))/((e(v)%p===0?u:d)*60)),x(X,e(T)),ue(S,1,`mt-2 text-lg font-semibold ${(e(i)?"text-red-500":"text-green-500")??""}`,"svelte-1abuzv3"),x(Z,e(i)?"Work":e(v)%p===0?"Long Break":"Break"),B.disabled=e(f),C.disabled=!e(f),x(te,e(v)),x(se,e(M))}),R("click",B,q),R("click",C,z),R("click",ee,N),P(Q,h),ne()}export{Me as component};
