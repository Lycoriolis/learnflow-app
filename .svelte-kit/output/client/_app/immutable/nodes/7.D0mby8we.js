var Ce=Object.defineProperty;var ce=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var le=(n,l,o)=>l in n?Ce(n,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[l]=o,ne=(n,l)=>{for(var o in l||(l={}))Ae.call(l,o)&&le(n,o,l[o]);if(ce)for(var o of ce(l))Ne.call(l,o)&&le(n,o,l[o]);return n};var X=(n,l,o)=>new Promise((B,M)=>{var O=s=>{try{m(o.next(s))}catch(g){M(g)}},R=s=>{try{m(o.throw(s))}catch(g){M(g)}},m=s=>s.done?B(s.value):Promise.resolve(s.value).then(O,R);m((o=o.apply(n,l)).next())});import"../chunks/COm6N4YE.js";import"../chunks/69_IOA4Y.js";import{p as De,t as T,b as Fe,c as d,d as t,r,g as e,m as $,s as a,e as je,n as Ue}from"../chunks/HPQed-Yx.js";import{s as b}from"../chunks/PqlH_gqs.js";import{i as q}from"../chunks/Da7F0fHf.js";import{e as $e,i as Ee}from"../chunks/ErG-rR4v.js";import{t as k,e as Y,a as f,r as Ie}from"../chunks/ZM6Rlk1U.js";import{r as ge,s as Le}from"../chunks/G1Z7eEzt.js";import{b as Z}from"../chunks/D8Qc2aSm.js";import{i as Te}from"../chunks/D0cPXSkH.js";import{s as qe,a as ee}from"../chunks/CGqtlgv0.js";import{o as Pe}from"../chunks/Bpt9IQqH.js";import{l as re,i as Ge,e as Me,c as Oe}from"../chunks/DucSn23Y.js";import{c as Re,d as Se}from"../chunks/BWnoWNEX.js";import{I as te}from"../chunks/BC8mezXZ.js";var ze=k('<div class="bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-md mb-6"><p> </p></div>'),Be=k('<div class="bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 p-4 rounded-md mb-6"><p> </p></div>'),He=k('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8"><h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Create New Category</h2> <!> <!> <div class="space-y-4"><div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name *</label> <input type="text" id="name" placeholder="e.g., General Discussion" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-cherry-500 focus:border-cherry-500 dark:focus:ring-cherry-400 dark:focus:border-cherry-400"></div> <div><label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description *</label> <textarea id="description" placeholder="A short description of what this category is for." class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-cherry-500 focus:border-cherry-500 dark:focus:ring-cherry-400 dark:focus:border-cherry-400 min-h-[100px]"></textarea></div> <div><label for="imageUrl" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Image URL (optional)</label> <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-cherry-500 focus:border-cherry-500 dark:focus:ring-cherry-400 dark:focus:border-cherry-400"></div> <div class="flex justify-end"><button class="px-4 py-2 bg-cherry-600 text-white rounded-md hover:bg-cherry-700 dark:bg-cherry-500 dark:hover:bg-cherry-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"> </button></div></div></div>'),Je=k('<div class="flex justify-center items-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cherry-500"></div></div>'),Ke=k('<div class="bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-md mb-6"><p> </p></div>'),Qe=k('<div class="text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-md"><!> <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No categories found</h3> <p class="text-gray-600 dark:text-gray-400">There are no forum categories yet. Create your first category to get started.</p></div>'),Ve=k('<tr class="hover:bg-gray-50 dark:hover:bg-gray-750"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"> </td><td class="px-6 py-4 text-sm text-gray-600 dark:text-gray-300 truncate max-w-[300px]"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300"> </td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex justify-end space-x-2"><a class="text-cherry-600 dark:text-cherry-400 hover:text-cherry-900 dark:hover:text-cherry-300" title="Edit category"><!></a> <button class="text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300" title="Delete category"><!></button></div></td></tr>'),We=k('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden"><table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700"><thead class="bg-gray-50 dark:bg-gray-900"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Name</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Description</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Topics</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Order</th><th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"></tbody></table></div>'),Xe=k('<div class="container mx-auto px-4 py-8"><div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Forum Administration</h1> <button class="px-4 py-2 bg-cherry-600 text-white rounded-md hover:bg-cherry-700 dark:bg-cherry-500 dark:hover:bg-cherry-600 transition-colors"> </button></div> <!> <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Forum Categories</h2> <!></div>');function mr(n,l){De(l,!1);const[o,B]=qe(),M=()=>ee(Ge,"$isLoading",o),O=()=>ee(Me,"$error",o),R=()=>ee(Oe,"$categories",o);let m=$(!1),s=$(""),g=$(""),E=$(""),C=$(!1),A=$(null),I=$(null);Pe(()=>{re()});function ye(){a(m,!e(m)),e(m)||(a(s,""),a(g,""),a(E,""),a(A,null),a(I,null))}function ve(){return X(this,null,function*(){if(!e(s).trim()||!e(g).trim()){a(A,"Name and description are required");return}a(C,!0),a(A,null),a(I,null);try{(yield Re(ne({name:e(s).trim(),description:e(g).trim()},e(E)?{imageUrl:e(E).trim()}:{})))?(a(I,"Category created successfully!"),a(s,""),a(g,""),a(E,""),yield re(),setTimeout(()=>{a(m,!1),a(I,null)},1500)):a(A,"Failed to create category. Please try again.")}catch(c){console.error("Error creating category:",c),a(A,"An error occurred while creating the category.")}finally{a(C,!1)}})}function me(c){return X(this,null,function*(){if(confirm("Are you sure you want to delete this category? This will also delete all topics in this category and cannot be undone."))try{(yield Se(c))?yield re():alert("Failed to delete category. Please try again.")}catch(x){console.error("Error deleting category:",x),alert("An error occurred while deleting the category.")}})}Te();var H=Xe(),J=t(H),K=d(t(J),2),xe=t(K,!0);r(K),r(J);var ae=d(J,2);{var pe=c=>{var x=He(),S=d(t(x),2);{var Q=i=>{var v=ze(),j=t(v),U=t(j,!0);r(j),r(v),T(()=>b(U,e(A))),f(i,v)};q(S,i=>{e(A)&&i(Q)})}var u=d(S,2);{var N=i=>{var v=Be(),j=t(v),U=t(j,!0);r(j),r(v),T(()=>b(U,e(I))),f(i,v)};q(u,i=>{e(I)&&i(N)})}var D=d(u,2),F=t(D),p=d(t(F),2);ge(p),r(F);var y=d(F,2),w=d(t(y),2);Ie(w),r(y);var L=d(y,2),P=d(t(L),2);ge(P),r(L);var h=d(L,2),_=t(h),G=t(_,!0);r(_),r(h),r(D),r(x),T(i=>{p.disabled=e(C),w.disabled=e(C),P.disabled=e(C),_.disabled=i,b(G,e(C)?"Creating...":"Create Category")},[()=>e(C)||!e(s).trim()||!e(g).trim()],je),Z(p,()=>e(s),i=>a(s,i)),Z(w,()=>e(g),i=>a(g,i)),Z(P,()=>e(E),i=>a(E,i)),Y("click",_,ve),f(c,x)};q(ae,c=>{e(m)&&c(pe)})}var ue=d(ae,4);{var he=c=>{var x=Je();f(c,x)},be=(c,x)=>{{var S=u=>{var N=Ke(),D=t(N),F=t(D,!0);r(D),r(N),T(()=>b(F,O())),f(u,N)},Q=(u,N)=>{{var D=p=>{var y=Qe(),w=t(y);te(w,{icon:"mdi:forum-outline",class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),Ue(4),r(y),f(p,y)},F=p=>{var y=We(),w=t(y),L=d(t(w));$e(L,5,R,Ee,(P,h)=>{var _=Ve(),G=t(_),i=t(G,!0);r(G);var v=d(G),j=t(v,!0);r(v);var U=d(v),fe=t(U,!0);r(U);var V=d(U),ke=t(V,!0);r(V);var oe=d(V),de=t(oe),z=t(de),we=t(z);te(we,{icon:"mdi:pencil",class:"w-5 h-5"}),r(z);var W=d(z,2),_e=t(W);te(_e,{icon:"mdi:delete",class:"w-5 h-5"}),r(W),r(de),r(oe),r(_),T(()=>{var ie,se;b(i,e(h).name),b(j,e(h).description),b(fe,e(h).topicCount||0),b(ke,(ie=e(h).order)!=null?ie:"N/A"),Le(z,"href",`/admin/forums/category/${(se=e(h).id)!=null?se:""}/edit`)}),Y("click",W,()=>me(e(h).id)),f(P,_)}),r(L),r(w),r(y),f(p,y)};q(u,p=>{R().length===0?p(D):p(F,!1)},N)}};q(c,u=>{O()?u(S):u(Q,!1)},x)}};q(ue,c=>{M()?c(he):c(be,!1)})}r(H),T(()=>b(xe,e(m)?"Cancel":"Create Category")),Y("click",K,ye),f(n,H),Fe(),B()}export{mr as component};
//# sourceMappingURL=7.D0mby8we.js.map
