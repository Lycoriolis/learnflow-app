{"version":3,"file":"29.DFAkn3_9.js","sources":["../../../../../../src/routes/groups/create/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { goto } from '$app/navigation';\n  let name = '';\n  let description = '';\n  let topic = '';\n  let image = '';\n  let isPublic = true;\n  let error = '';\n  let loading = false;\n  let success = false;\n\n  async function createGroup() {\n    error = '';\n    success = false;\n    // Client-side validation\n    if (!name.trim() || !description.trim() || !topic.trim()) {\n      error = 'Please fill in all required fields.';\n      return;\n    }\n    loading = true;\n    try {\n      const res = await fetch('/api/groups/', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, description, topic, image, is_public: isPublic })\n      });\n      if (res.ok) {\n        success = true;\n        setTimeout(() => goto('/groups'), 1200);\n      } else {\n        const data = await res.json().catch(() => ({}));\n        error = data?.error || 'Failed to create group.';\n      }\n    } catch (e) {\n      error = 'Failed to create group.';\n    } finally {\n      loading = false;\n    }\n  }\n</script>\n\n<svelte:head>\n  <title>Create New Group | LearnFlow</title>\n</svelte:head>\n\n<div class=\"max-w-xl mx-auto py-10 px-4\">\n  <h1 class=\"text-3xl font-bold mb-6 text-gray-900 dark:text-white\">Create a New Group</h1>\n  <form on:submit|preventDefault={createGroup} class=\"space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Group Name</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={name} required />\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Description</label>\n      <textarea class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={description} rows=\"3\" required></textarea>\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Topic</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={topic} required />\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Image URL (optional)</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={image} />\n    </div>\n    <div class=\"flex items-center gap-2\">\n      <input type=\"checkbox\" id=\"isPublic\" bind:checked={isPublic} />\n      <label for=\"isPublic\" class=\"text-sm\">Public group (anyone can join)</label>\n    </div>\n    {#if error}\n      <div class=\"text-red-500\">{error}</div>\n    {/if}\n    {#if success}\n      <div class=\"text-green-600 font-semibold\">Group created successfully! Redirecting...</div>\n    {/if}\n    <div class=\"flex gap-4\">\n      <button type=\"submit\" class=\"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\" disabled={loading}>\n        {loading ? 'Creating...' : 'Create Group'}\n      </button>\n      <a href=\"/groups\" class=\"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md\">Cancel</a>\n    </div>\n  </form>\n</div>\n"],"names":["name","description","topic","image","isPublic","error","loading","success","createGroup","__async","$.set","$.get","res","goto","data","$$render","consequent","consequent_1","$.bind_value","input","$$value","textarea","input_1","input_2","$.bind_checked","input_3"],"mappings":"46EAEM,IAAAA,IAAO,EAAE,EACTC,IAAc,EAAE,EAChBC,IAAQ,EAAE,EACVC,IAAQ,EAAE,EACVC,IAAW,EAAI,EACfC,IAAQ,EAAE,EACVC,IAAU,EAAK,EACfC,IAAU,EAAK,EAEJ,SAAAC,GAAc,QAAAC,EAAA,yBAC3BC,EAAAL,EAAQ,EAAE,EACVK,EAAAH,EAAU,EAAK,KAEVP,CAAI,EAAC,KAAI,GAAA,CAAAW,EAAOV,CAAW,EAAC,KAAW,GAAA,CAAAU,EAAAT,CAAK,EAAC,KAAI,EAAI,CACxDQ,EAAAL,EAAQ,qCAAqC,QAE/C,CACAK,EAAAJ,EAAU,EAAI,EACV,GAAA,OACIM,EAAG,MAAS,MAAM,eAAc,CACpC,OAAQ,OACR,QAAO,CAAI,eAAgB,kBAAkB,EAC7C,KAAM,KAAK,UAAS,CAAG,OAAAZ,CAAI,EAAE,cAAAC,CAAW,EAAE,QAAAC,CAAK,EAAE,QAAAC,CAAK,EAAE,YAAWC,CAAQ,SAEzEQ,EAAI,GACNF,EAAAH,EAAU,EAAI,EACd,WAAiB,IAAAM,GAAK,SAAS,EAAG,IAAI,MACjC,CACC,MAAAC,EAAa,MAAAF,EAAI,OAAO,MAAK,KAAA,CAAA,EAAA,EACnCF,EAAAL,GAAQS,GAAA,YAAAA,EAAM,QAAS,yBAAyB,CAClD,CACD,OAAQ,EAAG,CACVJ,EAAAL,EAAQ,yBAAyB,CACnC,QAAU,CACRK,EAAAJ,EAAU,EAAK,CACjB,CACF,yTA+B+BD,CAAK,CAAA,CAAA,oBAD7BA,CAAK,GAAAU,EAAAC,CAAA,yDAGLT,CAAO,GAAAQ,EAAAE,CAAA,+EAIgGX,CAAO,QAC9GA,CAAO,EAAG,cAAgB,cAAc,IA1BgGY,EAAAC,EAAA,IAAAR,EAAAX,CAAI,OAAJA,EAAIoB,CAAA,CAAA,EAIDF,EAAAG,EAAA,IAAAV,EAAAV,CAAW,OAAXA,EAAWmB,CAAA,CAAA,EAIdF,EAAAI,EAAA,IAAAX,EAAAT,CAAK,OAALA,EAAKkB,CAAA,CAAA,EAILF,EAAAK,EAAA,IAAAZ,EAAAR,CAAK,OAALA,EAAKiB,CAAA,CAAA,EAG7FI,GAAAC,EAAA,IAAAd,EAAAP,CAAQ,OAARA,EAAQgB,CAAA,CAAA,kBAlB/BZ,CAAW,CAAA"}