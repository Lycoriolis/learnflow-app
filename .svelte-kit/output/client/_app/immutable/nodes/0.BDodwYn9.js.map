{"version":3,"file":"0.BDodwYn9.js","sources":["../../../../../../src/lib/stores/sidebarStore.ts","../../../../../../src/lib/components/Sidebar.svelte","../../../../../../src/lib/components/Header.svelte","../../../../../../src/lib/components/pip/PipTimer.svelte","../../../../../../node_modules/svelte/src/animate/index.js","../../../../../../src/lib/components/pip/PipTodo.svelte","../../../../../../src/lib/components/pip/PipNotes.svelte","../../../../../../src/lib/components/pip/PipCalculator.svelte","../../../../../../src/lib/components/pip/PipFlashcards.svelte","../../../../../../src/lib/components/pip/PipDictionary.svelte","../../../../../../src/lib/components/PipWidget.svelte","../../../../../../src/lib/stores/appStore.ts","../../../../../../src/lib/components/courses/CourseModal.svelte","../../../../../../src/lib/components/Footer.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["import { writable } from 'svelte/store';\n\n// true = collapsed (icons only), false = expanded (full width)\nexport const sidebarCollapsed = writable(false);","<script lang=\"ts\">\n  import { page } from '$app/stores';\n  import { onMount, onDestroy } from 'svelte';\n  import { slide } from 'svelte/transition';\n  import type { SlideParams } from 'svelte/transition';\n  import { isAuthenticated, user, loading } from '$lib/stores/authStore.js';\n  import { sidebarCollapsed } from '$lib/stores/sidebarStore.js';\n  import { browser } from '$app/environment';\n  import { navigateToLogin } from '$lib/utils/navigation';\n  \n  type NavItem = {\n    name: string;\n    href: string;\n    icon: string;\n    authRequired: boolean;\n  };\n  \n  type NavCategory = {\n    title: string;\n    items: NavItem[];\n  };\n  \n  const navigation: NavCategory[] = [\n    {\n      title: 'Main',\n      items: [\n        { name: 'Dashboard', href: '/', icon: 'fa-home', authRequired: false },\n        { name: 'Courses', href: '/courses', icon: 'fa-book', authRequired: false },\n        { name: 'Exercises', href: '/exercises', icon: 'fa-pencil-alt', authRequired: false },\n        { name: 'My Learning', href: '/my-learning', icon: 'fa-graduation-cap', authRequired: true },\n        { name: 'Statistics', href: '/statistics', icon: 'fa-chart-line', authRequired: true },\n        { name: 'Calendar', href: '/calendar', icon: 'fa-calendar', authRequired: true }\n      ]\n    },\n    {\n      title: 'Community',\n      items: [\n        { name: 'Discussion Forums', href: '/forums', icon: 'fa-comments', authRequired: false },\n        { name: 'User Groups', href: '/groups', icon: 'fa-users', authRequired: true },\n        { name: 'Events', href: '/events', icon: 'fa-calendar-alt', authRequired: false }\n      ]\n    },\n    {\n      title: 'Resources',\n      items: [\n        { name: 'Help Center', href: '/help', icon: 'fa-question-circle', authRequired: false },\n        { name: 'Contact Support', href: '/support', icon: 'fa-headset', authRequired: false }\n      ]\n    },\n    {\n      title: 'Tools',\n      items: [\n        { name: 'Workspace', href: '/tools/workspace', icon: 'fa-tools', authRequired: false },\n        { name: 'Notepad', href: '/tools/notepad', icon: 'fa-sticky-note', authRequired: false },\n        { name: 'Tasks', href: '/tools/tasks', icon: 'fa-list-check', authRequired: false },\n        { name: 'AI Study Chat', href: '/tools/chat', icon: 'fa-robot', authRequired: false }\n      ]\n    }\n  ];\n  \n  let mobileMenuOpen = false;\n  let path = '';\n  let expanded: Record<string, boolean> = {};\n  let pageUnsubscribe: () => void;\n  \n  // Close mobile menu when clicking outside\n  let handleOutsideClick: ((event: MouseEvent) => void) | null = null;\n  \n  // Handle keyboard navigation\n  function handleKeyDown(event: KeyboardEvent): void {\n    if (!browser) return;\n    \n    // Escape key closes mobile menu\n    if (event.key === 'Escape' && mobileMenuOpen) {\n      toggleMobileMenu();\n    }\n  }\n  \n  onMount(() => {\n    if (browser) {\n      // Set initial expanded state based on current path\n      navigation.forEach(category => {\n        if (category.items.some(item => path.startsWith(item.href))) {\n          expanded[category.title] = true;\n        } else {\n          expanded[category.title] = false;\n        }\n      });\n      \n      // Set up event listeners\n      handleOutsideClick = (event: MouseEvent) => {\n        const sidebar = document.getElementById('sidebar');\n        const target = event.target as Node;\n        \n        if (mobileMenuOpen && sidebar && !sidebar.contains(target)) {\n          mobileMenuOpen = false;\n        }\n      };\n      \n      document.addEventListener('click', handleOutsideClick);\n      document.addEventListener('keydown', handleKeyDown);\n      \n      // Subscribe to page changes\n      pageUnsubscribe = page.subscribe(value => {\n        path = value.url.pathname;\n        // Close mobile menu on navigation\n        mobileMenuOpen = false;\n      });\n    }\n  });\n  \n  onDestroy(() => {\n    if (browser) {\n      // Clean up event listeners\n      if (handleOutsideClick) {\n        document.removeEventListener('click', handleOutsideClick);\n      }\n      document.removeEventListener('keydown', handleKeyDown);\n      \n      // Unsubscribe from page store\n      if (pageUnsubscribe) {\n        pageUnsubscribe();\n      }\n    }\n  });\n\n  function toggleMobileMenu() {\n    mobileMenuOpen = !mobileMenuOpen;\n  }\n\n  function toggleCollapse() {\n    sidebarCollapsed.update(v => !v);\n  }\n  \n  function toggleCategory(category: string) {\n    expanded = { ...expanded, [category]: !expanded[category] };\n  }\n  \n  // Determine if a navigation item is active\n  function isActive(href: string): boolean {\n    return path === href || path.startsWith(href + '/');\n  }\n</script>\n\n<!-- Mobile Menu Button -->\n<div class=\"lg:hidden fixed top-4 left-4 z-50\">\n  <button \n    on:click={toggleMobileMenu} \n    class=\"p-2 rounded-full bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-200 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n    aria-label=\"Toggle menu\"\n    aria-expanded={mobileMenuOpen}\n  >\n    <i class=\"fas fa-bars\"></i>\n  </button>\n</div>\n\n<!-- External Expand Button (visible when collapsed) -->\n{#if $sidebarCollapsed}\n  <div class=\"fixed top-4 left-4 z-50 hidden lg:block\">\n    <button\n      on:click={toggleCollapse}\n      class=\"p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 shadow focus:outline-none focus:ring\"\n      aria-label=\"Expand sidebar\"\n    >\n      <i class=\"fas fa-angle-right\"></i>\n    </button>\n  </div>\n{/if}\n\n<!-- Overlay for mobile -->\n{#if mobileMenuOpen}\n  <div \n    class=\"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden\" \n    aria-hidden=\"true\"\n  ></div>\n{/if}\n\n<!-- Sidebar -->\n<nav id=\"sidebar\"\n     class=\"sidebar w-64 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 fixed h-full z-30 flex flex-col transform transition-transform duration-300 ease-in-out -translate-x-full\"\n     class:translate-x-0={mobileMenuOpen}\n     class:lg:translate-x-0={!$sidebarCollapsed}\n     class:lg:-translate-x-full={$sidebarCollapsed}\n     aria-label=\"Main navigation\">\n  <!-- Internal Collapse Toggle Button -->\n  <button\n    on:click={toggleCollapse}\n    class=\"absolute top-4 right-4 hidden lg:block p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring\"\n    aria-label={$sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n  >\n    <i class={`fas ${$sidebarCollapsed ? 'fa-angle-right' : 'fa-angle-left'}`}></i>\n  </button>\n\n  <!-- Logo/Header -->\n  <div class=\"p-4 flex items-center\">\n    <div class=\"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center mr-3\">\n      <i class=\"fas fa-graduation-cap text-white\"></i>\n    </div>\n    <h1 class=\"text-xl font-bold text-gray-800 dark:text-indigo-300\">LearnFlow</h1>\n  </div>\n\n  <!-- Scrollable Navigation -->\n  <div class=\"flex-1 overflow-y-auto px-2\">\n    {#each navigation as category}\n      <div class=\"mb-4\">\n        <button\n          class=\"w-full flex justify-between items-center px-3 py-2 text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 tracking-wider focus:outline-none focus:ring-1 focus:ring-indigo-500 rounded-md\"\n          on:click={() => toggleCategory(category.title)}\n          aria-expanded={expanded[category.title] || false}\n          aria-controls={`category-${category.title.toLowerCase().replace(/\\s+/g, '-')}`}\n        >\n          <span>{category.title}</span>\n          <i class={`fas ${expanded[category.title] ? 'fa-chevron-down text-gray-400' : 'fa-chevron-right text-gray-600'}`}></i>\n        </button>\n        \n        {#if expanded[category.title]}\n          <ul \n            id={`category-${category.title.toLowerCase().replace(/\\s+/g, '-')}`}\n            in:slide={{ duration: 200 } as SlideParams} \n            out:slide={{ duration: 200 } as SlideParams}\n            class=\"mt-2 space-y-1\"\n            role=\"menu\"\n          >\n            {#each category.items as item}\n              {#if !item.authRequired || $isAuthenticated}\n                <li role=\"none\">\n                  <a\n                    href={item.href}\n                    data-sveltekit-preload-data=\"hover\"\n                    aria-current={isActive(item.href) ? 'page' : undefined}\n                    class={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150 ease-in-out ${\n                      isActive(item.href) \n                        ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-700 dark:text-indigo-100' \n                        : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'\n                    }`}\n                    role=\"menuitem\"\n                  >\n                    <i class={`fas ${item.icon} mr-3 w-5 text-center`} aria-hidden=\"true\"></i>\n                    <span>{item.name}</span>\n                  </a>\n                </li>\n              {/if}\n            {/each}\n          </ul>\n        {/if}\n      </div>\n    {/each}\n  </div>\n\n  <!-- Account Section -->\n  <div class=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n    {#if browser && $loading}\n      <div class=\"p-4 bg-gray-100 dark:bg-gray-700 rounded-lg animate-pulse\">\n        <div class=\"flex items-center mb-2\">\n          <div class=\"w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 mr-2\"></div>\n          <div class=\"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4\"></div>\n        </div>\n        <div class=\"h-8 bg-gray-300 dark:bg-gray-600 rounded w-full\"></div>\n      </div>\n    {:else if browser && $isAuthenticated && $user}\n      <div class=\"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg\">\n        <div class=\"flex items-center mb-3\">\n          <div class=\"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center mr-2 text-white text-sm font-medium\">\n            {$user.displayName?.charAt(0).toUpperCase() ?? $user.email?.charAt(0).toUpperCase() ?? 'U'}\n          </div>\n          <span class=\"font-medium text-sm text-gray-800 dark:text-gray-100 truncate\">\n            {$user.displayName ?? $user.email ?? 'User'}\n          </span>\n        </div>\n        <a \n          href=\"/settings\" \n          class=\"w-full py-2 px-3 bg-gray-200 dark:bg-gray-700 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 block text-center transition duration-150\"\n          aria-label=\"Go to account settings\"\n        >\n          Account Settings\n        </a>\n      </div>\n    {:else}\n      <div class=\"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg text-center\">\n        <p class=\"text-sm text-gray-600 dark:text-gray-300 mb-3\">Log in to track your progress and access personalized features.</p>\n        <button \n          class=\"w-full py-2 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-sm font-medium text-white transition duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n          on:click={navigateToLogin}\n          aria-label=\"Log in or sign up\"\n        >\n          Log In / Sign Up\n        </button>\n      </div>\n    {/if}\n  </div>\n</nav>\n\n<style>\n  /* Prevent scrolling when mobile menu is open */\n  :global(body.sidebar-open) {\n    overflow: hidden;\n  }\n  \n  /* Improve focus states for keyboard navigation */\n  :global(a:focus), :global(button:focus) {\n    outline: 2px solid #818cf8;\n    outline-offset: 2px;\n  }\n  \n  /* Animation for mobile menu */\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  \n  /* Screen reader utilities */\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n</style>","<script lang=\"ts\">\n  import { pipVisible } from '$lib/stores/pipStores.js';\n  import { isAuthenticated, user, loading } from '$lib/stores/authStore.js';\n  import { logout } from '$lib/authService.js';\n  import { slide } from 'svelte/transition';\n  import { navigateToLogin } from '$lib/utils/navigation';\n  import { goto } from '$app/navigation';\n\n  export let onTogglePip = () => pipVisible.update((v: boolean) => !v);\n  \n  let searchQuery = '';\n  \n  function handleSearch() {\n    if (searchQuery.trim()) {\n      // Navigate to search results page (implementation would depend on your routing)\n      console.log('Searching for:', searchQuery);\n    }\n  }\n  \n  function navigateTo(path: string) {\n    goto(path);\n  }\n</script>\n\n<header class=\"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40\">\n  <div class=\"max-w-full mx-auto px-4 py-3 sm:px-6 lg:px-8 flex justify-between items-center\">\n    <!-- Logo and Navigation -->\n    <div class=\"flex items-center\">\n      <a href=\"/\" class=\"flex items-center space-x-2 text-indigo-600 dark:text-indigo-400\">\n        <i class=\"fas fa-graduation-cap text-2xl\"></i>\n        <span class=\"font-bold text-xl hidden sm:inline\">LearnFlow</span>\n      </a>\n      \n      <nav class=\"ml-6 hidden md:flex space-x-4\">\n        <a href=\"/courses\" class=\"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400\">Courses</a>\n        <a href=\"/exercises\" class=\"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400\">Exercises</a>\n        <a href=\"/forums\" class=\"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400\">Forums</a>\n        {#if $isAuthenticated}\n          <a href=\"/my-learning\" class=\"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400\">My Learning</a>\n        {/if}\n      </nav>\n    </div>\n\n    <!-- Centered Search Container -->\n    <div class=\"flex-1 relative max-w-lg mx-auto px-4\">\n      <form on:submit|preventDefault={handleSearch} class=\"relative\">\n        <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n          <i class=\"fas fa-search text-gray-400\"></i>\n        </div>\n        <input\n          type=\"text\"\n          bind:value={searchQuery}\n          class=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n          placeholder=\"Search courses, exercises...\"\n        />\n        <button type=\"submit\" class=\"absolute inset-y-0 right-0 pr-3 flex items-center\" aria-label=\"Search\">\n          <i class=\"fas fa-arrow-right text-gray-400 hover:text-indigo-500\"></i>\n        </button>\n      </form>\n    </div>\n\n    <div class=\"ml-4 flex items-center space-x-3\">\n      <button \n        class=\"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        aria-label=\"Show notifications\"\n      >\n        <i class=\"fas fa-bell\"></i>\n      </button>\n      \n      <button \n        id=\"pipToggle\" \n        class=\"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        on:click={onTogglePip}\n        aria-label=\"Toggle learning tools widget\"\n      >\n        <i class=\"fas fa-puzzle-piece\"></i>\n      </button>\n\n      {#if $loading}\n        <div class=\"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse\"></div>\n      {:else if $isAuthenticated && $user}\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"relative group\">\n            <button class=\"h-8 w-8 rounded-full bg-indigo-500 flex items-center justify-center text-white text-sm font-medium hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n              {$user.displayName?.charAt(0).toUpperCase() ?? $user.email?.charAt(0).toUpperCase() ?? 'U'}\n            </button>\n            <div class=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 hidden group-hover:block\">\n              <a href=\"/settings\" class=\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\">Profile Settings</a>\n              <a href=\"/my-learning\" class=\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\">My Learning</a>\n              <button \n                class=\"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                on:click={logout}\n              >\n                Log out\n              </button>\n            </div>\n          </div>\n        </div>\n      {:else}\n        <button \n          class=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\"\n          on:click={navigateToLogin}\n        >\n          Log in\n        </button>\n      {/if}\n    </div>\n  </div>\n</header>","<script lang=\"ts\">\n  import { timerState, timerSettings, focusSessions, type TimerMode, type FocusSession } from '$lib/stores/pipStores';\n  import { onDestroy } from 'svelte';\n  import { browser } from '$app/environment';\n\n  let intervalId: ReturnType<typeof setInterval> | null = null;\n\n  // Format time left in seconds to MM:SS\n  $: formattedTime = (() => {\n    const minutes = Math.floor($timerState.timeLeft / 60);\n    const seconds = $timerState.timeLeft % 60;\n    return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;\n  })();\n\n  // Get mode display string with proper formatting\n  $: modeDisplay = (() => {\n    if (!$timerState.mode) return \"Work\";\n    \n    const modeType = $timerState.mode.type || \"work\";\n    // Format the mode string (e.g., 'shortBreak' -> 'Short Break')\n    return modeType\n      .replace(/([A-Z])/g, ' $1') // Add space before capital letters\n      .replace(/^./, str => str.toUpperCase()) // Capitalize first letter\n      .replace(/([a-z])([A-Z])/g, '$1 $2'); // Add space between words\n  })();\n\n  function startTimer() {\n    if (!browser) return;\n    if ($timerState.isRunning || intervalId) return;\n    \n    timerState.update(state => ({ ...state, isRunning: true }));\n\n    intervalId = setInterval(() => {\n      timerState.update(state => {\n        if (state.timeLeft <= 0) {\n          nextPhase();\n          return state; // State is updated within nextPhase\n        }\n        return { ...state, timeLeft: state.timeLeft - 1 };\n      });\n    }, 1000);\n  }\n\n  function pauseTimer() {\n    if (intervalId) {\n      clearInterval(intervalId);\n      intervalId = null;\n    }\n    timerState.update(state => ({ ...state, isRunning: false }));\n  }\n\n  function resetTimer() {\n    pauseTimer();\n    \n    const workMode: TimerMode = { type: 'work' };\n    \n    timerState.update(state => ({\n      ...state,\n      mode: workMode,\n      timeLeft: $timerSettings.workDuration,\n      cycle: 0\n    }));\n  }\n\n  function nextPhase() {\n    pauseTimer(); // Stop current interval\n\n    // --- Record completed work session --- \n    if ($timerState.mode && $timerState.mode.type === 'work') {\n      const completedSession: FocusSession = {\n        timestamp: Date.now(),\n        duration: $timerSettings.workDuration // Record the planned duration\n      };\n      focusSessions.update(sessions => [...sessions, completedSession]);\n    }\n    // --- End recording --- \n\n    let nextModeType: 'work' | 'shortBreak' | 'longBreak' = 'work';\n    let nextTimeLeft = $timerSettings.workDuration;\n    let nextCycle = $timerState.cycle;\n\n    if ($timerState.mode && $timerState.mode.type === 'work') {\n      nextCycle++;\n      if (nextCycle % $timerSettings.longBreakInterval === 0) {\n        nextModeType = 'longBreak';\n        nextTimeLeft = $timerSettings.longBreakDuration;\n      } else {\n        nextModeType = 'shortBreak';\n        nextTimeLeft = $timerSettings.shortBreakDuration;\n      }\n    } else { // If current mode is shortBreak or longBreak\n      nextModeType = 'work';\n      nextTimeLeft = $timerSettings.workDuration;\n    }\n\n    const nextMode: TimerMode = { type: nextModeType };\n\n    timerState.set({\n      mode: nextMode,\n      timeLeft: nextTimeLeft,\n      isRunning: false, // Start paused in the new phase\n      cycle: nextCycle\n    });\n  }\n\n  // Ensure interval is cleared when component is destroyed\n  onDestroy(() => {\n    pauseTimer();\n  });\n\n</script>\n\n<div class=\"text-center p-2 bg-gray-700 rounded-lg\">\n  <div class=\"text-xs font-medium text-indigo-300 uppercase mb-1\">{modeDisplay}</div>\n  <div class=\"text-3xl font-bold mb-3 text-gray-100 tracking-wider\">{formattedTime}</div>\n  <div class=\"flex justify-center space-x-2\">\n    {#if !$timerState.isRunning}\n      <button on:click={startTimer} class=\"px-4 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded text-sm font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-400\">Start</button>\n    {:else}\n       <button on:click={pauseTimer} class=\"px-4 py-1 bg-yellow-600 hover:bg-yellow-700 text-white rounded text-sm font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-yellow-400\">Pause</button>\n    {/if}\n    <button on:click={resetTimer} class=\"px-4 py-1 bg-gray-600 text-gray-200 hover:bg-gray-500 rounded text-sm transition duration-150 focus:outline-none focus:ring-2 focus:ring-gray-400\">Reset</button>\n  </div>\n</div>\n","/** @import { FlipParams, AnimationConfig } from './public.js' */\nimport { cubicOut } from '../easing/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {FlipParams} params\n * @returns {AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\n\tvar style = getComputedStyle(node);\n\n\t// find the transform origin, expressed as a pair of values between 0 and 1\n\tvar transform = style.transform === 'none' ? '' : style.transform;\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tox /= node.clientWidth;\n\toy /= node.clientHeight;\n\n\t// calculate effect of parent transforms and zoom\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\n\tvar sx = node.clientWidth / to.width / zoom;\n\tvar sy = node.clientHeight / to.height / zoom;\n\n\t// find the starting position of the transform origin\n\tvar fx = from.left + from.width * ox;\n\tvar fy = from.top + from.height * oy;\n\n\t// find the ending position of the transform origin\n\tvar tx = to.left + to.width * ox;\n\tvar ty = to.top + to.height * oy;\n\n\t// find the translation at the start of the transform\n\tvar dx = (fx - tx) * sx;\n\tvar dy = (fy - ty) * sy;\n\n\t// find the relative scale at the start of the transform\n\tvar dsx = from.width / to.width;\n\tvar dsy = from.height / to.height;\n\n\treturn {\n\t\tdelay,\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tvar x = u * dx;\n\t\t\tvar y = u * dy;\n\t\t\tvar sx = t + u * dsx;\n\t\t\tvar sy = t + u * dsy;\n\n\t\t\treturn `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n\t\t}\n\t};\n}\n\n/**\n * @param {Element} element\n */\nfunction get_zoom(element) {\n\tif ('currentCSSZoom' in element) {\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\n\t}\n\n\t/** @type {Element | null} */\n\tvar current = element;\n\tvar zoom = 1;\n\n\twhile (current !== null) {\n\t\tzoom *= +getComputedStyle(current).zoom;\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\n\t}\n\n\treturn zoom;\n}\n","<script lang=\"ts\">\n  import { todos, type TodoItem } from '$lib/stores/pipStores';\n  import { flip } from 'svelte/animate';\n  import { fade } from 'svelte/transition';\n  import { browser } from '$app/environment';\n  import { onMount } from 'svelte';\n\n  let newTodoText = '';\n  let isInitialized = false;\n\n  // Generate a unique ID safely (works both client and server side)\n  function generateUniqueId(): string {\n    try {\n      if (browser && window.crypto && 'randomUUID' in window.crypto) {\n        return crypto.randomUUID();\n      }\n    } catch (err) {\n      console.error('Error generating UUID:', err);\n    }\n    \n    // Fallback for server-side rendering or if crypto API fails\n    return `todo_${Date.now().toString(36)}_${Math.random().toString(36).substring(2, 9)}`;\n  }\n\n  function addTodo() {\n    if (!browser || !isInitialized) return;\n    \n    const text = newTodoText.trim();\n    if (!text) return;\n    \n    try {\n      const newTodo: TodoItem = {\n        id: generateUniqueId(),\n        text: text,\n        completed: false,\n        createdAt: Date.now()\n      };\n      \n      todos.update(currentTodos => {\n        return [...currentTodos, newTodo];\n      });\n      \n      newTodoText = ''; // Clear input after successful add\n    } catch (err) {\n      console.error('Error adding todo:', err);\n    }\n  }\n\n  function toggleTodo(id: string) {\n    if (!browser || !isInitialized) return;\n    \n    try {\n      todos.update(currentTodos =>\n        currentTodos.map(todo =>\n          todo.id === id ? { ...todo, completed: !todo.completed } : todo\n        )\n      );\n    } catch (err) {\n      console.error(`Error toggling todo ${id}:`, err);\n    }\n  }\n\n  function deleteTodo(id: string) {\n    if (!browser || !isInitialized) return;\n    \n    try {\n      todos.update(currentTodos => currentTodos.filter(todo => todo.id !== id));\n    } catch (err) {\n      console.error(`Error deleting todo ${id}:`, err);\n    }\n  }\n\n  // Handle Enter key press in input\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Enter') {\n      addTodo();\n    }\n  }\n  \n  // Ensure store operations only happen after component is mounted\n  onMount(() => {\n    isInitialized = true;\n  });\n</script>\n\n<div class=\"bg-gray-700 p-2 rounded-lg\">\n  <h4 class=\"text-xs font-medium text-green-300 uppercase mb-2\">Todo List</h4>\n  <div class=\"flex mb-2\">\n    <input\n      type=\"text\"\n      bind:value={newTodoText}\n      on:keydown={handleKeydown}\n      placeholder=\"Add a new task...\"\n      class=\"flex-1 text-sm bg-gray-600 text-gray-100 border border-gray-500 rounded-l-md p-2 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 placeholder-gray-400\"\n    >\n    <button\n      on:click={addTodo}\n      class=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-r-md text-sm font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-green-400\"\n    >\n      Add\n    </button>\n  </div>\n  \n  {#if browser && $todos.length > 0}\n    <ul class=\"space-y-1 max-h-40 overflow-y-auto pr-1\">\n      {#each $todos.sort((a, b) => a.createdAt - b.createdAt) as todo (todo.id)}\n        <li\n          class=\"flex items-center text-sm p-1.5 bg-gray-600 rounded-md group\"\n          animate:flip={{ duration: 200 }}\n          transition:fade={{ duration: 150 }}\n        >\n          <input\n            type=\"checkbox\"\n            checked={todo.completed}\n            on:change={() => toggleTodo(todo.id)}\n            class=\"mr-2 h-4 w-4 form-checkbox bg-gray-500 border-gray-400 text-green-500 focus:ring-green-400 focus:ring-offset-gray-600 rounded\"\n            aria-labelledby=\"todo-text-{todo.id}\"\n          >\n          <span\n            id=\"todo-text-{todo.id}\"\n            class=\"flex-1 {todo.completed ? 'line-through text-gray-400' : 'text-gray-100'}\"\n          >\n            {todo.text}\n          </span>\n           <button\n             on:click={() => deleteTodo(todo.id)}\n             class=\"ml-2 px-1 text-gray-400 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity duration-150 focus:outline-none\"\n             aria-label=\"Delete task\"\n           >\n             <i class=\"fas fa-trash-alt fa-xs\"></i>\n           </button>\n        </li>\n      {/each}\n    </ul>\n  {:else}\n    <p class=\"text-gray-400 text-xs italic text-center py-2\">\n      {browser && $todos.length === 0 ? 'No tasks yet. Add one above!' : 'Loading tasks...'}\n    </p>\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { notes, type NoteItem } from '$lib/stores/pipStores.js';\n  import { fade } from 'svelte/transition';\n  import { flip } from 'svelte/animate';\n\n  let newNoteContent = '';\n  let showNewNoteInput = false;\n\n  function addNote() {\n    const content = newNoteContent.trim();\n    if (!content) return;\n\n    // Simple title generation (first few words or line)\n    const title = content.split('\\n')[0].substring(0, 30) || 'Untitled Note';\n\n    const newNote: NoteItem = {\n      id: crypto.randomUUID(),\n      title: title,\n      content: content,\n      createdAt: Date.now(),\n      updatedAt: Date.now()\n    };\n    notes.update(currentNotes => [newNote, ...currentNotes]); // Add to top\n    newNoteContent = ''; // Clear input\n    showNewNoteInput = false; // Hide input\n  }\n\n  function startNewNote() {\n      showNewNoteInput = true;\n      // TODO: Focus the textarea after it appears (requires a tick or timeout)\n  }\n\n  function cancelNewNote() {\n      showNewNoteInput = false;\n      newNoteContent = '';\n  }\n\n  // Function to delete a note (optional)\n  function deleteNote(id: string) {\n    notes.update(currentNotes => currentNotes.filter(note => note.id !== id));\n  }\n\n</script>\n\n<div class=\"bg-gray-700 p-2 rounded-lg\">\n  <div class=\"flex justify-between items-center mb-2\">\n    <h4 class=\"text-xs font-medium text-blue-300 uppercase\">Quick Notes</h4>\n    {#if !showNewNoteInput}\n      <button\n        on:click={startNewNote}\n        class=\"px-2 py-0.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n      >\n        + New\n      </button>\n    {/if}\n  </div>\n\n  {#if showNewNoteInput}\n     <div transition:fade={{duration: 150}}>\n       <textarea\n         bind:value={newNoteContent}\n         placeholder=\"Start typing your note...\"\n         rows=\"3\"\n         class=\"w-full text-sm bg-gray-600 text-gray-100 border border-gray-500 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 mb-1\"\n       ></textarea>\n        <div class=\"flex justify-end space-x-2\">\n           <button\n             on:click={cancelNewNote}\n             class=\"px-3 py-1 bg-gray-500 hover:bg-gray-400 text-gray-100 rounded text-xs font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-gray-400\"\n           >\n             Cancel\n           </button>\n           <button\n             on:click={addNote}\n             disabled={!newNoteContent.trim()}\n             class=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed\"\n           >\n             Save Note\n           </button>\n        </div>\n     </div>\n  {/if}\n\n  {#if $notes.length > 0 && !showNewNoteInput}\n    <ul class=\"space-y-1 max-h-40 overflow-y-auto pr-1 mt-2\">\n      {#each $notes.sort((a, b) => b.updatedAt - a.updatedAt) as note (note.id)}\n        <li\n          class=\"group flex justify-between items-center text-sm p-1.5 bg-gray-600 hover:bg-gray-500 transition duration-150 rounded-md cursor-pointer\"\n          animate:flip={{ duration: 200 }}\n          transition:fade={{ duration: 150 }}\n          title={note.content.substring(0, 100) + (note.content.length > 100 ? '...' : '')}\n        >\n          <span class=\"text-gray-100 truncate pr-2\">{note.title}</span>\n          <button\n             on:click|stopPropagation={() => deleteNote(note.id)}\n             class=\"ml-2 px-1 text-gray-400 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity duration-150 focus:outline-none\"\n             aria-label=\"Delete note\"\n           >\n             <i class=\"fas fa-trash-alt fa-xs\"></i>\n           </button>\n        </li>\n      {/each}\n    </ul>\n  {:else if !showNewNoteInput}\n    <p class=\"text-gray-400 text-xs italic text-center py-2\">No notes yet. Click '+ New' to add one.</p>\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { calcDisplay, calcCurrentInput, calcOperator, calcPreviousValue, calcWaitingForSecondOperand } from '$lib/stores/pipStores';\n\n  function inputDigit(digit: string) {\n    if ($calcWaitingForSecondOperand) {\n      calcDisplay.set(digit);\n      calcWaitingForSecondOperand.set(false);\n    } else {\n      calcDisplay.set($calcDisplay === '0' ? digit : $calcDisplay + digit);\n    }\n    calcCurrentInput.set($calcDisplay);\n  }\n\n  function inputDecimal() {\n    if ($calcWaitingForSecondOperand) {\n      calcDisplay.set('0.');\n      calcWaitingForSecondOperand.set(false);\n      return;\n    }\n\n    if (!$calcDisplay.includes('.')) {\n      calcDisplay.set($calcDisplay + '.');\n      calcCurrentInput.set($calcDisplay);\n    }\n  }\n\n  function clearAll() {\n    calcDisplay.set('0');\n    calcCurrentInput.set('');\n    calcOperator.set(null);\n    calcPreviousValue.set(null);\n    calcWaitingForSecondOperand.set(false);\n  }\n\n  function handleOperator(nextOperator: string) {\n    const inputValue = parseFloat($calcDisplay);\n\n    if ($calcPreviousValue === null) {\n      calcPreviousValue.set(inputValue);\n    } else if ($calcOperator) {\n      const result = performCalculation();\n      calcDisplay.set(String(result));\n      calcPreviousValue.set(result);\n    }\n\n    calcWaitingForSecondOperand.set(true);\n    calcOperator.set(nextOperator);\n  }\n\n  function performCalculation(): number {\n    const prevValue = $calcPreviousValue;\n    const currentValue = parseFloat($calcDisplay);\n\n    if (prevValue === null) return currentValue;\n\n    switch ($calcOperator) {\n      case '+':\n        return prevValue + currentValue;\n      case '-':\n        return prevValue - currentValue;\n      case '*':\n        return prevValue * currentValue;\n      case '/':\n        return prevValue / currentValue;\n      default:\n        return currentValue;\n    }\n  }\n\n  function toggleSign() {\n    calcDisplay.set(String(-parseFloat($calcDisplay)));\n    calcCurrentInput.set($calcDisplay);\n  }\n\n  function calculatePercentage() {\n    const currentValue = parseFloat($calcDisplay);\n    const percentValue = currentValue / 100;\n    calcDisplay.set(String(percentValue));\n    calcCurrentInput.set($calcDisplay);\n  }\n</script>\n\n<div class=\"bg-gray-700 p-2 rounded-lg\">\n  <h4 class=\"text-xs font-medium text-purple-300 uppercase mb-2\">Calculator</h4>\n  <input\n    type=\"text\"\n    class=\"w-full text-right mb-2 px-2 py-1 border-0 focus:ring-0 text-xl font-mono bg-gray-800 text-gray-100 rounded-md\"\n    bind:value={$calcDisplay}\n    readonly\n  >\n  <div class=\"grid grid-cols-4 gap-1\">\n    {#each ['AC', '+/-', '%', '/', '7', '8', '9', '*', '4', '5', '6', '-', '1', '2', '3', '+', '0', '.', '='] as key}\n      {@const isOperator = ['/', '*', '-', '+', '='].includes(key)}\n      {@const isZero = key === '0'}\n      {@const isClear = key === 'AC'}\n      <button\n        on:click={() => {\n          if (key === 'AC') clearAll();\n          else if (key === '+/-') toggleSign();\n          else if (key === '%') calculatePercentage();\n          else if (isOperator) handleOperator(key);\n          else if (key === '.') inputDecimal();\n          else inputDigit(key);\n        }}\n        class=\"p-2 rounded text-sm font-medium transition duration-150 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-offset-gray-700\n               {isZero ? 'col-span-2' : ''}\n               {isOperator ? 'bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-400' : ''}\n               {isClear ? 'bg-red-600 hover:bg-red-700 text-white focus:ring-red-400' : ''}\n               {!isOperator && !isClear ? 'bg-gray-600 hover:bg-gray-500 text-gray-100 focus:ring-gray-400' : ''}\"\n      >\n        {#if key === '/'}รท\n        {:else if key === '*'}<i class=\"fas fa-times\"></i>\n        {:else if key === '-'}<i class=\"fas fa-minus\"></i>\n        {:else if key === '+'}<i class=\"fas fa-plus\"></i>\n        {:else if key === '='}<i class=\"fas fa-equals\"></i>\n        {:else}{key}{/if}\n      </button>\n    {/each}\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { persistentStore } from '../../stores/persistentStore';\n  import { browser } from '$app/environment';\n\n  interface Flashcard {\n    id: string;\n    front: string;\n    back: string;\n    lastReviewed?: number;\n    nextReview?: number;\n    level: number; // 0-5 for spaced repetition\n  }\n\n  const flashcards = persistentStore<Flashcard[]>('learnflow-flashcards', []);\n  let currentCard: Flashcard | null = null;\n  let showingFront = true;\n  let newCardFront = '';\n  let newCardBack = '';\n\n  // Get next card based on spaced repetition algorithm\n  function getNextCard(): Flashcard | null {\n    const now = Date.now();\n    const cards = $flashcards.filter(card => !card.nextReview || card.nextReview <= now);\n    if (cards.length === 0) return null;\n    return cards[Math.floor(Math.random() * cards.length)];\n  }\n\n  function addCard() {\n    if (!newCardFront.trim() || !newCardBack.trim()) return;\n    \n    // Generate UUID in a browser-safe way\n    const id = browser && window.crypto ? \n      crypto.randomUUID() : \n      `temp-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n    \n    const card: Flashcard = {\n      id,\n      front: newCardFront,\n      back: newCardBack,\n      level: 0\n    };\n    \n    flashcards.update(cards => [...cards, card]);\n    newCardFront = '';\n    newCardBack = '';\n  }\n\n  function flipCard() {\n    showingFront = !showingFront;\n  }\n\n  function reviewCard(success: boolean) {\n    if (!currentCard) return;\n    \n    const now = Date.now();\n    let nextLevel = success ? currentCard.level + 1 : Math.max(0, currentCard.level - 1);\n    nextLevel = Math.min(5, nextLevel);\n    \n    // Calculate next review time using spaced repetition\n    const intervals = [\n      1000 * 60 * 30,        // 30 minutes\n      1000 * 60 * 60 * 4,    // 4 hours\n      1000 * 60 * 60 * 24,   // 1 day\n      1000 * 60 * 60 * 24 * 3,  // 3 days\n      1000 * 60 * 60 * 24 * 7,  // 1 week\n      1000 * 60 * 60 * 24 * 14  // 2 weeks\n    ];\n\n    // Fix: Safely access currentCard properties with null check\n    const cardId = currentCard?.id;\n    if (cardId) {\n      flashcards.update(cards => \n        cards.map(card => \n          card.id === cardId \n            ? {\n                ...card,\n                level: nextLevel,\n                lastReviewed: now,\n                nextReview: now + intervals[nextLevel]\n              }\n            : card\n        )\n      );\n    }\n\n    // Move to next card\n    currentCard = getNextCard();\n    showingFront = true;\n  }\n\n  function handleCardKeydown(event: KeyboardEvent) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      flipCard();\n    }\n  }\n\n  // Start reviewing only in browser environment\n  $: if (browser && !currentCard && $flashcards.length > 0) {\n    currentCard = getNextCard();\n  }\n</script>\n\n<div class=\"bg-gray-700 p-2 rounded-lg\">\n  <h4 class=\"text-xs font-medium text-orange-300 uppercase mb-2\">Flashcards</h4>\n\n  {#if $flashcards.length === 0}\n    <!-- Add first card form -->\n    <div class=\"text-center p-4\">\n      <p class=\"text-gray-300 text-sm mb-4\">Create your first flashcard:</p>\n      <div class=\"space-y-2\">\n        <input\n          type=\"text\"\n          bind:value={newCardFront}\n          placeholder=\"Front side...\"\n          class=\"w-full p-2 rounded bg-gray-600 text-gray-100 text-sm border border-gray-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500\"\n        />\n        <textarea\n          bind:value={newCardBack}\n          placeholder=\"Back side...\"\n          rows=\"2\"\n          class=\"w-full p-2 rounded bg-gray-600 text-gray-100 text-sm border border-gray-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500\"\n        ></textarea>\n        <button\n          on:click={addCard}\n          class=\"w-full py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition\"\n        >\n          Add Card\n        </button>\n      </div>\n    </div>\n  {:else}\n    <!-- Review interface -->\n    {#if currentCard}\n      <div class=\"p-4\">\n        <div\n          role=\"button\"\n          tabindex=\"0\"\n          class=\"min-h-[120px] p-4 bg-gray-800 rounded-lg shadow-inner flex items-center justify-center cursor-pointer transition-transform hover:scale-[1.02] select-none focus:outline-none focus:ring-2 focus:ring-orange-500\"\n          on:click={flipCard}\n          on:keydown={handleCardKeydown}\n        >\n          <p class=\"text-gray-100 text-center\">\n            {showingFront ? currentCard.front : currentCard.back}\n          </p>\n        </div>\n        \n        <div class=\"flex justify-between mt-4\">\n          <button\n            on:click={() => reviewCard(false)}\n            class=\"px-4 py-2 bg-red-600 text-white rounded font-medium hover:bg-red-700 transition\"\n            aria-label=\"Mark card as difficult\"\n          >\n            Again\n          </button>\n          <button\n            on:click={() => reviewCard(true)}\n            class=\"px-4 py-2 bg-green-600 text-white rounded font-medium hover:bg-green-700 transition\"\n            aria-label=\"Mark card as known\"\n          >\n            Good\n          </button>\n        </div>\n      </div>\n    {:else}\n      <div class=\"text-center p-4\">\n        <p class=\"text-gray-300\">No cards due for review!</p>\n      </div>\n    {/if}\n\n    <!-- Add new card button -->\n    <div class=\"mt-2 border-t border-gray-600 pt-2\">\n      <details class=\"text-sm\">\n        <summary class=\"text-gray-300 cursor-pointer hover:text-gray-100\">Add New Card</summary>\n        <div class=\"mt-2 space-y-2\">\n          <input\n            type=\"text\"\n            bind:value={newCardFront}\n            placeholder=\"Front side...\"\n            class=\"w-full p-2 rounded bg-gray-600 text-gray-100 text-sm border border-gray-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500\"\n          />\n          <textarea\n            bind:value={newCardBack}\n            placeholder=\"Back side...\"\n            rows=\"2\"\n            class=\"w-full p-2 rounded bg-gray-600 text-gray-100 text-sm border border-gray-500 focus:border-orange-500 focus:ring-1 focus:ring-orange-500\"\n          ></textarea>\n          <button\n            on:click={addCard}\n            class=\"w-full py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition\"\n          >\n            Add Card\n          </button>\n        </div>\n      </details>\n    </div>\n  {/if}\n</div>","<!-- filepath: /home/linux/learnflow-app/learnflow-app/src/lib/components/pip/PipDictionary.svelte -->\n<script lang=\"ts\">\n  interface Definition {\n    definition: string;\n    example?: string;\n  }\n\n  interface Meaning {\n    partOfSpeech: string;\n    definitions: Definition[];\n  }\n\n  interface DictionaryResult {\n    word: string;\n    phonetic?: string;\n    meanings: Meaning[];\n  }\n\n  let searchTerm = '';\n  let searching = false;\n  let result: DictionaryResult | null = null;\n  let error: string | null = null;\n\n  async function lookupWord(term: string): Promise<void> {\n    if (!term.trim()) return;\n    \n    searching = true;\n    error = null;\n    result = null;\n    \n    try {\n      const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(term)}`);\n      if (!response.ok) throw new Error('Word not found');\n      const data = await response.json();\n      result = data[0] as DictionaryResult;\n    } catch (e: any) {\n      error = e.message;\n    } finally {\n      searching = false;\n    }\n  }\n\n  function handleSubmit() {\n    if (searchTerm.trim()) {\n      lookupWord(searchTerm);\n    }\n  }\n</script>\n\n<div class=\"bg-gray-700 p-2 rounded-lg\">\n  <h4 class=\"text-xs font-medium text-cyan-300 uppercase mb-2\">Dictionary</h4>\n  \n  <form on:submit|preventDefault={handleSubmit} class=\"mb-3\">\n    <div class=\"flex gap-2\">\n      <input\n        type=\"text\"\n        bind:value={searchTerm}\n        placeholder=\"Enter a word...\"\n        class=\"flex-1 px-3 py-1.5 bg-gray-800 text-gray-100 rounded border border-gray-600 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500\"\n      >\n      <button\n        type=\"submit\"\n        class=\"px-3 py-1.5 bg-cyan-600 text-white rounded hover:bg-cyan-700 transition disabled:opacity-50\"\n        disabled={searching || !searchTerm.trim()}\n      >\n        {#if searching}\n          <i class=\"fas fa-spinner fa-spin\"></i>\n        {:else}\n          <i class=\"fas fa-search\"></i>\n        {/if}\n      </button>\n    </div>\n  </form>\n\n  {#if error}\n    <div class=\"text-center p-4 text-red-400\">\n      <i class=\"fas fa-exclamation-circle mb-2 text-xl\"></i>\n      <p class=\"text-sm\">{error}</p>\n    </div>\n  {:else if result}\n    <div class=\"space-y-3\">\n      <div>\n        <div class=\"flex items-baseline gap-2 mb-1\">\n          <h3 class=\"text-lg font-bold text-gray-100\">{result.word}</h3>\n          {#if result.phonetic}\n            <span class=\"text-sm text-gray-400\">{result.phonetic}</span>\n          {/if}\n        </div>\n        {#if result.meanings?.[0]?.definitions?.[0]}\n          <p class=\"text-sm text-gray-300\">{result.meanings[0].definitions[0].definition}</p>\n        {/if}\n      </div>\n\n      {#if result.meanings?.length > 0}\n        <div class=\"border-t border-gray-600 pt-2\">\n          {#each result.meanings.slice(0, 2) as meaning}\n            <div class=\"mb-2\">\n              <span class=\"text-xs font-medium text-cyan-400\">{meaning.partOfSpeech}</span>\n              <ul class=\"mt-1 space-y-1\">\n                {#each meaning.definitions.slice(0, 2) as def}\n                  <li class=\"text-sm text-gray-300\">โข {def.definition}</li>\n                  {#if def.example}\n                    <li class=\"text-xs text-gray-400 italic ml-4\">\"{def.example}\"</li>\n                  {/if}\n                {/each}\n              </ul>\n            </div>\n          {/each}\n        </div>\n      {/if}\n    </div>\n  {:else}\n    <div class=\"text-center p-4 text-gray-400\">\n      <i class=\"fas fa-book mb-2 text-xl\"></i>\n      <p class=\"text-sm\">Search for a word to see its definition</p>\n    </div>\n  {/if}\n</div>","<script lang=\"ts\">\n  import { fly } from 'svelte/transition';\n  import { quintOut } from 'svelte/easing';\n  import { pipVisible, activeTool } from '$lib/stores/pipStores';\n  import { onMount, tick, onDestroy } from 'svelte';\n  import { browser } from '$app/environment';\n  \n  // Import the tool components\n  import PipTimer from './pip/PipTimer.svelte';\n  import PipTodo from './pip/PipTodo.svelte';\n  import PipNotes from './pip/PipNotes.svelte';\n  import PipCalculator from './pip/PipCalculator.svelte';\n  import PipFlashcards from './pip/PipFlashcards.svelte';\n  import PipDictionary from './pip/PipDictionary.svelte';\n  \n  // Tools configuration - Updated for Dark Theme\n  const tools = [\n    { id: 'timer', name: 'Timer', icon: 'fa-stopwatch', bgClass: 'bg-indigo-800', textClass: 'text-indigo-100', hoverClass: 'hover:bg-indigo-700' },\n    { id: 'todo', name: 'Todo', icon: 'fa-list-check', bgClass: 'bg-green-800', textClass: 'text-green-100', hoverClass: 'hover:bg-green-700' },\n    { id: 'notes', name: 'Notes', icon: 'fa-sticky-note', bgClass: 'bg-yellow-800', textClass: 'text-yellow-100', hoverClass: 'hover:bg-yellow-700' },\n    { id: 'calculator', name: 'Calculator', icon: 'fa-calculator', bgClass: 'bg-purple-800', textClass: 'text-purple-100', hoverClass: 'hover:bg-purple-700' },\n    { id: 'flashcards', name: 'Flashcards', icon: 'fa-layer-group', bgClass: 'bg-orange-800', textClass: 'text-orange-100', hoverClass: 'hover:bg-orange-700' },\n    { id: 'dictionary', name: 'Dictionary', icon: 'fa-book', bgClass: 'bg-cyan-800', textClass: 'text-cyan-100', hoverClass: 'hover:bg-cyan-700' }\n  ];\n  \n  let minimized = false;\n  let widgetElement: HTMLElement | null = null;\n  let isDragging = false;\n  let startX = 0;\n  let startY = 0;\n  let initialLeft = 0;\n  let initialTop = 0;\n  \n  // Use these variables for CSS instead of direct style manipulation\n  let widgetLeft = 'auto';\n  let widgetTop = 'auto';\n  let widgetBottom = '1rem';\n  let widgetRight = '1rem';\n  let widgetCursor = 'grab';\n  let widgetUserSelect = 'auto';\n  \n  // Safely close the pip widget\n  function closePip() {\n    if (browser) {\n      pipVisible.set(false);\n      minimized = false;\n    }\n  }\n  \n  // Toggle minimized state\n  function minimizePip() {\n    minimized = !minimized;\n  }\n  \n  // Switch between tools\n  function setTool(id: string) {\n    activeTool.set(id);\n    minimized = false;\n  }\n  \n  // Draggable functionality\n  function handleMouseDown(e: MouseEvent) {\n    if (!browser || !widgetElement) return;\n    \n    // Only drag via the header (check if the event target is within the header)\n    const header = widgetElement.querySelector('.pip-header');\n    if (!header || !header.contains(e.target as Node)) return;\n\n    // Prevent dragging if clicking on buttons inside the header\n    if (e.target instanceof Element && e.target.closest('button')) return; \n\n    isDragging = true;\n    startX = e.clientX;\n    startY = e.clientY;\n    \n    const rect = widgetElement.getBoundingClientRect();\n    initialLeft = rect.left;\n    initialTop = rect.top;\n\n    // Style changes for dragging state\n    widgetCursor = 'grabbing';\n    widgetUserSelect = 'none'; // Prevent text selection\n    widgetBottom = 'auto'; // Ensure absolute positioning takes over\n    widgetRight = 'auto';\n    \n    // Set explicit position\n    widgetLeft = `${initialLeft}px`;\n    widgetTop = `${initialTop}px`;\n  }\n  \n  function handleMouseMove(e: MouseEvent) {\n    if (!browser || !isDragging) return;\n    \n    const dx = e.clientX - startX;\n    const dy = e.clientY - startY;\n    \n    widgetLeft = `${initialLeft + dx}px`;\n    widgetTop = `${initialTop + dy}px`;\n  }\n  \n  function handleMouseUp() {\n    if (!browser) return;\n    \n    if (isDragging) {\n      isDragging = false;\n      widgetCursor = 'grab';\n      widgetUserSelect = 'auto'; // Re-enable text selection\n    }\n  }\n  \n  // Keep track of event listeners to clean up properly\n  let mouseMoveListener: ((e: MouseEvent) => void) | null = null;\n  let mouseUpListener: (() => void) | null = null;\n  \n  onMount(() => {\n    if (!browser) return;\n    \n    // Add event listeners to document for reliable drag tracking\n    mouseMoveListener = handleMouseMove;\n    mouseUpListener = handleMouseUp;\n    \n    document.addEventListener('mousemove', mouseMoveListener);\n    document.addEventListener('mouseup', mouseUpListener);\n  });\n  \n  // Ensure cleanup of event listeners when component is destroyed\n  onDestroy(() => {\n    if (!browser) return;\n    \n    if (mouseMoveListener) {\n      document.removeEventListener('mousemove', mouseMoveListener);\n    }\n    \n    if (mouseUpListener) {\n      document.removeEventListener('mouseup', mouseUpListener);\n    }\n  });\n  \n  // Function for keyboard accessibility\n  async function handleKeyDown(e: KeyboardEvent) {\n    if (!browser || !widgetElement) return;\n    \n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      // We need to create a synthetic MouseEvent for handleMouseDown\n      // First, wait for the DOM to be updated\n      await tick();\n      \n      const rect = widgetElement.getBoundingClientRect();\n      const mouseEvent = new MouseEvent('mousedown', {\n        clientX: rect.left + rect.width / 2,\n        clientY: rect.top + 20, // Position in the header\n        bubbles: true\n      });\n      handleMouseDown(mouseEvent);\n    }\n  }\n</script>\n\n{#if browser && $pipVisible}\n  <div\n    bind:this={widgetElement}\n    class=\"pip-widget {minimized ? 'minimized' : ''} bg-gray-800 text-gray-100 rounded-2xl overflow-hidden shadow-lg fixed squircle\"\n    style=\"position: fixed; bottom: {widgetBottom}; right: {widgetRight}; left: {widgetLeft}; top: {widgetTop}; cursor: {widgetCursor}; user-select: {widgetUserSelect};\"\n    role=\"region\" \n    aria-label=\"Quick Tools Widget\"\n    transition:fly={{ y: 20, duration: 300, easing: quintOut }}\n  >\n    <div \n      class=\"pip-header bg-indigo-600 text-white p-2 flex justify-between items-center cursor-grab\" \n      on:mousedown={handleMouseDown}\n      role=\"button\" \n      tabindex=\"0\"\n      aria-label=\"Drag quick tools widget\"\n      on:keydown={handleKeyDown}\n    >\n      <h3 class=\"font-medium text-sm pl-2\">Quick Tools</h3>\n      <div>\n        <button \n          on:click={minimizePip} \n          class=\"p-1 text-indigo-100 hover:bg-indigo-500 rounded-full focus:outline-none focus:ring-2 focus:ring-white\"\n          aria-label={minimized ? 'Expand widget' : 'Minimize widget'}\n        >\n          <i class=\"fas {minimized ? 'fa-expand' : 'fa-window-minimize'} w-3 h-3\"></i>\n        </button>\n        <button \n          on:click={closePip} \n          class=\"p-1 text-indigo-100 hover:bg-indigo-500 rounded-full ml-1 focus:outline-none focus:ring-2 focus:ring-white\"\n          aria-label=\"Close widget\"\n        >\n          <i class=\"fas fa-times w-3 h-3\"></i>\n        </button>\n      </div>\n    </div>\n    \n    {#if !minimized}\n      <div class=\"p-3 border-b border-gray-700\">\n        <div class=\"grid grid-cols-4 gap-2\">\n          {#each tools as tool}\n            <button\n              on:click={() => setTool(tool.id)}\n              class=\"p-2 {tool.bgClass} rounded-lg {tool.textClass} {tool.hoverClass} flex flex-col items-center text-center transition duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 { $activeTool === tool.id ? 'ring-2 ring-white' : 'ring-0' }\"\n              aria-label={`Open ${tool.name} tool`}\n            >\n              <i class=\"fas {tool.icon} text-base mb-1\"></i>\n              <span class=\"text-xs font-medium\">{tool.name}</span>\n            </button>\n          {/each}\n        </div>\n      </div>\n      \n      <div class=\"p-2 tool-content-area\">\n        {#if $activeTool === 'timer'}\n          <PipTimer />\n        {:else if $activeTool === 'todo'}\n          <PipTodo />\n        {:else if $activeTool === 'notes'}\n          <PipNotes />\n        {:else if $activeTool === 'calculator'}\n          <PipCalculator />\n        {:else if $activeTool === 'flashcards'}\n          <PipFlashcards />\n        {:else if $activeTool === 'dictionary'}\n          <PipDictionary />\n        {/if}\n      </div>\n    {/if}\n  </div>\n{/if}\n\n<style lang=\"postcss\">\n  .pip-widget {\n    width: 280px; /* Adjust width as needed */\n    will-change: transform;\n    transition: width 0.2s ease-out, height 0.2s ease-out;\n  }\n  .pip-widget.minimized {\n     height: 44px; /* Adjust to match header height */\n     width: auto; /* Or a fixed minimized width */\n     overflow: hidden;\n  }\n  .tool-content-area {\n      min-height: 150px; /* Give it some default height */\n  }\n\n  /* Custom scrollbar for the content area - Dark Theme */\n  .tool-content-area ::-webkit-scrollbar {\n      width: 6px;\n  }\n  .tool-content-area ::-webkit-scrollbar-track {\n      background: transparent;\n  }\n  .tool-content-area ::-webkit-scrollbar-thumb {\n      background-color: rgba(156, 163, 175, 0.4); /* gray-400 with opacity */\n      border-radius: 3px;\n      border: 1px solid transparent;\n      background-clip: content-box;\n  }\n  .tool-content-area ::-webkit-scrollbar-thumb:hover {\n      background-color: rgba(156, 163, 175, 0.6);\n  }\n\n  /* Add explicit Tailwind color classes for purging */\n  .bg-indigo-50 { --tw-bg-opacity: 1; background-color: rgb(239 246 255 / var(--tw-bg-opacity)); }\n  .text-indigo-700 { --tw-text-opacity: 1; color: rgb(67 56 202 / var(--tw-text-opacity)); }\n  .hover\\:bg-indigo-100:hover { --tw-bg-opacity: 1; background-color: rgb(224 231 255 / var(--tw-bg-opacity)); }\n  .focus\\:ring-indigo-400:focus { --tw-ring-color: rgb(129 140 248 / var(--tw-ring-opacity)); }\n  .border-indigo-100 { --tw-border-opacity: 1; border-color: rgb(224 231 255 / var(--tw-border-opacity)); }\n  .hover\\:border-indigo-200:hover { --tw-border-opacity: 1; border-color: rgb(199 210 254 / var(--tw-border-opacity)); }\n\n  .bg-green-50 { --tw-bg-opacity: 1; background-color: rgb(240 253 244 / var(--tw-bg-opacity)); }\n  .text-green-700 { --tw-text-opacity: 1; color: rgb(21 128 61 / var(--tw-text-opacity)); }\n  .hover\\:bg-green-100:hover { --tw-bg-opacity: 1; background-color: rgb(220 252 231 / var(--tw-bg-opacity)); }\n  .focus\\:ring-green-400:focus { --tw-ring-color: rgb(74 222 128 / var(--tw-ring-opacity)); }\n  .border-green-100 { --tw-border-opacity: 1; border-color: rgb(220 252 231 / var(--tw-border-opacity)); }\n  .hover\\:border-green-200:hover { --tw-border-opacity: 1; border-color: rgb(187 247 208 / var(--tw-border-opacity)); }\n\n  .bg-blue-50 { --tw-bg-opacity: 1; background-color: rgb(239 246 255 / var(--tw-bg-opacity)); }\n  .text-blue-700 { --tw-text-opacity: 1; color: rgb(29 78 216 / var(--tw-text-opacity)); }\n  .hover\\:bg-blue-100:hover { --tw-bg-opacity: 1; background-color: rgb(219 234 254 / var(--tw-bg-opacity)); }\n  .focus\\:ring-blue-400:focus { --tw-ring-color: rgb(96 165 250 / var(--tw-ring-opacity)); }\n  .border-blue-100 { --tw-border-opacity: 1; border-color: rgb(219 234 254 / var(--tw-border-opacity)); }\n  .hover\\:border-blue-200:hover { --tw-border-opacity: 1; border-color: rgb(191 219 254 / var(--tw-border-opacity)); }\n\n  .bg-purple-50 { --tw-bg-opacity: 1; background-color: rgb(250 245 255 / var(--tw-bg-opacity)); }\n  .text-purple-700 { --tw-text-opacity: 1; color: rgb(126 34 206 / var(--tw-text-opacity)); }\n  .hover\\:bg-purple-100:hover { --tw-bg-opacity: 1; background-color: rgb(243 232 255 / var(--tw-bg-opacity)); }\n  .focus\\:ring-purple-400:focus { --tw-ring-color: rgb(192 132 252 / var(--tw-ring-opacity)); }\n  .border-purple-100 { --tw-border-opacity: 1; border-color: rgb(243 232 255 / var(--tw-border-opacity)); }\n  .hover\\:border-purple-200:hover { --tw-border-opacity: 1; border-color: rgb(233 213 255 / var(--tw-border-opacity)); }\n\n  .bg-orange-50 { --tw-bg-opacity: 1; background-color: rgb(255 237 213 / var(--tw-bg-opacity)); }\n  .text-orange-700 { --tw-text-opacity: 1; color: rgb(234 88 12 / var(--tw-text-opacity)); }\n  .hover\\:bg-orange-100:hover { --tw-bg-opacity: 1; background-color: rgb(255 229 200 / var(--tw-bg-opacity)); }\n  .focus\\:ring-orange-400:focus { --tw-ring-color: rgb(251 146 60 / var(--tw-ring-opacity)); }\n  .border-orange-100 { --tw-border-opacity: 1; border-color: rgb(255 229 200 / var(--tw-border-opacity)); }\n  .hover\\:border-orange-200:hover { --tw-border-opacity: 1; border-color: rgb(255 215 170 / var(--tw-border-opacity)); }\n</style>","import { writable } from 'svelte/store';\nimport { persistentStore } from './persistentStore.js';\n\n// UI State\nexport const sidebarOpen = writable(false);\nexport const courseModalOpen = writable(false);\nexport const currentCourse = writable(null);\n\n// User-related State\nexport const user = writable({\n  name: 'Alex Morgan',\n  email: 'alex@example.com',\n  avatar: '',\n  streak: 7\n});\n\n// Types\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n  avatar: string | null;\n  streakDays: number;\n}\n\n// Progress stats\nexport const progressStats = writable({\n  coursesInProgress: 3,\n  exercisesCompleted: 28,\n  learningStreak: 5,\n  totalHoursSpent: 42\n});\n\n// Modal visibility state\nexport const modals = writable({\n  courseContentOpen: false,\n});","<script>\n  import { onMount } from 'svelte';\n  import { courseModalOpen, currentCourse } from '$lib/stores/appStore';\n  import * as marked from 'marked';\n  \n  export let markdownContent = `\n# JavaScript Closures\n\nA closure is a combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment).\n\n## Understanding Closures\n\nIn JavaScript, closures are created every time a function is created, at function creation time.\n\n\\`\\`\\`javascript\nfunction outer() {\n  const outerVar = 'I am outside!';\n  \n  function inner() {\n    console.log(outerVar); // Accesses outerVar from the outer function's scope\n  }\n  \n  return inner;\n}\n\nconst myInner = outer();\nmyInner(); // Logs: \"I am outside!\"\n\\`\\`\\`\n\n## Practical Uses of Closures\n\n### Data Privacy\nClosures can be used to create private variables.\n\n\\`\\`\\`javascript\nfunction createCounter() {\n  let count = 0;\n  \n  return {\n    increment: function() { count++; },\n    getCount: function() { return count; }\n  };\n}\n\nconst counter = createCounter();\ncounter.increment();\nconsole.log(counter.getCount()); // 1\nconsole.log(counter.count); // undefined (private)\n\\`\\`\\`\n\n### Function Factories\nCreate specialized functions based on parameters.\n\n\\`\\`\\`javascript\nfunction multiplyBy(factor) {\n  return function(number) {\n    return number * factor;\n  };\n}\n\nconst double = multiplyBy(2);\nconsole.log(double(5)); // 10\n\\`\\`\\`\n\n## Exercise\n\nCreate a closure that implements a simple bank account with:\n- \\`deposit(amount)\\` method\n- \\`withdraw(amount)\\` method\n- \\`getBalance()\\` method\n\nThe balance should be private and only accessible through these methods.\n`;\n  \n  let renderedContent = '';\n  \n  function closeModal() {\n    courseModalOpen.set(false);\n  }\n  \n  async function renderMarkdown() {\n    // Use marked directly and await its result\n    renderedContent = await marked.parse(markdownContent);\n  }\n  \n  onMount(() => {\n    renderMarkdown();\n  });\n</script>\n\n{#if $courseModalOpen}\n  <div \n    class=\"fixed inset-0 z-50 overflow-y-auto\"\n    aria-labelledby=\"modal-title\"\n    role=\"dialog\" \n    aria-modal=\"true\"\n  >\n    <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n      <!-- Background overlay -->\n      <div \n        class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" \n        aria-hidden=\"true\"\n        on:click={closeModal}\n        on:keydown={e => e.key === 'Escape' && closeModal()}\n      ></div>\n      \n      <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">โ</span>\n      \n      <!-- Modal panel -->\n      <div class=\"inline-block align-bottom bg-gray-800 text-gray-100 rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full squircle border border-orange-500\">\n        <div class=\"bg-gray-800 px-6 py-4\">\n          <div class=\"flex justify-between items-center border-b border-gray-700 pb-4\">\n            <h3 class=\"text-lg font-medium text-gray-100\">\n              {$currentCourse?.title || 'Course Content'}\n            </h3>\n            <button \n              on:click={closeModal} \n              class=\"text-gray-400 hover:text-gray-200\"\n              aria-label=\"Close modal\"\n            >\n              <i class=\"fas fa-times\"></i>\n            </button>\n          </div>\n          \n          <div class=\"markdown-content py-4\">\n            {@html renderedContent}\n          </div>\n          \n          <div class=\"border-t border-gray-700 pt-4 flex justify-between\">\n            <button class=\"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600\">\n              Previous\n            </button>\n            <button class=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\">\n              Next Lesson\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n{/if}\n","<script lang=\"ts\">\n  const currentYear = new Date().getFullYear();\n</script>\n\n<footer class=\"bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-inner py-4 mt-12\">\n  <div class=\"max-w-7xl mx-auto px-4 text-center text-sm text-gray-500 dark:text-gray-400\">\n    ยฉ {currentYear} LearnFlow. All rights reserved.\n  </div>\n</footer>","<script lang=\"ts\">\n  import { sidebarCollapsed } from '$lib/stores/sidebarStore.js';\n  let collapsed = false;\n  sidebarCollapsed.subscribe(v => collapsed = v);\n  import '../app.css';\n  import '@splidejs/splide/dist/css/splide.min.css';\n  import { onMount } from 'svelte';\n  import Sidebar from '$lib/components/Sidebar.svelte';\n  import Header from '$lib/components/Header.svelte';\n  import PipWidget from '$lib/components/PipWidget.svelte';\n  import CourseModal from '$lib/components/courses/CourseModal.svelte';\n  import Footer from '$lib/components/Footer.svelte';\n  import { pipVisible } from '$lib/stores/pipStores.js';\n  import { initAuth } from '$lib/authService.js';\n  import { isAuthenticated, user } from '$lib/stores/authStore.js';\n  import { storeCsrfToken } from '$lib/utils/csrf.client.js';\n\n  export let data;\n\n  onMount(async () => {\n    console.log('Root layout mounted - initializing authentication and CSRF protection');\n    \n    // Store CSRF token from server\n    if (data.csrfToken) {\n      storeCsrfToken(data.csrfToken);\n    }\n    \n    // Initialize Firebase authentication\n    initAuth();\n    \n    // Set up subscription to auth state for debugging\n    const unsubAuth = isAuthenticated.subscribe(value => {\n      console.log('Auth state changed in root layout:', value ? 'Authenticated' : 'Not authenticated');\n    });\n\n    const unsubUser = user.subscribe(u => {\n      if (u) console.log('User state changed in root layout:', u);\n    });\n\n    return () => {\n      unsubAuth();\n      unsubUser();\n    };\n  });\n\n  function togglePip() {\n    pipVisible.update(v => !v);\n  }\n</script>\n\n<svelte:head>\n  <meta name=\"csrf-token\" content={data.csrfToken}>\n  \n  <!-- Preload commonly used Font Awesome fonts with correct MIME type -->\n  <link \n    rel=\"preload\" \n    href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-solid-900.woff2\" \n    as=\"font\" \n    type=\"font/woff2\" \n    crossorigin=\"anonymous\"\n  />\n  <link \n    rel=\"preload\" \n    href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-regular-400.woff2\" \n    as=\"font\" \n    type=\"font/woff2\" \n    crossorigin=\"anonymous\"\n  />\n  \n  <!-- Font Awesome with font-display swap -->\n  <link \n    rel=\"stylesheet\" \n    href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" \n    integrity=\"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\" \n    crossorigin=\"anonymous\" \n    referrerpolicy=\"no-referrer\"\n  />\n  \n  <!-- Inter Font with font-display swap -->\n  <link \n    rel=\"preconnect\" \n    href=\"https://fonts.googleapis.com\"\n  />\n  <link \n    rel=\"preconnect\" \n    href=\"https://fonts.gstatic.com\" \n    crossorigin=\"anonymous\"\n  />\n  <link \n    href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" \n    rel=\"stylesheet\"\n  />\n</svelte:head>\n\n<div class=\"min-h-screen flex\">\n  <Sidebar />\n  <div class={`flex-1 transition-all duration-300 ${collapsed ? 'lg:ml-0' : 'lg:ml-64'}`}>\n    <Header onTogglePip={togglePip} />\n    \n    <main>\n      <slot />\n    </main>\n    \n    <Footer />\n  </div>\n  \n  <PipWidget />\n  <CourseModal />\n</div>\n\n<style>\n  /* Basic styles to ensure things are working */\n  :global(body) {\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n    margin: 0;\n    padding: 0;\n  }\n  \n  /* Improve Font Awesome rendering */\n  :global(.fas), :global(.fa), :global(.fa-solid), :global(.fa-regular), :global(.fa-brands) {\n    font-display: swap !important;\n    -webkit-font-smoothing: antialiased;\n    text-rendering: optimizeLegibility;\n  }\n  \n  :global(.card-hover) {\n    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n  }\n  \n  :global(.card-hover:hover) {\n    transform: translateY(-3px);\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  }\n</style>\n"],"names":["sidebarCollapsed","writable","navigation","mobileMenuOpen","path","expanded","$.mutable_source","pageUnsubscribe","handleOutsideClick","handleKeyDown","event","$.get","toggleMobileMenu","onMount","category","item","$.mutate","sidebar","target","$.set","page","value","onDestroy","toggleCollapse","v","toggleCategory","__spreadProps","__spreadValues","isActive","href","$sidebarCollapsed","$$render","consequent","consequent_1","$.each","div_3","$.index","$$anchor","$.set_attribute","a","$.set_class","i_2","$.set_text","text_1","$isAuthenticated","consequent_2","$.transition","ul","slide","consequent_3","button_3","text","i_1","text_3","_b","_a","$user","_d","_c","navigateToLogin","$$args","consequent_5","alternate_1","$loading","consequent_4","alternate","onTogglePip","pipVisible","searchQuery","handleSearch","logout","$.bind_value","input","$$value","intervalId","startTimer","$timerState","timerState","state","nextPhase","pauseTimer","resetTimer","workMode","$timerSettings","completedSession","focusSessions","sessions","nextModeType","nextTimeLeft","nextCycle","nextMode","formattedTime","minutes","seconds","modeDisplay","str","flip","node","from","to","params","delay","duration","d","easing","cubicOut","style","transform","ox","oy","zoom","get_zoom","sx","sy","fx","fy","tx","ty","dx","dy","dsx","dsy","t","u","x","element","current","newTodoText","isInitialized","generateUniqueId","browser","err","addTodo","newTodo","todos","currentTodos","toggleTodo","id","todo","deleteTodo","handleKeydown","$todos","$.set_checked","input_1","span","$.animation","li","fade","newNoteContent","showNewNoteInput","addNote","content","title","newNote","notes","currentNotes","startNewNote","cancelNewNote","deleteNote","note","$.template_effect","$0","button_2","$.derived_safe_equal","textarea","div_2","$notes","b","inputDigit","digit","$calcWaitingForSecondOperand","calcDisplay","calcWaitingForSecondOperand","$calcDisplay","calcCurrentInput","inputDecimal","clearAll","calcOperator","calcPreviousValue","handleOperator","nextOperator","inputValue","$calcPreviousValue","$calcOperator","result","performCalculation","prevValue","currentValue","toggleSign","calculatePercentage","percentValue","key","isOperator","isZero","isClear","alternate_4","alternate_3","alternate_2","$.event","button","$.store_set","flashcards","persistentStore","currentCard","showingFront","newCardFront","newCardBack","getNextCard","now","cards","$flashcards","card","addCard","flipCard","reviewCard","success","nextLevel","intervals","cardId","handleCardKeydown","button_1","textarea_1","searchTerm","searching","error","lookupWord","term","__async","response","data","e","handleSubmit","text_2","meaning","def","text_6","text_5","text_4","consequent_6","tools","minimized","widgetElement","isDragging","startX","startY","initialLeft","initialTop","widgetLeft","widgetTop","widgetBottom","widgetRight","widgetCursor","widgetUserSelect","closePip","minimizePip","setTool","activeTool","handleMouseDown","header","rect","handleMouseMove","handleMouseUp","mouseMoveListener","mouseUpListener","tick","mouseEvent","div_4","tool","$activeTool","$.bind_this","div","quintOut","$pipVisible","consequent_7","courseModalOpen","currentCourse","markdownContent","$.prop","$$props","renderedContent","closeModal","renderMarkdown","marked.parse","$currentCourse","$courseModalOpen","currentYear","collapsed","storeCsrfToken","initAuth","unsubAuth","isAuthenticated","unsubUser","user","togglePip","meta"],"mappings":"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","x_google_ignoreList":[4]}