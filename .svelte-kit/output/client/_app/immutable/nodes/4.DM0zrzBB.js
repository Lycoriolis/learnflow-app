var Re=Object.defineProperty,qe=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var de=(f,a,e)=>a in f?Re(f,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):f[a]=e,se=(f,a)=>{for(var e in a||(a={}))Ie.call(a,e)&&de(f,e,a[e]);if(xe)for(var e of xe(a))Me.call(a,e)&&de(f,e,a[e]);return f},ve=(f,a)=>qe(f,Pe(a));var ue=(f,a,e)=>de(f,typeof a!="symbol"?a+"":a,e);var R=(f,a,e)=>new Promise((o,i)=>{var r=g=>{try{d(e.next(g))}catch(E){i(E)}},v=g=>{try{d(e.throw(g))}catch(E){i(E)}},d=g=>g.done?o(g.value):Promise.resolve(g.value).then(r,v);d((e=e.apply(f,a)).next())});import"../chunks/COm6N4YE.js";import"../chunks/69_IOA4Y.js";import{d as c,r as s,n as ae,t as W,c as k,g as t,p as V,e as me,m as I,b as Z,ay as pe,l as Fe,a as Te,s as M,f as $e,$ as Be,ah as De}from"../chunks/HPQed-Yx.js";import{h as Ne}from"../chunks/Bkjpsbyi.js";import{t as b,a as y,e as ge,c as Ue}from"../chunks/ZM6Rlk1U.js";import{i as N}from"../chunks/Da7F0fHf.js";import{i as ee}from"../chunks/D0cPXSkH.js";import{p as H,s as Ye}from"../chunks/BWjJF4ZV.js";import{s as We,a as X}from"../chunks/CGqtlgv0.js";import{o as oe,a as ze}from"../chunks/Bpt9IQqH.js";import{s as U}from"../chunks/PqlH_gqs.js";import{e as te,i as ce}from"../chunks/ErG-rR4v.js";import{s as he}from"../chunks/XjHDu-gE.js";import{a as He,s as Se}from"../chunks/G1Z7eEzt.js";import{C as Qe}from"../chunks/DRwqVxuN.js";import{I as ye}from"../chunks/BC8mezXZ.js";import{t as Ge,f as Je}from"../chunks/D3PCwpG5.js";import{E as Oe}from"../chunks/i8jSxOG3.js";import{g as Xe,a as Ke,c as Ve,q as ne,w as fe,b as Ze}from"../chunks/D8i9UXqZ.js";import{B as et}from"../chunks/B9hwOBZE.js";import{f as tt,l as rt,a as st}from"../chunks/DN_AKHeO.js";import{i as je,n as we,u as Ae,e as be,l as at,f as ot}from"../chunks/BRK8y73W.js";import{f as _e,g as ke}from"../chunks/j_iAVkhk.js";import{F as it}from"../chunks/B8g5sepC.js";import{g as Le}from"../chunks/CToUoAZH.js";import{g as Ce,C as le,u as Ee}from"../chunks/pK43Z0Mz.js";var nt=b('<div class="bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-2xl p-6 mb-8 text-white squircle"><div class="flex flex-col md:flex-row justify-between items-start md:items-center"><div><h2 class="text-2xl font-bold mb-2"> </h2> <p class="opacity-90 mb-4 md:mb-0">Continue your learning journey with these recommended courses</p></div> <a href="/courses" class="bg-indigo-100 text-indigo-800 px-4 py-2 rounded-lg font-medium hover:bg-indigo-200 transition">Explore Courses</a></div></div>');function lt(f,a){let e=H(a,"username",8,"Hakim");var o=nt(),i=c(o),r=c(i),v=c(r),d=c(v);s(v),ae(2),s(r),ae(2),s(i),s(o),W(()=>{var g;return U(d,`Welcome back, ${(g=e())!=null?g:""}!`)}),y(f,o)}var ct=b('<div class="bg-gray-700 border border-orange-500 p-6 rounded-2xl shadow-sm squircle-sm card-hover"><div class="flex justify-between items-start"><div><h3 class="text-gray-400 text-sm font-medium"> </h3> <p class="text-2xl font-bold text-gray-100 mt-1"> </p></div> <div class="w-12 h-12 bg-indigo-900 rounded-full flex items-center justify-center"><i></i></div></div></div>'),dt=b('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"></div>');function vt(f,a){let e=H(a,"metrics",24,()=>[{title:"Courses in Progress",value:"3",icon:"fa-book",color:"indigo"},{title:"Exercises Completed",value:"24",icon:"fa-check-circle",color:"green"},{title:"Learning Streak",value:"7 days",icon:"fa-fire",color:"yellow"}]);var o=dt();te(o,5,e,ce,(i,r)=>{var v=ct(),d=c(v),g=c(d),E=c(g),x=c(E,!0);s(E);var n=k(E,2),w=c(n,!0);s(n),s(g);var u=k(g,2),l=c(u);s(u),s(d),s(v),W(()=>{var p;U(x,t(r).title),U(w,t(r).value),he(l,1,`fas ${(p=t(r).icon)!=null?p:""} text-indigo-300`)}),y(i,v)}),s(o),y(f,o)}var ut=b('<div class="carousel-item w-full flex-shrink-0 p-2"><!></div>'),ft=b('<div class="course-carousel"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold text-gray-900 dark:text-white"> </h2> <div class="flex space-x-2"><button class="p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"><!></button> <button class="p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></div> <div class="carousel-container overflow-hidden"><div class="carousel-track flex transition-transform duration-300"></div></div></div>');function gt(f,a){V(a,!1);let e=H(a,"courses",24,()=>[]),o=H(a,"title",8,"Featured Courses"),i=I(0);function r(){t(i)<e().length-1&&pe(i)}function v(){t(i)>0&&pe(i,-1)}ee();var d=ft(),g=c(d),E=c(g),x=c(E,!0);s(E);var n=k(E,2),w=c(n),u=c(w);ye(u,{icon:"mdi:chevron-left",class:"w-5 h-5"}),s(w);var l=k(w,2),p=c(l);ye(p,{icon:"mdi:chevron-right",class:"w-5 h-5"}),s(l),s(n),s(g);var C=k(g,2),F=c(C);te(F,5,e,ce,(q,m,$)=>{var S=ut(),A=c(S);const T=me(()=>$===t(i));Qe(A,{get course(){return t(m)},get isSelected(){return t(T)}}),s(S),y(q,S)}),s(F),s(C),s(d),W(()=>{U(x,o()),w.disabled=t(i)===0,l.disabled=t(i)===e().length-1,He(F,`transform: translateX(-${t(i)*100}%)`)}),ge("click",w,v),ge("click",l,r),y(f,d),Z()}let z={};class ht extends et{constructor(){super(...arguments);ue(this,"db",Xe());ue(this,"auth",Ke())}fetchExercises(e){return R(this,null,function*(){return this.handleRequest(()=>R(this,null,function*(){const o=JSON.stringify(e);if(z[o])return z[o];const i=Ve(this.db,"exercises");let r=ne(i);e.difficulty&&(r=ne(r,fe("difficulty","==",e.difficulty))),e.category&&(r=ne(r,fe("category","==",e.category))),e.tags&&e.tags.length>0&&(r=ne(r,fe("tags","array-contains-any",e.tags)));const d=(yield Ze(r)).docs.map(g=>se({id:g.id},g.data()));return z[o]=d,d}))})}getAllExercises(){return R(this,null,function*(){return this.handleRequest(()=>R(this,null,function*(){if(z.root)return z.root;const e=yield fetch("/content/exercises/index.json");if(!e.ok)throw new Error(`Failed to fetch exercises: ${e.statusText}`);const o=yield e.json();let i=[];return Array.isArray(o)?i=o:o.items&&Array.isArray(o.items)?i=o.items:(console.warn("Unexpected content format:",o),i=[]),z.root=i,i}))})}getExercisesByCategory(e){return R(this,null,function*(){return this.handleRequest(()=>R(this,null,function*(){if(z[`category-${e}`])return z[`category-${e}`];const{data:o,error:i}=yield this.getAllExercises();if(i)throw i;if(!o)return[];const r=o.filter(v=>v.category===e);return z[`category-${e}`]=r,r}))})}getExerciseById(e){return R(this,null,function*(){return this.handleRequest(()=>R(this,null,function*(){this.validateId(e);const o=yield fetch(`/content/exercises/${e}.json`);if(!o.ok)throw new Error(`Failed to fetch exercise: ${o.statusText}`);return yield o.json()}))})}getExerciseBySlug(e){return R(this,null,function*(){return this.handleRequest(()=>R(this,null,function*(){this.validateInput(e,"slug");const{data:o,error:i}=yield this.getAllExercises();if(i)throw i;if(!o)return null;const r=o.find(d=>d.id===e);if(r)return r;const v=yield fetch(`/content/exercises/by-slug/${e}.json`);return v.ok?yield v.json():null}))})}clearExerciseCache(){z={}}}const mt=f=>R(null,null,function*(){const e=yield new ht().fetchExercises(f);if(e.error)throw e.error;return e.data||[]});var xt=b('<span class="filter-badge svelte-468fi1"> </span>'),pt=b('<div class="loading-state svelte-468fi1">Loading exercises...</div>'),yt=b('<div class="error-state svelte-468fi1"> </div>'),wt=b('<div class="empty-state svelte-468fi1">No exercises found.</div>'),bt=b('<div class="exercises-grid svelte-468fi1"></div>'),_t=b('<section class="exercises-section svelte-468fi1"><div class="section-header svelte-468fi1"><h2 class="section-title svelte-468fi1"> </h2> <button class="filter-toggle svelte-468fi1"><i class="fas fa-filter"></i> Filters <!></button></div> <!></section>');function kt(f,a){V(a,!1);let e=H(a,"categoryId",8,null),o=H(a,"limit",8,null),i=H(a,"title",8,"Exercises"),r=H(a,"onExerciseClick",8,h=>{console.log("Exercise clicked:",h.id)}),v=[],d=I(!0),g=I(null),E=I([]),x=I(""),n=I("all"),w=I([]),u=I(!1);function l(){let h=v;if(t(x)){const _=t(x).toLowerCase();h=h.filter(L=>{var D;return L.title.toLowerCase().includes(_)||((D=L.description)==null?void 0:D.toLowerCase().includes(_))})}t(n)!=="all"&&(h=h.filter(_=>_.difficulty===t(n))),t(w).length>0&&(h=h.filter(_=>t(w).every(L=>{var D;return(D=_.tags)==null?void 0:D.includes(L)}))),o()!==null&&(h=h.slice(0,o())),M(E,h)}function p(){return R(this,null,function*(){M(d,!0),M(g,null);try{v=yield mt(e())}catch(h){console.error(h),M(g,"Failed to load exercises")}finally{M(d,!1)}})}oe(p);function C(){M(u,!t(u))}Fe(()=>{},()=>{l()}),Te(),ee();var F=_t(),q=c(F),m=c(q),$=c(m,!0);s(m);var S=k(m,2),A=k(c(S),2);{var T=h=>{var _=xt(),L=c(_,!0);s(_),W(()=>U(L,t(w).length+(t(n)!=="all"?1:0)+(t(x)?1:0))),y(h,_)};N(A,h=>{(t(n)!=="all"||t(w).length||t(x))&&h(T)})}s(S),s(q);var B=k(q,2);{var Y=h=>{var _=pt();y(h,_)},Q=(h,_)=>{{var L=j=>{var P=yt(),G=c(P,!0);s(P),W(()=>U(G,t(g))),y(j,P)},D=(j,P)=>{{var G=J=>{var O=wt();y(J,O)},ie=J=>{var O=bt();te(O,5,()=>t(E),K=>K.id,(K,re)=>{Oe(K,Ye(()=>t(re),{$$events:{click:()=>r()(t(re))}}))}),s(O),y(J,O)};N(j,J=>{t(E).length===0?J(G):J(ie,!1)},P)}};N(h,j=>{t(g)?j(L):j(D,!1)},_)}};N(B,h=>{t(d)?h(Y):h(Q,!1)})}s(F),W(()=>{U($,i()),Se(S,"aria-expanded",t(u))}),ge("click",S,C),Ge(1,F,()=>Je,()=>({duration:300})),y(f,F),Z()}var Ct=b('<div class="flex items-start"><div><i></i></div> <div><h3 class="font-medium text-gray-100"> </h3> <p class="text-gray-300 text-sm"> </p> <p class="text-gray-400 text-xs mt-1"> </p></div></div>'),Et=b('<p class="text-gray-400 text-sm">No recent activity.</p>'),Ft=b('<div><h2 class="text-lg font-semibold text-gray-100 mb-4">Recent Activity</h2> <div class="bg-gray-700 border border-orange-500 p-6 rounded-2xl shadow-sm squircle-sm"><div class="space-y-4"><!> <!></div></div></div>');function Tt(f,a){V(a,!1);let e=I([]);function o(u){const l=Date.now()-u,p=Math.floor(l/1e3);if(p<60)return`${p}s ago`;const C=Math.floor(p/60);if(C<60)return`${C}m ago`;const F=Math.floor(C/60);return F<24?`${F}h ago`:`${Math.floor(F/24)}d ago`}function i(u,l){switch(u){case"view_course":return"Viewed Course";case"start_lesson":return"Started Lesson";case"complete_lesson":return"Completed Lesson";case"flashcard_review":return"Reviewed Flashcards";default:return u.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())}}function r(u){switch(u){case"view_course":return"fa-book";case"start_lesson":case"complete_lesson":return"fa-layer-group";case"flashcard_review":return"fa-layer-group";default:return"fa-circle"}}function v(u){switch(u){case"view_course":return"blue";case"start_lesson":return"yellow";case"complete_lesson":return"green";case"flashcard_review":return"purple";default:return"gray"}}oe(()=>R(null,null,function*(){const u=yield tt(10);M(e,u.map(l=>ve(se({},l),{title:i(l.eventType,l.metadata),content:l.referenceId,timeAgo:o(l.timestampStart),icon:r(l.eventType),color:v(l.eventType)})))})),ee();var d=Ft(),g=k(c(d),2),E=c(g),x=c(E);te(x,1,()=>t(e),u=>u.id,(u,l)=>{var p=Ct(),C=c(p),F=c(C);s(C);var q=k(C,2),m=c(q),$=c(m,!0);s(m);var S=k(m,2),A=c(S,!0);s(S);var T=k(S,2),B=c(T,!0);s(T),s(q),s(p),W(()=>{he(C,1,`w-10 h-10 bg-${t(l).color}-900 rounded-full flex items-center justify-center mr-3 flex-shrink-0`),he(F,1,`fas ${t(l).icon} text-${t(l).color}-300`),U($,t(l).title),U(A,t(l).content),U(B,t(l).timeAgo)}),y(u,p)});var n=k(x,2);{var w=u=>{var l=Et();y(u,l)};N(n,u=>{t(e).length===0&&u(w)})}s(E),s(g),s(d),y(f,d),Z()}var $t=b('<div class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-lg shadow-xl p-8 my-6"><h1 class="text-4xl font-bold mb-4">Welcome to LearnFlow!</h1> <p class="text-xl mb-6">Your personalized journey to knowledge starts here. Log in or sign up to track your progress, access exclusive content, and connect with fellow learners.</p> <p class="text-lg">Discover courses, tackle exercises, and watch your skills grow.</p></div> <div class="grid md:grid-cols-3 gap-6 my-8"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Explore Courses</h2> <p class="text-gray-600 dark:text-gray-300">Browse our extensive library of courses across various domains.</p></div> <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Practice Exercises</h2> <p class="text-gray-600 dark:text-gray-300">Sharpen your skills with interactive exercises and real-time feedback.</p></div> <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow"><h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">Track Progress</h2> <p class="text-gray-600 dark:text-gray-300">Log in to monitor your learning journey and achievements.</p></div></div>',1);function St(f){var a=$t();ae(2),y(f,a)}function jt(e){return R(this,arguments,function*(f,a={}){const o=ve(se({credentials:"same-origin"},a),{headers:se({"Content-Type":"application/json"},a.headers)}),i=o.headers;if(Le(je)&&we.currentUser)try{const r=yield we.currentUser.getIdToken();i.Authorization=`Bearer ${r}`}catch(r){console.error("Failed to get auth token:",r)}if(a.method&&a.method!=="GET"){const r=Ce();if(r)i[le]=r;else try{const d=(yield fetch("/api/csrf/refresh",{credentials:"same-origin"})).headers.get(le);if(d)i[le]=d;else return{error:"CSRF token required",status:401}}catch(v){return{error:"Failed to obtain CSRF token",status:500}}}try{const r=yield fetch(f,o);if(Ee(r),(r.status===401||r.status===403)&&r.headers.get("X-CSRF-Error")==="true")try{yield fetch("/api/csrf/refresh",{credentials:"same-origin"});const v=Ce();if(v){o.headers[le]=v;const d=yield fetch(f,o);Ee(d);try{return{data:yield d.json(),status:d.status}}catch(g){return{status:d.status}}}}catch(v){}try{return{data:yield r.json(),status:r.status}}catch(v){return{status:r.status}}}catch(r){return console.error("Request failed:",r),{error:r instanceof Error?r.message:"Network request failed",status:0}}})}var At=b('<p class="text-gray-600">Loading recommendations...</p>'),Lt=b('<p class="text-red-500"> </p>'),Rt=b('<p class="text-gray-600">No recommendations at this time.</p>'),qt=b('<a class="block bg-white dark:bg-gray-800 rounded-lg p-4 shadow hover:shadow-md transition flex items-center"><div class="flex-1"><h3 class="font-medium text-gray-900 dark:text-white"> </h3> <p class="text-gray-600 dark:text-gray-300 text-sm"> </p></div> <i class="fas fa-chevron-right text-gray-400"></i></a>'),Pt=b('<div class="space-y-4"></div>'),It=b('<div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Recommended for You</h2> <!></div>');function Mt(f,a){V(a,!1);let e=H(a,"limit",8,5),o=I([]),i=I(!0),r=I(null);oe(()=>R(null,null,function*(){try{const n=Le(Ae);if(!(n!=null&&n.uid)){M(i,!1);return}const w=yield jt(`/api/recommendations?limit=${e()}`);if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);M(o,yield w.json())}catch(n){console.error("Error fetching recommendations",n),M(r,n.message||"Failed to load recommendations.")}finally{M(i,!1)}}));function v(n){var w,u,l;switch(n.type){case"next_lesson":return(w=n.metadata)!=null&&w.path?`/courses/${n.metadata.path}`:"#";case"review_flashcards":return"/tools/flashcards";case"view_courses":return"/courses";case"course":return(u=n.metadata)!=null&&u.path?`/courses/${n.metadata.path}`:"#";case"exercise":return(l=n.metadata)!=null&&l.path?`/exercises/${n.metadata.path}`:"#";default:return console.warn(`Unknown recommendation type: ${n.type}`),"#"}}ee();var d=It(),g=k(c(d),2);{var E=n=>{var w=At();y(n,w)},x=(n,w)=>{{var u=p=>{var C=Lt(),F=c(C,!0);s(C),W(()=>U(F,t(r))),y(p,C)},l=(p,C)=>{{var F=m=>{var $=Rt();y(m,$)},q=m=>{var $=Pt();te($,5,()=>t(o),ce,(S,A)=>{var T=qt(),B=c(T),Y=c(B),Q=c(Y,!0);s(Y);var h=k(Y,2),_=c(h,!0);s(h),s(B),ae(2),s(T),W(L=>{Se(T,"href",L),U(Q,t(A).title),U(_,t(A).description)},[()=>v(t(A))],me),y(S,T)}),s($),y(m,$)};N(p,m=>{t(o).length===0?m(F):m(q,!1)},C)}};N(n,p=>{t(r)?p(u):p(l,!1)},w)}};N(g,n=>{t(i)?n(E):n(x,!1)})}s(d),y(f,d),Z()}var Bt=b('<p class="text-gray-600">Loading...</p>'),Dt=b('<p class="text-red-500"> </p>'),Nt=b('<i class="fas fa-star text-yellow-400"></i>'),Ut=b('<i class="fas fa-star-half-alt text-yellow-400"></i>'),Yt=b('<i class="far fa-star text-gray-300 dark:text-gray-600"></i>'),Wt=b('<div class="flex items-center"><div class="flex mr-3"></div> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div>'),zt=b('<div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow mb-8"><h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Score Utilisateur</h2> <!></div>');function Ht(f,a){V(a,!1);let e=I(null),o=I(!0),i=I(null);oe(()=>R(null,null,function*(){try{const x=yield fetch("/api/score");if(!x.ok)throw new Error("Failed to fetch score");const n=yield x.json();M(e,n.score)}catch(x){console.error(x),M(i,x.message)}finally{M(o,!1)}}));function r(x){const n=Math.floor(x),w=x-n>=.5;return[...Array(5)].map((u,l)=>l<n?"full":l===n&&w?"half":"empty")}ee();var v=zt(),d=k(c(v),2);{var g=x=>{var n=Bt();y(x,n)},E=(x,n)=>{{var w=l=>{var p=Dt(),C=c(p,!0);s(p),W(()=>U(C,t(i))),y(l,p)},u=(l,p)=>{{var C=F=>{var q=Wt(),m=c(q);te(m,5,()=>r(t(e)),ce,(A,T)=>{var B=Ue(),Y=$e(B);{var Q=_=>{var L=Nt();y(_,L)},h=(_,L)=>{{var D=P=>{var G=Ut();y(P,G)},j=P=>{var G=Yt();y(P,G)};N(_,P=>{t(T)==="half"?P(D):P(j,!1)},L)}};N(Y,_=>{t(T)==="full"?_(Q):_(h,!1)})}y(A,B)}),s(m);var $=k(m,2),S=c($);s($),s(q),W(()=>{var A;return U(S,`${(A=t(e))!=null?A:""}/5`)}),y(F,q)};N(l,F=>{t(e)!==null&&F(C)},p)}};N(x,l=>{t(i)?l(w):l(u,!1)},n)}};N(d,x=>{t(o)?x(g):x(E,!1)})}s(v),y(f,v),Z()}var Qt=b('<meta name="description" content="Your personalized learning dashboard on LearnFlow.">'),Gt=b('<div class="flex justify-center items-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),Jt=b('<!> <!> <div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Focus Time Log</h2> <!></div> <div class="mb-8"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Quick Actions</h2> <div class="flex flex-col gap-4 w-full"><!> <!> <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow min-h-[140px] flex flex-col items-center justify-center text-center transition hover:shadow-xl hover:ring-2 hover:ring-indigo-300 w-full"><h3 class="text-lg font-semibold mb-2">Your Tasks</h3> <p class="text-gray-600 dark:text-gray-300">Manage your study tasks.</p></div> <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow min-h-[140px] flex flex-col items-center justify-center text-center transition hover:shadow-xl hover:ring-2 hover:ring-indigo-300 w-full"><h3 class="text-lg font-semibold mb-2">Your Notes</h3> <p class="text-gray-600 dark:text-gray-300">Jot down quick thoughts.</p></div></div></div> <!> <!> <!>',1),Ot=b('<div class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"><!></div>');function kr(f,a){V(a,!1);const[e,o]=We(),i=()=>X(je,"$isAuthenticated",e),r=()=>X(be,"$userProfile",e),v=()=>X(_e,"$focusSessions",e),d=()=>X(ke,"$todos",e),g=()=>X(at,"$authLoading",e),E=()=>X(ot,"$userProfileLoading",e),x=()=>X(Ae,"$user",e),n=I();let w=H(a,"data",8),u=I([]),l=null;oe(()=>R(null,null,function*(){l=yield rt("view_dashboard","dashboard");const m=()=>{var T;if(i()&&r()){const B=((T=r().preferences)==null?void 0:T.enrollments)||[],Y=B.filter(j=>j.progress>0&&j.progress<100).length,Q=B.filter(j=>j.progress===100).length,h=v(),_=h.length,L=h.reduce((j,P)=>j+(P.duration||0)/60,0).toFixed(0),D=d().filter(j=>j.completed).length;M(u,[{title:"Courses In Progress",value:String(Y),icon:"fa-book",color:"indigo"},{title:"Courses Completed",value:String(Q),icon:"fa-award",color:"green"},{title:"Focus Sessions",value:String(_),icon:"fa-stopwatch",color:"yellow"},{title:"Total Focus Time (min)",value:L,icon:"fa-clock",color:"purple"},{title:"Tasks Completed",value:String(D),icon:"fa-list-check",color:"blue"}])}};m();const $=be.subscribe(m),S=_e.subscribe(m),A=ke.subscribe(m);return()=>{$(),S(),A()}})),ze(()=>{l&&st(l)}),Fe(()=>De(w()),()=>{M(n,w().suggestedCourses||[])}),Te(),ee();var p=Ot();Ne(m=>{var $=Qt();Be.title="LearnFlow | Your Dashboard",y(m,$)});var C=c(p);{var F=m=>{var $=Gt();y(m,$)},q=(m,$)=>{{var S=T=>{var B=Jt(),Y=$e(B);const Q=me(()=>{var K,re;return x()&&(re=(K=x().displayName)!=null?K:x().email)!=null?re:""});lt(Y,{get username(){return t(Q)}});var h=k(Y,2);vt(h,{get metrics(){return t(u)}});var _=k(h,2),L=k(c(_),2);it(L,{get sessions(){return v()},timeUnit:"day"}),s(_);var D=k(_,2),j=k(c(D),2),P=c(j);gt(P,{title:"Suggested Courses",get items(){return t(n)}});var G=k(P,2);kt(G,{limit:5}),ae(4),s(j),s(D);var ie=k(D,2);Ht(ie,{});var J=k(ie,2);Mt(J,{limit:5});var O=k(J,2);Tt(O,{}),y(T,B)},A=T=>{St(T)};N(m,T=>{i()&&r()?T(S):T(A,!1)},$)}};N(C,m=>{g()||E()?m(F):m(q,!1)})}s(p),y(f,p),Z(),o()}export{kr as component};
//# sourceMappingURL=4.DM0zrzBB.js.map
