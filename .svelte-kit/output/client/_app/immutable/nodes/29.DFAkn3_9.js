var I=(x,y,l)=>new Promise((u,c)=>{var b=t=>{try{o(l.next(t))}catch(m){c(m)}},g=t=>{try{o(l.throw(t))}catch(m){c(m)}},o=t=>t.done?u(t.value):Promise.resolve(t.value).then(b,g);o((l=l.apply(x,y)).next())});import"../chunks/COm6N4YE.js";import"../chunks/69_IOA4Y.js";import{p as Q,t as J,g as r,b as V,$ as W,c as i,d as s,s as a,m as p,r as d,n as U}from"../chunks/HPQed-Yx.js";import{s as z}from"../chunks/PqlH_gqs.js";import{i as A}from"../chunks/Da7F0fHf.js";import{t as T,e as X,a as N,r as Y}from"../chunks/ZM6Rlk1U.js";import{h as Z}from"../chunks/Bkjpsbyi.js";import{r as v}from"../chunks/G1Z7eEzt.js";import{b as f,a as ee}from"../chunks/D8Qc2aSm.js";import{p as re}from"../chunks/Bfc47y5P.js";import{i as ae}from"../chunks/D0cPXSkH.js";import{g as te}from"../chunks/GvWXBGfm.js";var ie=T('<div class="text-red-500"> </div>'),oe=T('<div class="text-green-600 font-semibold">Group created successfully! Redirecting...</div>'),se=T('<div class="max-w-xl mx-auto py-10 px-4"><h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Create a New Group</h1> <form class="space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div><label class="block text-sm font-medium mb-1">Group Name</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required></div> <div><label class="block text-sm font-medium mb-1">Description</label> <textarea class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" rows="3" required></textarea></div> <div><label class="block text-sm font-medium mb-1">Topic</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required></div> <div><label class="block text-sm font-medium mb-1">Image URL (optional)</label> <input class="w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></div> <div class="flex items-center gap-2"><input type="checkbox" id="isPublic"> <label for="isPublic" class="text-sm">Public group (anyone can join)</label></div> <!> <!> <div class="flex gap-4"><button type="submit" class="px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md"> </button> <a href="/groups" class="px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md">Cancel</a></div></form></div>');function he(x,y){Q(y,!1);let l=p(""),u=p(""),c=p(""),b=p(""),g=p(!0),o=p(""),t=p(!1),m=p(!1);function B(){return I(this,null,function*(){if(a(o,""),a(m,!1),!r(l).trim()||!r(u).trim()||!r(c).trim()){a(o,"Please fill in all required fields.");return}a(t,!0);try{const e=yield fetch("/api/groups/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r(l),description:r(u),topic:r(c),image:r(b),is_public:r(g)})});if(e.ok)a(m,!0),setTimeout(()=>te("/groups"),1200);else{const n=yield e.json().catch(()=>({}));a(o,(n==null?void 0:n.error)||"Failed to create group.")}}catch(e){a(o,"Failed to create group.")}finally{a(t,!1)}})}ae();var h=se();Z(e=>{W.title="Create New Group | LearnFlow"});var _=i(s(h),2),k=s(_),$=i(s(k),2);v($),d(k);var w=i(k,2),j=i(s(w),2);Y(j),d(w);var C=i(w,2),F=i(s(C),2);v(F),d(C);var G=i(C,2),D=i(s(G),2);v(D),d(G);var P=i(G,2),L=s(P);v(L),U(2),d(P);var O=i(P,2);{var E=e=>{var n=ie(),M=s(n,!0);d(n),J(()=>z(M,r(o))),N(e,n)};A(O,e=>{r(o)&&e(E)})}var R=i(O,2);{var H=e=>{var n=oe();N(e,n)};A(R,e=>{r(m)&&e(H)})}var S=i(R,2),q=s(S),K=s(q,!0);d(q),U(2),d(S),d(_),d(h),J(()=>{q.disabled=r(t),z(K,r(t)?"Creating...":"Create Group")}),f($,()=>r(l),e=>a(l,e)),f(j,()=>r(u),e=>a(u,e)),f(F,()=>r(c),e=>a(c,e)),f(D,()=>r(b),e=>a(b,e)),ee(L,()=>r(g),e=>a(g,e)),X("submit",_,re(B)),N(x,h),V()}export{he as component};
//# sourceMappingURL=29.DFAkn3_9.js.map
