import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as re,l as ae,s as l,m as n,k as Se,a as ie,c as s,r as o,e as t,t as le,g as e,b as ne,f as $e,$ as Le,j as u,i as Ce}from"../chunks/D8Zr53n5.js";import{h as Fe,e as Pe}from"../chunks/CCLz0Z0F.js";import{t as A,a as w,c as je}from"../chunks/ByokzzJe.js";import{i as B}from"../chunks/BAqAra_5.js";import{b as Ae}from"../chunks/dleV8ATl.js";import{i as Te}from"../chunks/BzVavbfz.js";import{s as Me,a as p}from"../chunks/CYIMW-vo.js";import{i as De,l as Ie,a as qe,b as Ee}from"../chunks/QfzvdxsM.js";import{f as Ue,g as Ve,h as We}from"../chunks/DXDQnthP.js";import{g as Ye}from"../chunks/BMc8ARJA.js";import{s as se}from"../chunks/UpSy6tP0.js";import{s as oe}from"../chunks/Cw_GgyMt.js";import{p as D}from"../chunks/D0guHZRM.js";import{F as ze}from"../chunks/rA2gTqDF.js";var Be=A('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1"> </p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p></div> <div><i></i></div></div></div>');function f(I,g){re(g,!1);const a=n();let q=D(g,"title",8),S=D(g,"value",8),$=D(g,"icon",8,"fa-chart-line"),x=D(g,"color",8,"blue");const m={blue:{bg:"bg-blue-100 dark:bg-blue-900",text:"text-blue-600 dark:text-blue-300"},green:{bg:"bg-green-100 dark:bg-green-900",text:"text-green-600 dark:text-green-300"},red:{bg:"bg-red-100 dark:bg-red-900",text:"text-red-600 dark:text-red-300"},yellow:{bg:"bg-yellow-100 dark:bg-yellow-900",text:"text-yellow-600 dark:text-yellow-300"},indigo:{bg:"bg-indigo-100 dark:bg-indigo-900",text:"text-indigo-600 dark:text-indigo-300"},purple:{bg:"bg-purple-100 dark:bg-purple-900",text:"text-purple-600 dark:text-purple-300"},gray:{bg:"bg-gray-100 dark:bg-gray-800",text:"text-gray-600 dark:text-gray-300"}};ae(()=>Se(x()),()=>{l(a,m[x()]||m.blue)}),ie();var v=Be(),L=s(v),_=s(L),d=s(_),b=s(d,!0);o(d);var c=t(d,2),T=s(c,!0);o(c),o(_);var h=t(_,2),M=s(h);o(h),o(L),o(v),le(()=>{se(b,q()),se(T,S()),oe(h,1,`h-12 w-12 ${e(a).bg??""} rounded-full flex items-center justify-center ${e(a).text??""}`),oe(M,1,`fas ${$()??""} text-xl`)}),w(I,v),ne()}var Ge=A('<div class="flex items-center justify-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),He=A('<div class="flex flex-col items-center justify-center min-h-[60vh]"><p class="text-lg text-gray-600 dark:text-gray-300 mb-4">Log in to view your statistics.</p> <button class="px-6 py-2 bg-indigo-600 text-white rounded">Log In</button></div>'),Je=A('<div class="flex items-center justify-center min-h-[60vh]"><i class="fas fa-spinner fa-spin text-4xl text-indigo-500"></i></div>'),Ke=A('<div class="max-w-5xl mx-auto px-4 py-6 space-y-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white">Your Statistics</h1> <div class="grid grid-cols-2 md:grid-cols-4 gap-6"><!> <!> <!> <!> <!> <!> <!></div> <div class="space-y-4"><div class="flex items-center space-x-4"><label class="font-medium">View by:</label> <select class="rounded border-gray-300 p-2 bg-white dark:bg-gray-800"><option>Daily</option><option>Weekly</option><option>Monthly</option></select></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4" style="height: 300px;"><!></div></div></div>');function ct(I,g){re(g,!1);const[a,q]=Me(),S=()=>p(De,"$isAuthenticated",a),$=()=>p(Ie,"$authLoading",a),x=()=>p(qe,"$userProfileLoading",a),m=()=>p(Ee,"$userProfile",a),v=()=>p(Ue,"$focusSessions",a),L=()=>p(Ve,"$todos",a),_=()=>p(We,"$exerciseSessions",a);let d=n("week"),b=n(0),c=n(0),T=n(0),h=n(0),M=n(0),G=n(0),H=n(0);function de(){Ye("/login?redirect=/statistics")}ae(()=>(S(),$(),x(),m(),v(),e(c),e(b),L(),_()),()=>{if(S()&&!$()&&!x()&&m()){const i=v();l(c,i.length),l(b,i.reduce((r,F)=>r+F.duration/60,0)),l(T,e(c)?e(b)/e(c):0),l(h,i.reduce((r,F)=>Math.max(r,F.duration/60),0)),l(M,L().filter(r=>r.completed).length),l(G,_().filter(r=>r.completed).length);const C=m().preferences.enrollments||[];l(H,C.filter(r=>r.progress>0&&r.progress<100).length)}}),ie(),Te();var J=je();Fe(i=>{Le.title="Statistics | LearnFlow"});var ce=$e(J);{var ge=i=>{var C=Ge();w(i,C)},ve=(i,C)=>{{var r=y=>{var P=He(),E=t(s(P),2);o(P),Pe("click",E,de),w(y,P)},F=(y,P)=>{{var E=k=>{var j=Je();w(k,j)},ue=k=>{var j=Ke(),U=t(s(j),2),K=s(U);const pe=u(()=>String(e(c)));f(K,{title:"Focus Sessions",get value(){return e(pe)},icon:"fa-stopwatch",color:"yellow"});var N=t(K,2);const fe=u(()=>String(Math.round(e(b))));f(N,{title:"Total Focus (min)",get value(){return e(fe)},icon:"fa-clock",color:"purple"});var O=t(N,2);const xe=u(()=>e(T).toFixed(1));f(O,{title:"Avg Session (min)",get value(){return e(xe)},icon:"fa-chart-line",color:"blue"});var Q=t(O,2);const me=u(()=>e(h).toFixed(1));f(Q,{title:"Longest Session",get value(){return e(me)},icon:"fa-mountain",color:"indigo"});var R=t(Q,2);const _e=u(()=>String(e(M)));f(R,{title:"Tasks Completed",get value(){return e(_e)},icon:"fa-list-check",color:"green"});var X=t(R,2);const be=u(()=>String(e(G)));f(X,{title:"Exercises Completed",get value(){return e(be)},icon:"fa-pencil-alt",color:"gray"});var he=t(X,2);const ye=u(()=>String(e(H)));f(he,{title:"Courses In Progress",get value(){return e(ye)},icon:"fa-book-open",color:"red"}),o(U);var Z=t(U,2),V=s(Z),W=t(s(V),2);le(()=>{e(d),Ce(()=>{})});var Y=s(W);Y.value=(Y.__value="day")==null?"":"day";var z=t(Y);z.value=(z.__value="week")==null?"":"week";var ee=t(z);ee.value=(ee.__value="month")==null?"":"month",o(W),o(V);var te=t(V,2),ke=s(te);ze(ke,{get sessions(){return v()},get timeUnit(){return e(d)}}),o(te),o(Z),o(j),Ae(W,()=>e(d),we=>l(d,we)),w(k,j)};B(y,k=>{x()?k(E):k(ue,!1)},P)}};B(i,y=>{S()?y(F,!1):y(r)},C)}};B(ce,i=>{$()?i(ge):i(ve,!1)})}w(I,J),ne(),q()}export{ct as component};
