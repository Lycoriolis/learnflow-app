import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Ee,l as $,a as Ne,t as f,c as s,e as i,g as e,b as Ue,$ as qe,j as Ie,m as g,s as l,r,i as xe}from"../chunks/D8Zr53n5.js";import{s as p}from"../chunks/UpSy6tP0.js";import{i as ue}from"../chunks/BAqAra_5.js";import{e as pe,i as fe}from"../chunks/8AErAcLY.js";import{t as k,a as h}from"../chunks/ByokzzJe.js";import{h as Ge,e as w,r as be}from"../chunks/CCLz0Z0F.js";import{r as Qe}from"../chunks/DpNHaJTn.js";import{t as me,f as ye}from"../chunks/CwmK-V57.js";import{b as ee}from"../chunks/Djn-aou_.js";import{b as _e}from"../chunks/dleV8ATl.js";import{i as Ve}from"../chunks/BzVavbfz.js";import{s as ze,a as He}from"../chunks/CYIMW-vo.js";import{o as Je,a as Ke}from"../chunks/DyX_nzx0.js";import{p as Oe}from"../chunks/C9hOER03.js";import{l as Pe,a as We,b as Xe}from"../chunks/C44GRa1C.js";var Ye=k('<div class="grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8"><div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow"><div class="text-sm text-gray-500 dark:text-gray-400">Total Cards</div> <div class="text-2xl font-bold text-gray-900 dark:text-white"> </div></div> <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow"><div class="text-sm text-gray-500 dark:text-gray-400">Mastered</div> <div class="text-2xl font-bold text-green-600"> </div></div> <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow"><div class="text-sm text-gray-500 dark:text-gray-400">Due Today</div> <div class="text-2xl font-bold text-orange-500"> </div></div> <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow"><div class="text-sm text-gray-500 dark:text-gray-400">Average Level</div> <div class="text-2xl font-bold text-indigo-500"> </div></div></div>'),Ze=k("<option> </option>"),et=k('<span class="px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded text-xs"> </span>'),tt=k('<div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg"><div class="mb-4 flex justify-between items-center"><div class="flex gap-2"></div> <div class="text-sm text-gray-500 dark:text-gray-400"> </div></div> <div class="min-h-[200px] p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-inner flex items-center justify-center cursor-pointer select-none mb-6"><div class="prose dark:prose-invert max-w-none text-center"> </div></div> <div class="flex justify-between"><button class="px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition flex items-center"><i class="fas fa-times mr-2"></i> Again</button> <button class="px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition"><i class="fas fa-trash-alt"></i></button> <button class="px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition flex items-center"><i class="fas fa-check mr-2"></i> Good</button></div></div>'),at=k('<div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg text-center"><i class="fas fa-check-circle text-green-500 text-4xl mb-4"></i> <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">All Caught Up!</h3> <p class="text-gray-600 dark:text-gray-400">No cards due for review. Add new cards or check back later.</p></div>'),rt=k('<div class="max-w-4xl mx-auto px-4 py-10"><div class="flex justify-between items-start mb-8"><div><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center"><i class="fas fa-layer-group mr-3 text-orange-500"></i> Flashcards</h1> <p class="text-gray-600 dark:text-gray-400">Study smarter with spaced repetition flashcards</p></div> <button class="text-sm px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"><i class="fas fa-chart-bar mr-2"></i> Stats</button></div> <!> <div class="flex flex-wrap gap-4 mb-8"><select class="px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm"><option>All Tags</option><!></select> <select class="px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm"><option>Sort by Due Date</option><option>Sort by Level</option><option>Sort by Created</option></select></div> <div class="grid grid-cols-1 lg:grid-cols-5 gap-8"><div class="lg:col-span-3"><!></div> <div class="lg:col-span-2"><div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg"><h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Add New Card</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Front</label> <textarea rows="3" class="w-full px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg" placeholder="Question or term..."></textarea></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Back</label> <textarea rows="3" class="w-full px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg" placeholder="Answer or definition..."></textarea></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tags</label> <input type="text" class="w-full px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg" placeholder="math, history, etc (comma separated)"></div> <button class="w-full py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition"><i class="fas fa-plus mr-2"></i> Add Card</button></div></div></div></div></div>');function ht(he,we){Ee(we,!1);const[ke,Ce]=ze(),v=()=>He(D,"$flashcards",ke),E=g(),te=g(),C=g(),N=g(),D=Oe("learnflow-flashcards",[]);let o=g(null),R=g(!0),b=g(""),m=g(""),L=g(""),y=g(""),_=g("nextReview"),U=g(!1),q=null;function I(){const t=Date.now(),a=e(te).filter(d=>!d.nextReview||d.nextReview<=t);return a.length===0?null:a[0]}function Re(){if(!e(b).trim()||!e(m).trim())return;const t={id:crypto.randomUUID(),front:e(b),back:e(m),level:0,tags:e(L).split(",").map(a=>a.trim()).filter(a=>a)};D.update(a=>[...a,t]),l(b,""),l(m,""),l(L,"")}function Ae(){l(R,!e(R))}async function ae(t){if(!e(o))return;const a=Date.now();let d=t?e(o).level+1:Math.max(0,e(o).level-1);d=Math.min(5,d);const n=[1e3*60*30,1e3*60*60*4,1e3*60*60*24,1e3*60*60*24*3,1e3*60*60*24*7,1e3*60*60*24*14];D.update(x=>x.map(c=>c.id===e(o).id?{...c,level:d,lastReviewed:a,nextReview:a+n[d]}:c)),await Xe("flashcard_review",e(o).id,{success:t}),l(o,I()),l(R,!0)}function Se(t){var a;confirm("Are you sure you want to delete this card?")&&(D.update(d=>d.filter(n=>n.id!==t)),((a=e(o))==null?void 0:a.id)===t&&(l(o,I()),l(R,!0)))}Je(async()=>{q=await Pe("view_flashcards","flashcards")}),Ke(()=>{q&&We(q)}),$(()=>(e(y),v()),()=>{l(E,e(y)?v().filter(t=>t.tags.includes(e(y))):v())}),$(()=>(e(E),e(_)),()=>{l(te,[...e(E)].sort((t,a)=>e(_)==="nextReview"?(t.nextReview||0)-(a.nextReview||0):e(_)==="level"?a.level-t.level:(t.lastReviewed||0)-(a.lastReviewed||0)))}),$(()=>v(),()=>{l(C,{total:v().length,mastered:v().filter(t=>t.level===5).length,dueToday:v().filter(t=>!t.nextReview||t.nextReview<=Date.now()).length,avgLevel:v().length?Math.round(v().reduce((t,a)=>t+a.level,0)/v().length*10)/10:0})}),$(()=>v(),()=>{l(N,Array.from(new Set(v().flatMap(t=>t.tags))))}),$(()=>e(o),()=>{e(o)||l(o,I())}),Ne(),Ve();var G=rt();Ge(t=>{qe.title="Flashcards | LearnFlow"});var Q=s(G),Te=i(s(Q),2);r(Q);var re=i(Q,2);{var $e=t=>{var a=Ye(),d=s(a),n=i(s(d),2),x=s(n,!0);r(n),r(d);var c=i(d,2),u=i(s(c),2),M=s(u,!0);r(u),r(c);var A=i(c,2),S=i(s(A),2),j=s(S,!0);r(S),r(A);var T=i(A,2),B=i(s(T),2),Y=s(B,!0);r(B),r(T),r(a),f(()=>{p(x,e(C).total),p(M,e(C).mastered),p(j,e(C).dueToday),p(Y,e(C).avgLevel)}),me(3,a,()=>ye),h(t,a)};ue(re,t=>{e(U)&&t($e)})}var V=i(re,2),F=s(V);f(()=>{e(y),xe(()=>{e(N)})});var z=s(F);z.value=((z.__value="")==null,"");var De=i(z);pe(De,1,()=>e(N),fe,(t,a)=>{var d=Ze(),n={},x=s(d,!0);r(d),f(()=>{n!==(n=e(a))&&(d.value=(d.__value=e(a))==null?"":e(a)),p(x,e(a))}),h(t,d)}),r(F);var H=i(F,2);f(()=>{e(_),xe(()=>{})});var J=s(H);J.value=(J.__value="nextReview")==null?"":"nextReview";var K=i(J);K.value=(K.__value="level")==null?"":"level";var se=i(K);se.value=(se.__value="created")==null?"":"created",r(H),r(V);var ie=i(V,2),O=s(ie),Le=s(O);{var Fe=t=>{var a=tt(),d=s(a),n=s(d);pe(n,5,()=>e(o).tags,fe,(Y,je)=>{var Z=et(),Be=s(Z,!0);r(Z),f(()=>p(Be,e(je))),h(Y,Z)}),r(n);var x=i(n,2),c=s(x);r(x),r(d);var u=i(d,2),M=s(u),A=s(M,!0);r(M),r(u);var S=i(u,2),j=s(S),T=i(j,2),B=i(T,2);r(S),r(a),f(()=>{p(c,`Level: ${e(o).level??""}/5`),p(A,e(R)?e(o).front:e(o).back)}),w("click",u,Ae),me(3,u,()=>ye),w("click",j,()=>ae(!1)),w("click",T,()=>Se(e(o).id)),w("click",B,()=>ae(!0)),h(t,a)},Me=t=>{var a=at();h(t,a)};ue(Le,t=>{e(o)?t(Fe):t(Me,!1)})}r(O);var de=i(O,2),le=s(de),oe=i(s(le),2),P=s(oe),ne=i(s(P),2);be(ne),r(P);var W=i(P,2),ve=i(s(W),2);be(ve),r(W);var X=i(W,2),ge=i(s(X),2);Qe(ge),r(X);var ce=i(X,2);r(oe),r(le),r(de),r(ie),r(G),f(t=>ce.disabled=t,[()=>!e(b).trim()||!e(m).trim()],Ie),w("click",Te,()=>l(U,!e(U))),_e(F,()=>e(y),t=>l(y,t)),_e(H,()=>e(_),t=>l(_,t)),ee(ne,()=>e(b),t=>l(b,t)),ee(ve,()=>e(m),t=>l(m,t)),ee(ge,()=>e(L),t=>l(L,t)),w("click",ce,Re),h(he,G),Ue(),Ce()}export{ht as component};
