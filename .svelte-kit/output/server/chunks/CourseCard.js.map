{"version":3,"file":"CourseCard.js","sources":["../../../../src/lib/components/courses/CourseCard.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte';\n  import Icon from '@iconify/svelte';\n  import type { ContentNode } from '$lib/services/courses/courseService';\n  import { navigateToCourse } from '$lib/utils/navigation';\n  \n  export let course: ContentNode;\n  export let isSelected: boolean = false;\n  export let isCompleted: boolean = false;\n  export let progress: number = 0;\n  \n  const dispatch = createEventDispatcher<{\n    select: { course: ContentNode };\n  }>();\n  \n  function handleSelect() {\n    dispatch('select', { course });\n  }\n  \n  function handleViewDetails(event: MouseEvent) {\n    event.stopPropagation(); // Prevent triggering the card's click event\n    if (course.id) {\n      navigateToCourse(course.id);\n    }\n  }\n  \n  function handleKeyDown(event: KeyboardEvent) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      handleSelect();\n    }\n  }\n  \n  $: statusClass = isCompleted ? \n    'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400' : \n    progress > 0 ? \n      'bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400' : \n      'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400';\n  \n  $: statusText = isCompleted ? \n    'Completed' : \n    progress > 0 ? \n      `In Progress (${Math.round(progress)}%)` : \n      'Not Started';\n</script>\n\n<div \n  role=\"button\"\n  tabindex=\"0\"\n  class=\"course-card relative p-4 rounded-lg border transition-all duration-200 hover:shadow-md mb-4 cursor-pointer {isSelected ? 'border-cherry-500 bg-cherry-50 dark:bg-cherry-900/20 shadow-md' : 'border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800'}\"\n  on:click={handleSelect}\n  on:keydown={handleKeyDown}\n  aria-pressed={isSelected}\n  aria-label=\"Course card: {course.title}\"\n>\n  <div class=\"flex justify-between items-start\">\n    <h3 class=\"text-lg font-medium text-gray-900 dark:text-white mb-1\">{course.title}</h3>\n    {#if course.level}\n      <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400\">\n        {course.level}\n      </span>\n    {/if}\n  </div>\n  \n  {#if course.description}\n    <p class=\"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2\">{course.description}</p>\n  {/if}\n  \n  <div class=\"flex flex-wrap gap-2 mb-3\">\n    {#if course.category}\n      <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-cherry-100 dark:bg-cherry-900/30 text-cherry-800 dark:text-cherry-400\">\n        {course.category}\n      </span>\n    {/if}\n    {#if course.tags && course.tags.length > 0}\n      {#each course.tags.slice(0, 3) as tag}\n        <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300\">\n          {tag}\n        </span>\n      {/each}\n      {#if course.tags.length > 3}\n        <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300\">\n          +{course.tags.length - 3} more\n        </span>\n      {/if}\n    {/if}\n  </div>\n  \n  <div class=\"flex justify-between items-center\">\n    <span class=\"inline-flex items-center text-xs {statusClass} px-2.5 py-0.5 rounded-full\">\n      {statusText}\n    </span>\n    \n    {#if progress > 0 && !isCompleted}\n      <div class=\"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2\" aria-hidden=\"true\">\n        <div \n          class=\"bg-amber-500 dark:bg-amber-400 h-2 rounded-full\" \n          style=\"width: {progress}%\" \n          role=\"progressbar\" \n          aria-valuenow={progress} \n          aria-valuemin=\"0\" \n          aria-valuemax=\"100\"\n        ></div>\n      </div>\n    {/if}\n    \n    <div class=\"flex items-center space-x-3\">\n      <div class=\"flex items-center space-x-1 text-gray-500 dark:text-gray-400\">\n        {#if course.duration}\n          <Icon icon=\"mdi:clock-outline\" class=\"w-4 h-4\" aria-hidden=\"true\" />\n          <span class=\"text-xs\">{course.duration}</span>\n        {/if}\n      </div>\n      \n      <button \n        class=\"text-cherry-600 dark:text-cherry-400 text-xs font-medium hover:underline\"\n        on:click={handleViewDetails}\n        aria-label=\"View course details\"\n      >\n        View Details\n      </button>\n    </div>\n  </div>\n  \n  {#if isSelected}\n    <div class=\"absolute top-2 right-2 text-cherry-500 dark:text-cherry-400\" aria-hidden=\"true\">\n      <Icon icon=\"mdi:check-circle\" class=\"w-5 h-5\" />\n    </div>\n  {/if}\n</div>\n\n<style>\n  /* Use standard CSS with line-clamp */\n  :global(.line-clamp-2) {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    line-clamp: 2;  /* Standard property for future compatibility */\n  }\n</style>"],"names":["$.attr_class","$.stringify","$.attr","$.escape","$.ensure_array_like","$.attr_style"],"mappings":";;;;;;AAiCK,MAAA,aAMA;MAjCQ,SAAmB,QAAA,QAAA;AACnB,MAAA,6CAAsB,KAAK;AAC3B,MAAA,+CAAuB,KAAK;AAC5B,MAAA,yCAAmB,CAAC;AAwB5B,gBAAc,cACf,yEACA,WAAW,IACT,yEACA;AAED,eAAa,cACd,cACA,WAAW,IAAC,gBACM,KAAK,MAAM,QAAQ,QACnC;AAM+G,YAAA,OAAA,kCAAAA,WAAA,8GAAAC,UAAA,aAAa,mEAAmE,gEAAgE,CAGrP,EAAA,CAAA,GAAAC,KAAA,gBAAA,UAAU,CACE,GAAAA,KAAA,cAAA,gBAAAD,UAAA,OAAO,KAAK,CAGgC,EAAA,CAAA,qHAAAE,YAAA,OAAO,KAAK,CAAA;AAC3E,MAAA,OAAO,OAAK;;AAEZ,cAAA,OAAA,0JAAAA,YAAA,OAAO,KAAK,CAAA;AAAA;;;;AAKd,MAAA,OAAO,aAAW;;AACkD,cAAA,OAAA,yEAAAA,YAAA,OAAO,WAAW,CAAA;AAAA;;;;AAIpF,MAAA,OAAO,UAAQ;;AAEf,cAAA,OAAA,kKAAAA,YAAA,OAAO,QAAQ,CAAA;AAAA;;;;MAGf,OAAO,QAAQ,OAAO,KAAK,SAAS,GAAC;;AACjC,UAAA,aAAAC,kBAAA,OAAO,KAAK,MAAM,GAAG,CAAC,CAAA;;;UAAK,MAAG,WAAA,OAAA;0LAEhC,GAAG,CAAA;AAAA;;AAGH,QAAA,OAAO,KAAK,SAAS,GAAC;;AAErB,gBAAA,OAAA,wJAAAD,YAAA,OAAO,KAAK,SAAS,CAAC,CAAA;AAAA;;;;;;;AAOiB,YAAA,OAAA,sEAAAH,WAAA,oCAAAC,UAAA,WAAW,+CACvD,UAAU,CAAA;MAGR,WAAW,KAAC,CAAK,aAAW;;AAIZ,cAAA,OAAA,kJAAAI,WAAA,UAAAJ,UAAA,QAAQ,iDAER,QAAQ,CAAA;AAAA;;;;AASpB,MAAA,OAAO,UAAQ;;;;;;;AAEK,cAAA,OAAA,iCAAAE,YAAA,OAAO,QAAQ,CAAA;AAAA;;;;MAczC,YAAU;;;;;;;;;;;;"}