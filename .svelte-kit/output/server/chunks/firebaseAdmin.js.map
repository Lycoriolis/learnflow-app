{"version":3,"file":"firebaseAdmin.js","sources":["../../../../src/lib/server/firebaseAdmin.ts"],"sourcesContent":["// File: /home/linux/learnflow-app/learnflow-app/src/lib/server/firebaseAdmin.ts\nimport { initializeApp, getApps, cert } from 'firebase-admin/app';\nimport { getFirestore } from 'firebase-admin/firestore';\nimport { getAuth } from 'firebase-admin/auth';\n\n// Only initialize if full credentials are provided\nconst projectId = process.env.FIREBASE_PROJECT_ID;\nconst clientEmail = process.env.FIREBASE_ADMIN_CLIENT_EMAIL;\nconst privateKey = process.env.FIREBASE_ADMIN_PRIVATE_KEY?.replace(/\\\\n/g, '\\n');\n\nif (projectId && clientEmail && privateKey) {\n  if (!getApps().length) {\n    initializeApp({ credential: cert({ projectId, clientEmail, privateKey }) });\n  }\n} else {\n  console.warn('Firebase Admin credentials are not fully set; skipping initialization.');\n}\n\n// Export initialized services, or undefined if not initialized\nexport const adminDb = getApps().length ? getFirestore() : undefined as any;\nexport const adminAuth = getApps().length ? getAuth() : undefined as any;"],"names":[],"mappings":";;;AAMA,MAAM,YAAY,QAAQ,IAAI;AAC9B,MAAM,cAAc,QAAQ,IAAI;AAChC,MAAM,aAAa,QAAQ,IAAI,4BAA4B,QAAQ,QAAQ,IAAI;AAE/E,IAAI,aAAa,eAAe,YAAY;AACtC,MAAA,CAAC,QAAQ,EAAE,QAAQ;AACP,kBAAA,EAAE,YAAY,KAAK,EAAE,WAAW,aAAa,WAAY,CAAA,GAAG;AAAA,EAAA;AAE9E,OAAO;AACL,UAAQ,KAAK,wEAAwE;AACvF;AAGO,MAAM,UAAU,QAAA,EAAU,SAAS,iBAAiB;AACpD,MAAM,YAAY,QAAA,EAAU,SAAS,YAAY;"}