{"version":3,"file":"Icon.js","sources":["../../../../node_modules/@iconify/svelte/dist/Icon.svelte"],"sourcesContent":["<script module>\n\t// Export stuff.\n\t// Important: duplicate of iconify.ts. When changing exports, they must be changed in both files.\n\timport { \n\t\ticonLoaded,\n\t\tgetIcon,\n\t\tlistIcons,\n\t\taddIcon,\n\t\taddCollection,\n\t\tcalculateSize,\n\t\treplaceIDs,\n\t\tbuildIcon,\n\t\tloadIcons,\n\t\tloadIcon,\n\t\tsetCustomIconLoader,\n\t\tsetCustomIconsLoader,\n\t\taddAPIProvider,\n\t\t_api\n\t} from './functions';\n\t\n\texport { \n\t\ticonLoaded,\n\t\tgetIcon,\n\t\tlistIcons,\n\t\taddIcon,\n\t\taddCollection,\n\t\tcalculateSize,\n\t\treplaceIDs,\n\t\tbuildIcon,\n\t\tloadIcons,\n\t\tloadIcon,\n\t\tsetCustomIconLoader,\n\t\tsetCustomIconsLoader,\n\t\taddAPIProvider,\n\t\t_api\n\t}\n\t\n</script>\n<script>\n\timport { onMount, onDestroy } from 'svelte';\n\timport { checkIconState, generateIcon } from './functions';\n\n\t// State\n\tconst iconState = {\n\t\t// Last icon name\n\t\tname: '',\n\n\t\t// Loading status\n\t\tloading: null,\n\n\t\t// Destroyed status\n\t\tdestroyed: false,\n\t};\n\n\t// Props\n\tconst props = $props();\n\n\t// Mounted status\n\tlet mounted = $state(false);\n\n\t// Callback counter\n\tlet counter = $state(0);\n\n\t// Generate data\n\tlet data = $state(null);\n\t$effect(() => {\n\t\tcounter;\n\t\tconst isMounted = !!props.ssr || mounted;\n\t\tconst iconData = checkIconState(props.icon, iconState, isMounted, loaded, props.onload);\n\t\tconst generatedData = iconData ? generateIcon(iconData.data, props) : null;\n\t\tif (generatedData && iconData.classes) {\n\t\t\t// Add classes\n\t\t\tgeneratedData.attributes['class'] = (typeof props['class'] === 'string' ? props['class'] + ' ' : '') + iconData.classes.join(' ');\n\t\t}\n\t\tdata = generatedData;\n\t});\n\n\t// Increase counter when loaded to force re-calculation of data\n\tfunction loaded() {\n\t\tcounter ++;\n\t}\n\n\t// Force re-render\n\tonMount(() => {\n\t\tmounted = true;\n\t});\n\n\t// Abort loading when component is destroyed\n\tonDestroy(() => {\n\t\ticonState.destroyed = true;\n\t\tif (iconState.loading) {\n\t\t\ticonState.loading.abort();\n\t\t\ticonState.loading = null;\n\t\t}\n\t})\n</script>\n\n{#if data}\n\t{#if data.svg}\n\t\t<svg {...data.attributes}>\n\t\t\t{@html data.body}\n\t\t</svg>\n\t{:else}\n\t\t<span {...data.attributes}></span>\n\t{/if}\n{/if}"],"names":[],"mappings":";;;;;;;AAwFC,YAAgB,MAAA;AAAA,GAMf;;;;;;;","x_google_ignoreList":[0]}