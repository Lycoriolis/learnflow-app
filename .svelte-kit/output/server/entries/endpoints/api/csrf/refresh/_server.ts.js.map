{"version":3,"file":"_server.ts.js","sources":["../../../../../../../../src/routes/api/csrf/refresh/+server.ts"],"sourcesContent":["/**\n * CSRF token refresh endpoint\n * \n * Generates a new CSRF token and returns it in the response headers\n */\nimport { setupCsrfToken } from '$lib/utils/csrf.server.js';\nimport { CSRF_HEADER } from '$lib/utils/csrf.types.js';\nimport type { RequestEvent } from '@sveltejs/kit';\n\n// Server-side only check\nif (typeof window !== 'undefined') {\n  throw new Error('This endpoint should only be imported on the server!');\n}\n\nexport function GET(event: RequestEvent) {\n  // Generate a new CSRF token\n  const token = setupCsrfToken(event.cookies);\n  \n  // Return an empty response with the token in headers\n  return new Response(null, {\n    status: 200,\n    headers: {\n      [CSRF_HEADER]: token\n    }\n  });\n}"],"names":[],"mappings":";AAUA,IAAI,OAAO,WAAW,aAAa;AAC3B,QAAA,IAAI,MAAM,sDAAsD;AACxE;AAEO,SAAS,IAAI,OAAqB;AAEjC,QAAA,QAAQ,eAAe,MAAM,OAAO;AAGnC,SAAA,IAAI,SAAS,MAAM;AAAA,IACxB,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,CAAC,WAAW,GAAG;AAAA,IAAA;AAAA,EACjB,CACD;AACH;"}