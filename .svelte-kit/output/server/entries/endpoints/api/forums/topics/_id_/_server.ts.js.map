{"version":3,"file":"_server.ts.js","sources":["../../../../../../../../../src/routes/api/forums/topics/[id]/+server.ts"],"sourcesContent":["import { json } from '@sveltejs/kit';\nimport { getTopic, updateTopic, deleteTopic } from '$lib/services/forums/forumService';\nimport type { RequestHandler } from './$types';\n\nexport const GET: RequestHandler = async ({ params }) => {\n  const topicId = params.id;\n  if (!topicId) {\n    return json({ error: 'Topic ID is required' }, { status: 400 });\n  }\n  \n  const topic = await getTopic(topicId);\n  if (!topic) {\n    return json({ error: 'Topic not found' }, { status: 404 });\n  }\n  \n  return json(topic);\n};\n\nexport const PUT: RequestHandler = async ({ params, request }) => {\n  const topicId = params.id;\n  if (!topicId) {\n    return json({ error: 'Topic ID is required' }, { status: 400 });\n  }\n  \n  const data = await request.json();\n  try {\n    await updateTopic(topicId, data);\n    return json({ success: true });\n  } catch (error) {\n    return json({ error: (error as Error).message }, { status: 500 });\n  }\n};\n\nexport const DELETE: RequestHandler = async ({ params }) => {\n  const topicId = params.id;\n  if (!topicId) {\n    return json({ error: 'Topic ID is required' }, { status: 400 });\n  }\n  \n  try {\n    await deleteTopic(topicId);\n    return json({ success: true });\n  } catch (error) {\n    return json({ error: (error as Error).message }, { status: 500 });\n  }\n};\n"],"names":[],"mappings":";;AAIO,MAAM,MAAsB,OAAO,EAAE,aAAa;AACvD,QAAM,UAAU,OAAO;AACvB,MAAI,CAAC,SAAS;AACL,WAAA,KAAK,EAAE,OAAO,0BAA0B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAG1D,QAAA,QAAQ,MAAM,SAAS,OAAO;AACpC,MAAI,CAAC,OAAO;AACH,WAAA,KAAK,EAAE,OAAO,qBAAqB,EAAE,QAAQ,KAAK;AAAA,EAAA;AAG3D,SAAO,KAAK,KAAK;AACnB;AAEO,MAAM,MAAsB,OAAO,EAAE,QAAQ,cAAc;AAChE,QAAM,UAAU,OAAO;AACvB,MAAI,CAAC,SAAS;AACL,WAAA,KAAK,EAAE,OAAO,0BAA0B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAG1D,QAAA,OAAO,MAAM,QAAQ,KAAK;AAC5B,MAAA;AACI,UAAA,YAAY,SAAS,IAAI;AAC/B,WAAO,KAAK,EAAE,SAAS,MAAM;AAAA,WACtB,OAAO;AACP,WAAA,KAAK,EAAE,OAAQ,MAAgB,WAAW,EAAE,QAAQ,KAAK;AAAA,EAAA;AAEpE;AAEO,MAAM,SAAyB,OAAO,EAAE,aAAa;AAC1D,QAAM,UAAU,OAAO;AACvB,MAAI,CAAC,SAAS;AACL,WAAA,KAAK,EAAE,OAAO,0BAA0B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAG5D,MAAA;AACF,UAAM,YAAY,OAAO;AACzB,WAAO,KAAK,EAAE,SAAS,MAAM;AAAA,WACtB,OAAO;AACP,WAAA,KAAK,EAAE,OAAQ,MAAgB,WAAW,EAAE,QAAQ,KAAK;AAAA,EAAA;AAEpE;"}