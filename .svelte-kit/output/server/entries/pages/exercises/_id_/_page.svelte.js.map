{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/lib/components/courses/exercise/ExerciseCard.svelte","../../../../../../../src/routes/exercises/[id]/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { fade } from 'svelte/transition';\n  \n  export let title: string;\n  export let description: string = '';\n  export let difficulty: 'beginner' | 'intermediate' | 'advanced' | null = null;\n  export let estimatedTime: string = '';\n  export let tags: string[] = [];\n  export let id: string = '';\n  export let type: 'exercise' | 'course' = 'exercise';\n  export let onClick: () => void = () => {};\n  export let progressStatus: 'notStarted' | 'inProgress' | 'completed' = 'notStarted';\n\n  $: isCompleted = progressStatus === 'completed';\n  $: isInProgress = progressStatus === 'inProgress';\n\n  function getDifficultyColor(diff: string | null): string {\n    switch (diff) {\n      case 'beginner': return 'bg-green-500';\n      case 'intermediate': return 'bg-yellow-500';\n      case 'advanced': return 'bg-red-500';\n      default: return 'bg-blue-500';\n    }\n  }\n  \n  function getDifficultyLabel(diff: string | null): string {\n    if (!diff) return '';\n    return diff.charAt(0).toUpperCase() + diff.slice(1);\n  }\n  \n  function handleCardClick(e: MouseEvent) {\n    if (e.target && (e.target as HTMLElement).closest('.progress-toggle')) {\n      return;\n    }\n    onClick();\n  }\n\n  function handleCardKeydown(event: KeyboardEvent) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      handleCardClick(event as any);\n    }\n  }\n</script>\n\n{#if type === 'exercise'}\n  <!-- Exercise Card (New Design) -->\n  <div \n    role=\"button\"\n    tabindex=\"0\"\n    class=\"exercise-card {isCompleted ? 'completed' : isInProgress ? 'in-progress' : ''} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400 dark:focus:ring-red-500\"\n    on:click={handleCardClick}\n    on:keydown={handleCardKeydown}\n    in:fade={{ duration: 300 }}\n  >\n    <!-- State indicator -->\n    <div class=\"completion-indicator\">\n      <div class=\"indicator-dot {isCompleted ? 'completed' : isInProgress ? 'in-progress' : 'not-started'}\">\n        <i class=\"fas {isCompleted ? 'fa-check' : isInProgress ? 'fa-spinner' : ''}\"></i>\n      </div>\n    </div>\n    \n    <!-- Card content -->\n    <div class=\"card-content\">\n      <h3 class=\"exercise-title\">{title}</h3>\n      \n      {#if description}\n        <p class=\"exercise-description\">{description}</p>\n      {/if}\n      \n      <div class=\"exercise-meta\">\n        {#if difficulty}\n          <div class=\"difficulty-badge {difficulty}\">\n            <span class=\"difficulty-dot {getDifficultyColor(difficulty)}\"></span>\n            <span>{getDifficultyLabel(difficulty)}</span>\n          </div>\n        {/if}\n        \n        {#if estimatedTime}\n          <div class=\"time-badge\">\n            <i class=\"fas fa-clock\"></i>\n            <span>{estimatedTime}</span>\n          </div>\n        {/if}\n      </div>\n      \n      {#if tags && tags.length > 0}\n        <div class=\"tags-container\">\n          {#each tags.slice(0, 3) as tag}\n            <span class=\"tag\">{tag}</span>\n          {/each}\n          {#if tags.length > 3}\n            <span class=\"tag-more\">+{tags.length - 3}</span>\n          {/if}\n        </div>\n      {/if}\n    </div>\n    \n    {#if difficulty}\n      <div class=\"difficulty-stripe {difficulty}\"></div>\n    {/if}\n    \n    <div class=\"card-overlay\"></div>\n  </div>\n{:else}\n  <!-- Course Card (Original Design) -->\n  <div \n    role=\"button\"\n    tabindex=\"0\"\n    class=\"course-card focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n    on:click={onClick} \n    on:keydown={handleCardKeydown}\n    in:fade={{ duration: 300 }}\n  >\n    <h3 class=\"course-title\">{title}</h3>\n    \n    {#if description}\n      <p class=\"course-description\">{description}</p>\n    {/if}\n    \n    <div class=\"card-meta\">\n      {#if difficulty}\n        <span class=\"card-badge difficulty\">\n          {getDifficultyLabel(difficulty)}\n        </span>\n      {/if}\n      \n      {#if estimatedTime}\n        <span class=\"card-badge time\">\n          <i class=\"fas fa-clock\"></i> {estimatedTime}\n        </span>\n      {/if}\n    </div>\n    \n    {#if tags && tags.length > 0}\n      <div class=\"tags-row\">\n        {#each tags.slice(0, 3) as tag}\n          <span class=\"tag-pill\">{tag}</span>\n        {/each}\n        {#if tags.length > 3}\n          <span class=\"tag-pill more\">+{tags.length - 3}</span>\n        {/if}\n      </div>\n    {/if}\n    \n    <div class=\"card-arrow\">\n      <i class=\"fas fa-arrow-right\"></i>\n    </div>\n  </div>\n{/if}\n\n<style>\n  /* Original Course Card Styles */\n  .course-card {\n    background: white;\n    border-radius: 0.5rem;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    padding: 1.5rem;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n    border: 1px solid #f0f0f0;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .course-card:hover {\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n  \n  .course-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n    margin-bottom: 0.5rem;\n    padding-right: 1.5rem;\n  }\n  \n  .course-description {\n    color: #4b5563;\n    font-size: 0.95rem;\n    margin-bottom: 1rem;\n    line-height: 1.4;\n    flex-grow: 1;\n  }\n  \n  .card-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    margin-bottom: 1rem;\n  }\n  \n  .card-badge {\n    font-size: 0.85rem;\n    padding: 0.25rem 0.75rem;\n    border-radius: 1rem;\n    display: inline-flex;\n    align-items: center;\n    gap: 0.25rem;\n  }\n  \n  .card-badge.difficulty {\n    background: #f3f4f6;\n    color: #374151;\n  }\n  \n  .card-badge.time {\n    background: #f3f4f6;\n    color: #374151;\n  }\n  \n  .tags-row {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.35rem;\n  }\n  \n  .tag-pill {\n    font-size: 0.75rem;\n    padding: 0.15rem 0.5rem;\n    border-radius: 0.25rem;\n    background: #e5e7eb;\n    color: #4b5563;\n  }\n  \n  .tag-pill.more {\n    background: transparent;\n    color: #9ca3af;\n  }\n  \n  .card-arrow {\n    position: absolute;\n    top: 1.25rem;\n    right: 1.25rem;\n    width: 1.75rem;\n    height: 1.75rem;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f9fafb;\n    color: #4b5563;\n    transition: all 0.3s ease;\n  }\n  \n  .course-card:hover .card-arrow {\n    background: #111827;\n    color: white;\n    transform: translateX(3px);\n  }\n  \n  /* New Exercise Card Styles */\n  .exercise-card {\n    background: linear-gradient(145deg, #ffffff, #f9fafb);\n    border-radius: 0.75rem;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\n    padding: 1.5rem 1.25rem 1.5rem 3rem;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n    border: 1px solid #f0f0f0;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .exercise-card:hover {\n    box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);\n    transform: translateY(-4px);\n  }\n  \n  .exercise-card.completed {\n    border: 1px solid rgba(16, 185, 129, 0.3);\n    background: linear-gradient(145deg, rgba(16, 185, 129, 0.05), rgba(16, 185, 129, 0.02));\n  }\n  \n  .exercise-card.in-progress {\n    border: 1px solid rgba(245, 158, 11, 0.3);\n    background: linear-gradient(145deg, rgba(245, 158, 11, 0.05), rgba(245, 158, 11, 0.02));\n  }\n  \n  .completion-indicator {\n    position: absolute;\n    left: 12px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 26px;\n    height: 26px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .indicator-dot {\n    width: 22px;\n    height: 22px;\n    border-radius: 50%;\n    border: 2px solid #d1d5db;\n    background: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: transparent;\n    transition: all 0.3s ease;\n  }\n  \n  .indicator-dot.completed {\n    background: #10b981;\n    border-color: #10b981;\n    color: white;\n  }\n  \n  .indicator-dot.in-progress {\n    background: #f59e0b;\n    border-color: #f59e0b;\n    color: white;\n  }\n  \n  .difficulty-stripe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 8px;\n    height: 100%;\n    z-index: 1;\n  }\n  \n  .difficulty-stripe.beginner {\n    background: linear-gradient(to bottom, #10b981, #059669);\n  }\n  \n  .difficulty-stripe.intermediate {\n    background: linear-gradient(to bottom, #f59e0b, #d97706);\n  }\n  \n  .difficulty-stripe.advanced {\n    background: linear-gradient(to bottom, #ef4444, #dc2626);\n  }\n  \n  .card-content {\n    position: relative;\n    z-index: 2;\n  }\n  \n  .exercise-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n    margin-bottom: 0.5rem;\n    line-height: 1.3;\n  }\n  \n  .exercise-description {\n    color: #4b5563;\n    font-size: 0.95rem;\n    margin-bottom: 1rem;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  .exercise-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.75rem;\n    margin-bottom: 1rem;\n  }\n  \n  .difficulty-badge {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.4rem;\n    padding: 0.25rem 0.75rem;\n    border-radius: 1rem;\n    font-size: 0.85rem;\n    font-weight: 500;\n  }\n  \n  .difficulty-badge.beginner {\n    background: rgba(16, 185, 129, 0.1);\n    color: #065f46;\n  }\n  \n  .difficulty-badge.intermediate {\n    background: rgba(245, 158, 11, 0.1);\n    color: #92400e;\n  }\n  \n  .difficulty-badge.advanced {\n    background: rgba(239, 68, 68, 0.1);\n    color: #b91c1c;\n  }\n  \n  .difficulty-dot {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    display: inline-block;\n  }\n  \n  .time-badge {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.4rem;\n    padding: 0.25rem 0.75rem;\n    border-radius: 1rem;\n    background: rgba(79, 70, 229, 0.1);\n    color: #4338ca;\n    font-size: 0.85rem;\n    font-weight: 500;\n  }\n  \n  .tags-container {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n  \n  .tag {\n    font-size: 0.8rem;\n    padding: 0.2rem 0.6rem;\n    border-radius: 0.25rem;\n    background: #f3f4f6;\n    color: #4b5563;\n    font-weight: 500;\n  }\n  \n  .tag-more {\n    font-size: 0.8rem;\n    padding: 0.2rem 0.5rem;\n    color: #9ca3af;\n  }\n  \n  .card-overlay {\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(to right, transparent, transparent);\n    opacity: 0;\n    transition: all 0.3s ease;\n    z-index: 0;\n    pointer-events: none;\n  }\n  \n  .exercise-card:hover .card-overlay {\n    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.02));\n    opacity: 1;\n  }\n  \n  .exercise-card.completed:hover .card-overlay {\n    background: linear-gradient(to right, transparent, rgba(16, 185, 129, 0.05));\n  }\n  \n  .exercise-card.in-progress:hover .card-overlay {\n    background: linear-gradient(to right, transparent, rgba(245, 158, 11, 0.05));\n  }\n</style>","<script lang=\"ts\">\n  import { fade } from 'svelte/transition';\n  import MarkdownRenderer from '$lib/components/MarkdownRenderer.svelte';\n  import ExerciseMarkdown from '$lib/components/courses/exercise/ExerciseMarkdown.svelte';\n  import ExerciseRating from '$lib/components/courses/exercise/ExerciseRating.svelte';\n  import ExerciseCard from '$lib/components/courses/exercise/ExerciseCard.svelte';\n  import MathContent from '$lib/components/MathContent.svelte';\n  \n  export let data;\n  \n  // Handle both category and individual exercise display\n  const { isCategory } = data;\n</script>\n\n<svelte:head>\n  {#if isCategory}\n    <title>{data.category.title} | LearnFlow Exercises</title>\n    <meta name=\"description\" content={data.category.description || `Browse exercises in the ${data.category.title} category`} />\n  {:else}\n    <title>{data.exercise?.title || 'Exercise'} | LearnFlow</title>\n    <meta name=\"description\" content={data.exercise?.description || 'Practice with this exercise on LearnFlow'} />\n  {/if}\n</svelte:head>\n\n<div class=\"min-h-screen p-6 bg-gray-900 text-gray-100\">\n  {#if isCategory}\n    <!-- Category View -->\n    <div in:fade={{ duration: 300 }}>\n      <a href=\"/exercises\" class=\"text-sm text-red-300 hover:text-red-200 mb-4 inline-block\">← All Exercises</a>\n      \n      <h1 class=\"text-3xl font-bold mb-2\">{data.category.title}</h1>\n      {#if data.category.description}\n        <p class=\"text-gray-300 mb-6\">{data.category.description}</p>\n      {/if}\n      \n      {#if data.category.exercises && data.category.exercises.length > 0}\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8\">\n          {#each data.category.exercises as exercise}\n            <ExerciseCard {exercise} href={`/exercises/${data.category.id}/${exercise.id}`} />\n          {/each}\n        </div>\n      {:else}\n        <p>No exercises found in this category.</p>\n      {/if}\n    </div>\n  {:else}\n    <!-- Individual Exercise View -->\n    <div in:fade={{ duration: 300 }}>\n      <a href=\"/exercises\" class=\"text-sm text-red-300 hover:text-red-200 mb-4 inline-block\">← All Exercises</a>\n      \n      {#if data.exercise}\n        <div class=\"bg-gray-800 rounded-lg p-6 shadow-lg\">\n          <h1 class=\"text-3xl font-bold mb-2\">{data.exercise.title}</h1>\n          \n          <div class=\"flex flex-wrap gap-2 mb-4\">\n            {#if data.exercise.difficulty}\n              <span class=\"px-2 py-1 text-xs rounded-full bg-opacity-20\"\n                class:bg-green-600={data.exercise.difficulty === 'beginner'}\n                class:bg-yellow-600={data.exercise.difficulty === 'intermediate'}\n                class:bg-red-600={data.exercise.difficulty === 'advanced'}\n              >\n                {data.exercise.difficulty.charAt(0).toUpperCase() + data.exercise.difficulty.slice(1)}\n              </span>\n            {/if}\n            \n            {#if data.exercise.estimatedTime}\n              <span class=\"px-2 py-1 text-xs rounded-full bg-blue-600 bg-opacity-20\">\n                <i class=\"fas fa-clock mr-1\"></i> {data.exercise.estimatedTime}\n              </span>\n            {/if}\n            \n            {#if data.exercise.tags && data.exercise.tags.length > 0}\n              {#each data.exercise.tags as tag}\n                <span class=\"px-2 py-1 text-xs rounded-full bg-purple-600 bg-opacity-20\">{tag}</span>\n              {/each}\n            {/if}\n          </div>\n          \n          {#if data.exercise.description}\n            <p class=\"text-gray-300 mb-6\">{data.exercise.description}</p>\n          {/if}\n          \n          <!-- Exercise Content -->\n          <div class=\"mt-6\">\n            {#if data.content}\n              <ExerciseMarkdown content={data.content} />\n            {:else}\n              <p>No content available for this exercise.</p>\n            {/if}\n          </div>\n          \n          <!-- Exercise Rating -->\n          <div class=\"mt-8 pt-6 border-t border-gray-700\">\n            <ExerciseRating exerciseId={data.exercise.id} />\n          </div>\n        </div>\n      {:else}\n        <div class=\"bg-red-900 bg-opacity-20 p-4 rounded-lg\">\n          <p>Exercise not found or failed to load.</p>\n        </div>\n      {/if}\n    </div>\n  {/if}\n</div>"],"names":["$.fallback","$.attr_class","$.stringify","$.escape","$.ensure_array_like","$$payload","$.attr"],"mappings":"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"}