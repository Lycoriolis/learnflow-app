{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/routes/my-learning/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { isAuthenticated, loading as authLoading } from '$lib/stores/authStore.js';\n  import { goto } from '$app/navigation';\n  import type { PageData } from './$types';\n\n  export let data: PageData;\n\n  let activeTab: 'in-progress' | 'completed' | 'all' = 'in-progress';\n\n  function goToLogin() { goto('/login?redirect=/my-learning'); }\n\n  $: enrolledCourses = data.enrolledCourses || [];\n  $: myCourses = enrolledCourses.filter(c => c.enrollment.progress > 0 && c.enrollment.progress < 100);\n  $: completedCourses = enrolledCourses.filter(c => c.enrollment.progress === 100);\n  $: allCourses = enrolledCourses;\n  $: suggestion = allCourses.find(c => c.enrollment.progress > 0 && c.enrollment.progress < 100);\n</script>\n\n<svelte:head>\n  <title>My Learning | LearnFlow</title>\n</svelte:head>\n\n{#if $authLoading}\n  <div class=\"flex items-center justify-center min-h-[60vh]\"><i class=\"fas fa-spinner fa-spin text-4xl text-indigo-500\"></i></div>\n{:else if !$isAuthenticated}\n  <div class=\"flex flex-col items-center justify-center min-h-[60vh]\">\n    <p class=\"text-xl text-gray-600 dark:text-gray-300 mb-4\">Please log in to view your learning progress.</p>\n    <button class=\"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\" on:click={goToLogin}>Log In</button>\n  </div>\n{:else}\n  <div class=\"max-w-7xl mx-auto px-4 py-6\">\n    <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">My Learning</h1>\n    {#if data.error}\n      <div class=\"text-red-500 mb-4\">{data.error}</div>\n    {/if}\n    {#if allCourses.length === 0}\n      <div class=\"text-center text-gray-600 dark:text-gray-400 py-20\">\n        <p>You are not enrolled in any courses yet.</p>\n        <a href=\"/courses\" class=\"mt-4 inline-block px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\">Browse Courses</a>\n      </div>\n    {:else}\n      <!-- Suggestion -->\n      {#if suggestion}\n        <div class=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow mb-6\">\n          <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Continue Learning</h2>\n          <p class=\"text-gray-700 dark:text-gray-300\">Next: {suggestion.meta.title}</p>\n          <a href={suggestion.meta.path ? `/courses?path=${suggestion.meta.path}` : `/courses/${suggestion.meta.id}`} class=\"mt-4 inline-block text-indigo-600 hover:underline\">Go to Course</a>\n        </div>\n      {/if}\n      <!-- Tabs -->\n      <div class=\"mb-4 border-b border-gray-200 dark:border-gray-700\">\n        <button class={`py-2 px-4 ${activeTab==='in-progress'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='in-progress'}>In Progress</button>\n        <button class={`py-2 px-4 ${activeTab==='completed'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='completed'}>Completed</button>\n        <button class={`py-2 px-4 ${activeTab==='all'? 'border-b-2 border-indigo-500 text-indigo-600':''}`} on:click={()=>activeTab='all'}>All</button>\n      </div>\n      <!-- Course List -->\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {#each (activeTab==='in-progress'? myCourses : activeTab==='completed'? completedCourses : allCourses) as item (item.meta.id)}\n          <div class=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow flex flex-col\">\n            <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">{item.meta.title}</h3>\n            <div class=\"flex items-center mb-2\">\n              <div class=\"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded-full overflow-hidden\">\n                <div class=\"h-2 bg-indigo-600 dark:bg-indigo-500\" style=\"width:{item.enrollment.progress}%\"></div>\n              </div>\n              <span class=\"ml-2 text-sm\">{item.enrollment.progress}%</span>\n            </div>\n            <a href={item.meta.path ? `/courses?path=${item.meta.path}` : `/courses/${item.meta.id}`} class=\"mt-auto text-indigo-600 hover:underline\">View Course</a>\n          </div>\n        {/each}\n      </div>\n    {/if}\n  </div>\n{/if}"],"names":["$.escape","$.attr_class","$.attr"],"mappings":";;;;;;MAWK,iBACA,WAEA,YACA;MAVQ,OAAc,QAAA,MAAA;AAMtB,oBAAkB,KAAK,mBAAe,CAAA;AACtC,cAAY,gBAAgB,QAAO,MAAK,EAAE,WAAW,WAAW,KAAK,EAAE,WAAW,WAAW,GAAG;AAC7E,kBAAgB,OAAO,CAAA,MAAK,EAAE,WAAW,aAAa,GAAG;AAC5E,eAAa;AACb,eAAa,WAAW,MAAK,MAAK,EAAE,WAAW,WAAW,KAAK,EAAE,WAAW,WAAW,GAAG;;;;;;;;;;;;;AAiBtF,QAAA,KAAK,OAAK;;AACmB,gBAAA,OAAA,kCAAAA,YAAA,KAAK,KAAK,CAAA;AAAA;;;;QAEvC,WAAW,WAAW,GAAC;;;;;2CAsBW,SAAkE;UAflG,YAAU;;wPAGwC,WAAW,KAAK,KAAK,wBAC/D,WAAW,KAAK,wBAAwB,WAAW,KAAK,IAAI,iBAAiB,WAAW,KAAK,EAAE,EAAA,CAAA;AAAA;;;kIAKnD,8CAAiD,EAAA,CAAA,gCAAAC,WAAA,aACJ,EAAE,EAC1E,CAAA,8BAAAA,WAAA,aAAkE,EAAE,EAAA,CAAA;;YAIU,OAAI,WAAA,OAAA;AAEpC,kBAAA,OAAA,mJAAAD,YAAA,KAAK,KAAK,KAAK,+MAGjB,KAAK,WAAW,QAAQ,CAAA,GAAA,CAAA,4CAAAA,YAE9D,KAAK,WAAW,QAAQ,CAE7C,oBAAAE,KAAA,QAAA,KAAK,KAAK,wBAAwB,KAAK,KAAK,IAAI,KAAiB,YAAA,KAAK,KAAK,EAAE,EAAA,CAAA;AAAA;;;;;;;;;;"}