{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/routes/groups/create/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { goto } from '$app/navigation';\n  let name = '';\n  let description = '';\n  let topic = '';\n  let image = '';\n  let isPublic = true;\n  let error = '';\n  let loading = false;\n  let success = false;\n\n  async function createGroup() {\n    error = '';\n    success = false;\n    // Client-side validation\n    if (!name.trim() || !description.trim() || !topic.trim()) {\n      error = 'Please fill in all required fields.';\n      return;\n    }\n    loading = true;\n    try {\n      const res = await fetch('/api/groups/', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, description, topic, image, is_public: isPublic })\n      });\n      if (res.ok) {\n        success = true;\n        setTimeout(() => goto('/groups'), 1200);\n      } else {\n        const data = await res.json().catch(() => ({}));\n        error = data?.error || 'Failed to create group.';\n      }\n    } catch (e) {\n      error = 'Failed to create group.';\n    } finally {\n      loading = false;\n    }\n  }\n</script>\n\n<svelte:head>\n  <title>Create New Group | LearnFlow</title>\n</svelte:head>\n\n<div class=\"max-w-xl mx-auto py-10 px-4\">\n  <h1 class=\"text-3xl font-bold mb-6 text-gray-900 dark:text-white\">Create a New Group</h1>\n  <form on:submit|preventDefault={createGroup} class=\"space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Group Name</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={name} required />\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Description</label>\n      <textarea class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={description} rows=\"3\" required></textarea>\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Topic</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={topic} required />\n    </div>\n    <div>\n      <label class=\"block text-sm font-medium mb-1\">Image URL (optional)</label>\n      <input class=\"w-full rounded border-gray-300 dark:border-gray-600 p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\" bind:value={image} />\n    </div>\n    <div class=\"flex items-center gap-2\">\n      <input type=\"checkbox\" id=\"isPublic\" bind:checked={isPublic} />\n      <label for=\"isPublic\" class=\"text-sm\">Public group (anyone can join)</label>\n    </div>\n    {#if error}\n      <div class=\"text-red-500\">{error}</div>\n    {/if}\n    {#if success}\n      <div class=\"text-green-600 font-semibold\">Group created successfully! Redirecting...</div>\n    {/if}\n    <div class=\"flex gap-4\">\n      <button type=\"submit\" class=\"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md\" disabled={loading}>\n        {loading ? 'Creating...' : 'Create Group'}\n      </button>\n      <a href=\"/groups\" class=\"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md\">Cancel</a>\n    </div>\n  </form>\n</div>\n"],"names":["$.attr","$.escape"],"mappings":";;;;AAEM,MAAA,OAAO;AACP,MAAA,cAAc;AACd,MAAA,QAAQ;AACR,MAAA,QAAQ;AACR,MAAA,WAAW;AAEX,MAAA,UAAU;;;;mbA0CiI,IAAI,CAAA;6BAID,WAAW;;;;qPAId,KAAK,CAAA,kOAAAA,KAAA,SAIL,KAAK,CAAA,oFAAAA,KAAA,WAG7F,UAAQ,IAAA,CAAA;;;;;;;;AAU+C,YAAA,OAAA,mIAAAA,KAAA,YAAA,SACvG,IAAA,CAAA,IAAAC,YAA0B,cAAc,CAAA;;;"}