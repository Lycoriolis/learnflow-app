{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/routes/events/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { fade } from 'svelte/transition';\n  import { user } from '$lib/stores/authStore.js';\n\n  // Types\n  type PlatformEvent = {\n    id: string;\n    title: string;\n    type: 'Webinar' | 'Workshop' | 'Q&A' | 'Competition' | 'Social';\n    date: string;\n    startTime: string;\n    endTime?: string;\n    description: string;\n    image?: string;\n    location: string; // Can be 'Online', a specific URL, or a physical location\n    organizer: string;\n    isFeatured?: boolean;\n    isRegistered?: boolean;\n    tags?: string[];\n    registrationLink?: string;\n  };\n\n  // Mock Events Data\n  let allEvents: PlatformEvent[] = [\n    {\n      id: 'event-1',\n      title: 'Live Q&A: Mastering CSS Grid',\n      type: 'Q&A',\n      date: '2023-05-15',\n      startTime: '4:00 PM UTC',\n      description: 'Join expert Sarah Johnson for a live Q&A session on advanced CSS Grid techniques.',\n      image: '/images/events/css-grid-qa.jpg',\n      location: 'Online - YouTube Live',\n      organizer: 'LearnFlow Team',\n      isFeatured: true,\n      isRegistered: false,\n      tags: ['CSS', 'Frontend', 'Q&A'],\n      registrationLink: '#'\n    },\n    {\n      id: 'event-2',\n      title: 'Workshop: Introduction to Machine Learning',\n      type: 'Workshop',\n      date: '2023-05-22',\n      startTime: '1:00 PM UTC',\n      endTime: '5:00 PM UTC',\n      description: 'Hands-on workshop covering the fundamentals of machine learning with Python.',\n      image: '/images/events/ml-workshop.jpg',\n      location: 'Online - Zoom',\n      organizer: 'Data Science Society',\n      isRegistered: true,\n      tags: ['Machine Learning', 'Python', 'Workshop']\n    },\n    {\n      id: 'event-3',\n      title: 'Webinar: Building Accessible Web Apps',\n      type: 'Webinar',\n      date: '2023-05-25',\n      startTime: '6:00 PM UTC',\n      description: 'Learn best practices for creating web applications accessible to everyone.',\n      location: 'Online - Webinar Platform',\n      organizer: 'LearnFlow Team',\n      isRegistered: false,\n      tags: ['Accessibility', 'Web Development', 'Webinar']\n    },\n    {\n      id: 'event-4',\n      title: 'LearnFlow Community Meetup',\n      type: 'Social',\n      date: '2023-06-01',\n      startTime: '5:00 PM UTC',\n      description: 'Connect with fellow learners and the LearnFlow team in this informal online meetup.',\n      location: 'Online - Discord',\n      organizer: 'LearnFlow Community',\n      isRegistered: false,\n      tags: ['Community', 'Social']\n    },\n     {\n      id: 'event-5',\n      title: 'Past Event: Design Thinking Challenge',\n      type: 'Competition',\n      date: '2023-04-10',\n      startTime: '9:00 AM UTC',\n      endTime: 'April 14th, 5:00 PM UTC',\n      description: 'A week-long challenge to apply design thinking principles to solve a real-world problem.',\n      image: '/images/events/design-challenge.jpg',\n      location: 'Online Platform',\n      organizer: 'Design Club',\n      isRegistered: true, // Assume user participated\n      tags: ['Design Thinking', 'Competition', 'UX']\n    }\n  ];\n\n  // State for filters\n  let selectedType = 'all';\n  let selectedDateRange = 'upcoming'; // 'upcoming', 'past', 'all'\n\n  // Event Types for filtering\n  const eventTypes = [\n    'all',\n    ...new Set(allEvents.map(event => event.type))\n  ];\n\n  // Filtered Events\n  $: filteredEvents = allEvents.filter(event => {\n    const matchesType = selectedType === 'all' || event.type === selectedType;\n    \n    const eventDate = new Date(event.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Set time to midnight for accurate date comparison\n    \n    let matchesDate = true;\n    if (selectedDateRange === 'upcoming') {\n      matchesDate = eventDate >= today;\n    } else if (selectedDateRange === 'past') {\n      matchesDate = eventDate < today;\n    }\n    \n    return matchesType && matchesDate;\n  }).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()); // Sort by date\n\n  // Separate featured event (most recent upcoming featured event)\n  $: featuredEvent = filteredEvents.find(event => event.isFeatured && new Date(event.date) >= new Date());\n\n  // Function to format date and time nicely\n  function formatEventDateTime(dateStr: string, startTime: string, endTime?: string): string {\n    const date = new Date(dateStr);\n    const dateOptions: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n    let formattedString = date.toLocaleDateString('en-US', dateOptions);\n    formattedString += ` at ${startTime}`;\n    if (endTime) {\n      formattedString += ` - ${endTime}`;\n    }\n    return formattedString;\n  }\n\n  // Placeholder for registration logic\n  function handleRegistration(eventId: string) {\n     console.log(`Handling registration for event ${eventId}`);\n     const eventIndex = allEvents.findIndex(e => e.id === eventId);\n     if (eventIndex !== -1) {\n       allEvents[eventIndex].isRegistered = !allEvents[eventIndex].isRegistered;\n       allEvents = [...allEvents]; // Trigger reactivity\n     }\n  }\n\n  // Loading state\n  let loading = true;\n\n  onMount(() => {\n    setTimeout(() => {\n      loading = false;\n    }, 800);\n  });\n</script>\n\n<svelte:head>\n  <title>Events | LearnFlow</title>\n</svelte:head>\n\n<div class=\"container mx-auto px-4 py-8 max-w-7xl\">\n  {#if loading}\n    <div class=\"flex justify-center items-center h-64\">\n      <div class=\"loader\"></div>\n    </div>\n  {:else}\n    <div in:fade={{ duration: 300 }}>\n      <!-- Header Section -->\n      <div class=\"text-center mb-12\">\n        <h1 class=\"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-3\">LearnFlow Events</h1>\n        <p class=\"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto\">\n          Join webinars, workshops, Q&A sessions, and community meetups.\n        </p>\n      </div>\n\n      <!-- Featured Event Section -->\n      {#if featuredEvent}\n        <div class=\"bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-800 dark:to-purple-800 rounded-xl shadow-lg p-6 md:p-8 mb-12 text-white\">\n          <div class=\"flex flex-col md:flex-row items-center\">\n            {#if featuredEvent.image}\n              <div class=\"w-full md:w-1/3 mb-4 md:mb-0 md:mr-8 flex-shrink-0\">\n                <img src={featuredEvent.image} alt={featuredEvent.title} class=\"rounded-lg shadow-md aspect-video object-cover w-full\"/>\n              </div>\n            {/if}\n            <div class=\"flex-1\">\n              <span class=\"inline-block bg-white/20 text-white text-xs font-semibold px-3 py-1 rounded-full mb-3\">\n                Featured Event\n              </span>\n              <h2 class=\"text-2xl md:text-3xl font-bold mb-2\">{featuredEvent.title}</h2>\n              <p class=\"text-indigo-100 dark:text-indigo-200 mb-3 text-sm\">\n                 <i class=\"fas fa-calendar-alt mr-1\"></i> {formatEventDateTime(featuredEvent.date, featuredEvent.startTime, featuredEvent.endTime)}\n              </p>\n              <p class=\"text-indigo-100 dark:text-indigo-200 mb-5\">\n                {featuredEvent.description}\n              </p>\n              <button \n                on:click={() => handleRegistration(featuredEvent.id)}\n                class=\"px-5 py-2.5 rounded-md bg-white text-indigo-700 text-base font-medium hover:bg-gray-50 transition-colors flex items-center\"\n              >\n                 {#if featuredEvent.isRegistered}\n                   <i class=\"fas fa-check-circle mr-2\"></i> Registered\n                 {:else}\n                   <i class=\"fas fa-ticket-alt mr-2\"></i> Register Now\n                 {/if}\n              </button>\n            </div>\n          </div>\n        </div>\n      {/if}\n\n      <!-- Filter Bar -->\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-8\">\n        <div class=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n          <span class=\"text-lg font-medium text-gray-700 dark:text-gray-300\">Browse Events</span>\n          <div class=\"flex flex-col sm:flex-row gap-3\">\n             <div class=\"relative\">\n              <select\n                class=\"appearance-none pl-4 pr-10 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 min-w-[160px] text-sm\"\n                bind:value={selectedDateRange}\n              >\n                <option value=\"upcoming\">Upcoming Events</option>\n                <option value=\"past\">Past Events</option>\n                <option value=\"all\">All Events</option>\n              </select>\n              <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n                <i class=\"fas fa-chevron-down text-gray-400\"></i>\n              </div>\n            </div>\n            <div class=\"relative\">\n              <select\n                class=\"appearance-none pl-4 pr-10 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 min-w-[160px] text-sm\"\n                bind:value={selectedType}\n              >\n                {#each eventTypes as type}\n                  <option value={type}>{type === 'all' ? 'All Types' : type}</option>\n                {/each}\n              </select>\n              <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n                <i class=\"fas fa-chevron-down text-gray-400\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Events List/Grid -->\n      {#if filteredEvents.length === 0}\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 p-8 text-center\">\n          <div class=\"w-16 h-16 mx-auto bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4\">\n            <i class=\"fas fa-calendar-times text-gray-400 dark:text-gray-500 text-2xl\"></i>\n          </div>\n          <h3 class=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">No events found</h3>\n          <p class=\"text-gray-600 dark:text-gray-400 mb-6\">\n            There are no {selectedDateRange !== 'all' ? selectedDateRange : ''} \n            {selectedType !== 'all' ? selectedType.toLowerCase() : ''} events matching your criteria.\n          </p>\n          <button \n            class=\"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors\"\n            on:click={() => { selectedType = 'all'; selectedDateRange = 'upcoming'; }}\n          >\n            Reset Filters\n          </button>\n        </div>\n      {:else}\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {#each filteredEvents as event (event.id)}\n            <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col transition-shadow hover:shadow-md\">\n              {#if event.image}\n                <img src={event.image} alt={event.title} class=\"w-full h-40 object-cover\"/>\n              {:else}\n                 <div class=\"w-full h-40 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 flex items-center justify-center\">\n                    <i class=\"fas fa-calendar-star text-4xl text-purple-400 dark:text-purple-600\"></i>\n                 </div>\n              {/if}\n              <div class=\"p-5 flex-1 flex flex-col\">\n                <div class=\"mb-2\">\n                   <span class=\"inline-block bg-gray-100 dark:bg-gray-700 text-indigo-800 dark:text-indigo-300 text-xs font-medium px-2.5 py-0.5 rounded-full\">{event.type}</span>\n                </div>\n                <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2\">{event.title}</h3>\n                <p class=\"text-sm text-gray-500 dark:text-gray-400 mb-3\">\n                  <i class=\"fas fa-calendar-alt mr-1\"></i> {formatEventDateTime(event.date, event.startTime, event.endTime)}\n                </p>\n                 <p class=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\n                  <i class=\"fas fa-map-marker-alt mr-1\"></i> {event.location}\n                </p>\n                <p class=\"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-3 flex-1\">{event.description}</p>\n                \n                 {#if event.tags && event.tags.length > 0}\n                  <div class=\"flex flex-wrap gap-1 mb-4\">\n                    {#each event.tags as tag}\n                      <span class=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded text-xs\">\n                        #{tag}\n                      </span>\n                    {/each}\n                  </div>\n                {/if}\n                \n                <div class=\"mt-auto\">\n                  {#if new Date(event.date) < new Date()}\n                     <span class=\"w-full block text-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-md text-sm font-medium\">\n                        <i class=\"fas fa-history mr-2\"></i> Event Ended\n                     </span>\n                  {:else if event.isRegistered}\n                     <span class=\"w-full block text-center px-4 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-md text-sm font-medium\">\n                        <i class=\"fas fa-check-circle mr-2\"></i> Registered\n                     </span>\n                  {:else}\n                    <button \n                      on:click={() => handleRegistration(event.id)}\n                      class=\"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors flex items-center justify-center\"\n                    >\n                       <i class=\"fas fa-ticket-alt mr-2\"></i> Register\n                    </button>\n                  {/if}\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      {/if}\n\n    </div>\n  {/if}\n</div>\n\n<style>\n  .loader {\n    border: 4px solid rgba(0, 0, 0, 0.1);\n    border-left-color: #4f46e5;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n   .line-clamp-2 {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n   .line-clamp-3 {\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n   .aspect-video {\n    aspect-ratio: 16 / 9;\n  }\n</style> "],"names":[],"mappings":";;;;AAyGK,MAAA;MAjFC,YAA0B;AAAA;MAE1B,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,MACX,aAAa;AAAA,MACb,OAAO;AAAA,MACP,UAAU;AAAA,MACV,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,MAAO,CAAA,OAAO,YAAY,KAAK;AAAA,MAC/B,kBAAkB;AAAA;;MAGlB,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,MACX,SAAS;AAAA,MACT,aAAa;AAAA,MACb,OAAO;AAAA,MACP,UAAU;AAAA,MACV,WAAW;AAAA,MACX,cAAc;AAAA,MACd,MAAO,CAAA,oBAAoB,UAAU,UAAU;AAAA;;MAG/C,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,MACX,aAAa;AAAA,MACb,UAAU;AAAA,MACV,WAAW;AAAA,MACX,cAAc;AAAA,MACd,MAAI;AAAA,QAAG;AAAA,QAAiB;AAAA,QAAmB;AAAA;;;MAG3C,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,MACX,aAAa;AAAA,MACb,UAAU;AAAA,MACV,WAAW;AAAA,MACX,cAAc;AAAA,MACd,MAAI,CAAG,aAAa,QAAQ;AAAA;;MAG5B,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,MACX,SAAS;AAAA,MACT,aAAa;AAAA,MACb,OAAO;AAAA,MACP,UAAU;AAAA,MACV,WAAW;AAAA,MACX,cAAc;AAAA;AAAA,MACd,MAAO,CAAA,mBAAmB,eAAe,IAAI;AAAA;;AASjC;AAAA,IACd;AAAA,WACO,IAAI,UAAU,KAAI,UAAS,MAAM,IAAI,CAAA;AAAA;AAI3C,mBAAiB,UAAU,OAAM,CAAC,UAAS;AAGtC,UAAA,YAAgB,IAAA,KAAK,MAAM,IAAI;AAC/B,UAAA,4BAAY,KAAI;AACtB,UAAM,SAAS,GAAG,GAAG,GAAG,CAAC;AAErB,QAAA,cAAc;AACoB;AACpC,oBAAc,aAAa;AAAA,IAC7B;AAIO,WAAe;AAAA,GACvB,EAAE,KAAM,CAAA,GAAG,MAAC,IAAS,KAAK,EAAE,IAAI,EAAE,QAAO,IAAS,IAAA,KAAK,EAAE,IAAI,EAAE,SAAO;AAGpD,iBAAe,KAAI,CAAC,UAAS,MAAM,kBAAkB,KAAK,MAAM,IAAI,yBAAS,KAAI,CAAA;;;;;AAuCxF;;;;;;;"}