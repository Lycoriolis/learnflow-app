{"version":3,"file":"_layout.server.ts.js","sources":["../../../../../../src/routes/admin/+layout.server.ts"],"sourcesContent":["import { redirect } from '@sveltejs/kit';\nimport type { LayoutServerLoad } from './$types';\nimport { env } from '$env/dynamic/private';\n\nexport const load: LayoutServerLoad = async ({ locals }) => {\n    const user = locals.user;\n    const ADMIN_EMAILS = (env.VITE_ADMIN_EMAILS || '').split(',').map(email => email.trim());\n    \n    // Check if user exists and has an email, then check if it's in the admin list\n    if (!user || !user.email || !ADMIN_EMAILS.includes(user.email)) {\n        throw redirect(302, '/');\n    }\n    \n    return {\n        user\n    };\n};"],"names":["env"],"mappings":";;AAIO,MAAM,OAAyB,OAAO,EAAE,aAAa;AACxD,QAAM,OAAO,OAAO;AACd,QAAA,gBAAgBA,YAAI,qBAAqB,IAAI,MAAM,GAAG,EAAE,IAAI,CAAA,UAAS,MAAM,KAAA,CAAM;AAGnF,MAAA,CAAC,QAAQ,CAAC,KAAK,SAAS,CAAC,aAAa,SAAS,KAAK,KAAK,GAAG;AACtD,UAAA,SAAS,KAAK,GAAG;AAAA,EAAA;AAGpB,SAAA;AAAA,IACH;AAAA,EACJ;AACJ;"}